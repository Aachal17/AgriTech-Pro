var y1=Object.defineProperty;var Wv=e=>{throw TypeError(e)};var x1=(e,t,n)=>t in e?y1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>x1(e,typeof t!="symbol"?t+"":t,n),Wd=(e,t,n)=>t.has(e)||Wv("Cannot "+n);var z=(e,t,n)=>(Wd(e,t,"read from private field"),n?n.call(e):t.get(e)),kt=(e,t,n)=>t.has(e)?Wv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),at=(e,t,n,i)=>(Wd(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),we=(e,t,n)=>(Wd(e,t,"access private method"),n);var dc=(e,t,n,i)=>({set _(s){at(e,t,s,n)},get _(){return z(e,t,i)}});function Uw(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $w={exports:{}},wh={},Zw={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),b1=Symbol.for("react.portal"),S1=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),k1=Symbol.for("react.profiler"),E1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),M1=Symbol.for("react.suspense"),I1=Symbol.for("react.memo"),L1=Symbol.for("react.lazy"),Hv=Symbol.iterator;function N1(e){return e===null||typeof e!="object"?null:(e=Hv&&e[Hv]||e["@@iterator"],typeof e=="function"?e:null)}var Gw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kw=Object.assign,Yw={};function ko(e,t,n){this.props=e,this.context=t,this.refs=Yw,this.updater=n||Gw}ko.prototype.isReactComponent={};ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qw(){}qw.prototype=ko.prototype;function Tm(e,t,n){this.props=e,this.context=t,this.refs=Yw,this.updater=n||Gw}var Mm=Tm.prototype=new qw;Mm.constructor=Tm;Kw(Mm,ko.prototype);Mm.isPureReactComponent=!0;var Vv=Array.isArray,Qw=Object.prototype.hasOwnProperty,Im={current:null},Xw={key:!0,ref:!0,__self:!0,__source:!0};function Jw(e,t,n){var i,s={},r=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(r=""+t.key),t)Qw.call(t,i)&&!Xw.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Nl,type:e,key:r,ref:a,props:s,_owner:Im.current}}function O1(e,t){return{$$typeof:Nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nl}function A1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uv=/\/+/g;function Hd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A1(""+e.key):t.toString(36)}function Jc(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Nl:case b1:a=!0}}if(a)return a=e,s=s(a),e=i===""?"."+Hd(a,0):i,Vv(s)?(n="",e!=null&&(n=e.replace(Uv,"$&/")+"/"),Jc(s,t,n,"",function(h){return h})):s!=null&&(Lm(s)&&(s=O1(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Uv,"$&/")+"/")+e)),t.push(s)),1;if(a=0,i=i===""?".":i+":",Vv(e))for(var l=0;l<e.length;l++){r=e[l];var u=i+Hd(r,l);a+=Jc(r,t,n,u,s)}else if(u=N1(e),typeof u=="function")for(e=u.call(e),l=0;!(r=e.next()).done;)r=r.value,u=i+Hd(r,l++),a+=Jc(r,t,n,u,s);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function fc(e,t,n){if(e==null)return e;var i=[],s=0;return Jc(e,i,"","",function(r){return t.call(n,r,s++)}),i}function R1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},tu={transition:null},D1={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Im};function tb(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:fc,forEach:function(e,t,n){fc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fc(e,function(){t++}),t},toArray:function(e){return fc(e,function(t){return t})||[]},only:function(e){if(!Lm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=ko;yt.Fragment=S1;yt.Profiler=k1;yt.PureComponent=Tm;yt.StrictMode=C1;yt.Suspense=M1;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1;yt.act=tb;yt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Kw({},e.props),s=e.key,r=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,a=Im.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Qw.call(t,u)&&!Xw.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:Nl,type:e.type,key:s,ref:r,props:i,_owner:a}};yt.createContext=function(e){return e={$$typeof:P1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E1,_context:e},e.Consumer=e};yt.createElement=Jw;yt.createFactory=function(e){var t=Jw.bind(null,e);return t.type=e,t};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:T1,render:e}};yt.isValidElement=Lm;yt.lazy=function(e){return{$$typeof:L1,_payload:{_status:-1,_result:e},_init:R1}};yt.memo=function(e,t){return{$$typeof:I1,type:e,compare:t===void 0?null:t}};yt.startTransition=function(e){var t=tu.transition;tu.transition={};try{e()}finally{tu.transition=t}};yt.unstable_act=tb;yt.useCallback=function(e,t){return Fe.current.useCallback(e,t)};yt.useContext=function(e){return Fe.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};yt.useEffect=function(e,t){return Fe.current.useEffect(e,t)};yt.useId=function(){return Fe.current.useId()};yt.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};yt.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};yt.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};yt.useMemo=function(e,t){return Fe.current.useMemo(e,t)};yt.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};yt.useRef=function(e){return Fe.current.useRef(e)};yt.useState=function(e){return Fe.current.useState(e)};yt.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};yt.useTransition=function(){return Fe.current.useTransition()};yt.version="18.3.1";Zw.exports=yt;var O=Zw.exports;const Bi=Pm(O),F1=Uw({__proto__:null,default:Bi},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1=O,B1=Symbol.for("react.element"),j1=Symbol.for("react.fragment"),W1=Object.prototype.hasOwnProperty,H1=z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V1={key:!0,ref:!0,__self:!0,__source:!0};function eb(e,t,n){var i,s={},r=null,a=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)W1.call(t,i)&&!V1.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:B1,type:e,key:r,ref:a,props:s,_owner:H1.current}}wh.Fragment=j1;wh.jsx=eb;wh.jsxs=eb;$w.exports=wh;var E=$w.exports,nb={exports:{}},on={},ib={exports:{}},sb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,K){var W=F.length;F.push(K);t:for(;0<W;){var X=W-1>>>1,rt=F[X];if(0<s(rt,K))F[X]=K,F[W]=rt,W=X;else break t}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],W=F.pop();if(W!==K){F[0]=W;t:for(var X=0,rt=F.length,Pt=rt>>>1;X<Pt;){var dt=2*(X+1)-1,ft=F[dt],et=dt+1,Be=F[et];if(0>s(ft,W))et<rt&&0>s(Be,ft)?(F[X]=Be,F[et]=W,X=et):(F[X]=ft,F[dt]=W,X=dt);else if(et<rt&&0>s(Be,W))F[X]=Be,F[et]=W,X=et;else break t}}return K}function s(F,K){var W=F.sortIndex-K.sortIndex;return W!==0?W:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],f=1,p=null,g=3,v=!1,x=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var K=n(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=F)i(h),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(h)}}function P(F){if(y=!1,k(F),!x)if(n(u)!==null)x=!0,J(M);else{var K=n(h);K!==null&&ut(P,K.startTime-F)}}function M(F,K){x=!1,y&&(y=!1,w(A),A=-1),v=!0;var W=g;try{for(k(K),p=n(u);p!==null&&(!(p.expirationTime>K)||F&&!G());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var rt=X(p.expirationTime<=K);K=e.unstable_now(),typeof rt=="function"?p.callback=rt:p===n(u)&&i(u),k(K)}else i(u);p=n(u)}if(p!==null)var Pt=!0;else{var dt=n(h);dt!==null&&ut(P,dt.startTime-K),Pt=!1}return Pt}finally{p=null,g=W,v=!1}}var I=!1,N=null,A=-1,j=5,V=-1;function G(){return!(e.unstable_now()-V<j)}function U(){if(N!==null){var F=e.unstable_now();V=F;var K=!0;try{K=N(!0,F)}finally{K?bt():(I=!1,N=null)}}else I=!1}var bt;if(typeof b=="function")bt=function(){b(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,st=q.port2;q.port1.onmessage=U,bt=function(){st.postMessage(null)}}else bt=function(){S(U,0)};function J(F){N=F,I||(I=!0,bt())}function ut(F,K){A=S(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,J(M))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(F){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var W=g;g=K;try{return F()}finally{g=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=g;g=F;try{return K()}finally{g=W}},e.unstable_scheduleCallback=function(F,K,W){var X=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,F){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=W+rt,F={id:f++,callback:K,priorityLevel:F,startTime:W,expirationTime:rt,sortIndex:-1},W>X?(F.sortIndex=W,t(h,F),n(u)===null&&F===n(h)&&(y?(w(A),A=-1):y=!0,ut(P,W-X))):(F.sortIndex=rt,t(u,F),x||v||(x=!0,J(M))),F},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(F){var K=g;return function(){var W=g;g=K;try{return F.apply(this,arguments)}finally{g=W}}}})(sb);ib.exports=sb;var U1=ib.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=O,rn=U1;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rb=new Set,$a={};function fr(e,t){co(e,t),co(e+"Capture",t)}function co(e,t){for($a[e]=t,e=0;e<t.length;e++)rb.add(t[e])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=Object.prototype.hasOwnProperty,Z1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$v={},Zv={};function G1(e){return Zf.call(Zv,e)?!0:Zf.call($v,e)?!1:Z1.test(e)?Zv[e]=!0:($v[e]=!0,!1)}function K1(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y1(e,t,n,i){if(t===null||typeof t>"u"||K1(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,i,s,r,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nm=/[\-:]([a-z])/g;function Om(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nm,Om);xe[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nm,Om);xe[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nm,Om);xe[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Am(e,t,n,i){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y1(t,n,s,i)&&(n=null),i||s===null?G1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Mi=$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),ob=Symbol.for("react.provider"),ab=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),Fm=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),lb=Symbol.for("react.offscreen"),Gv=Symbol.iterator;function qo(e){return e===null||typeof e!="object"?null:(e=Gv&&e[Gv]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Object.assign,Vd;function ma(e){if(Vd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vd=t&&t[1]||""}return`
`+Vd+e}var Ud=!1;function $d(e,t){if(!e||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var i=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){i=h}e.call(t.prototype)}else{try{throw Error()}catch(h){i=h}e()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),r=i.stack.split(`
`),a=s.length-1,l=r.length-1;1<=a&&0<=l&&s[a]!==r[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==r[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==r[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ma(e):""}function q1(e){switch(e.tag){case 5:return ma(e.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return e=$d(e.type,!1),e;case 11:return e=$d(e.type.render,!1),e;case 1:return e=$d(e.type,!0),e;default:return""}}function qf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Ir:return"Portal";case Gf:return"Profiler";case Rm:return"StrictMode";case Kf:return"Suspense";case Yf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ab:return(e.displayName||"Context")+".Consumer";case ob:return(e._context.displayName||"Context")+".Provider";case Dm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fm:return t=e.displayName||null,t!==null?t:qf(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return qf(e(t))}catch{}}return null}function Q1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(t);case 8:return t===Rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X1(e){var t=cb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mc(e){e._valueTracker||(e._valueTracker=X1(e))}function ub(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=cb(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qf(e,t){var n=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kv(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ms(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hb(e,t){t=t.checked,t!=null&&Am(e,"checked",t,!1)}function Xf(e,t){hb(e,t);var n=ms(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jf(e,t.type,ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jf(e,t,n){(t!=="number"||Su(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ga=Array.isArray;function Vr(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ms(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function tp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(ga(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ms(n)}}function db(e,t){var n=ms(t.value),i=ms(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Qv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gc,pb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J1=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(e){J1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ka[t]=ka[e]})});function mb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ka.hasOwnProperty(e)&&ka[e]?(""+t).trim():t+"px"}function gb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=mb(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var tM=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(e,t){if(t){if(tM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function ip(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sp=null;function zm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rp=null,Ur=null,$r=null;function Xv(e){if(e=Rl(e)){if(typeof rp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Eh(t),rp(e.stateNode,e.type,t))}}function _b(e){Ur?$r?$r.push(e):$r=[e]:Ur=e}function vb(){if(Ur){var e=Ur,t=$r;if($r=Ur=null,Xv(e),t)for(e=0;e<t.length;e++)Xv(t[e])}}function yb(e,t){return e(t)}function xb(){}var Zd=!1;function wb(e,t,n){if(Zd)return e(t,n);Zd=!0;try{return yb(e,t,n)}finally{Zd=!1,(Ur!==null||$r!==null)&&(xb(),vb())}}function Ga(e,t){var n=e.stateNode;if(n===null)return null;var i=Eh(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var op=!1;if(bi)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){op=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{op=!1}function eM(e,t,n,i,s,r,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(f){this.onError(f)}}var Ea=!1,Cu=null,ku=!1,ap=null,nM={onError:function(e){Ea=!0,Cu=e}};function iM(e,t,n,i,s,r,a,l,u){Ea=!1,Cu=null,eM.apply(nM,arguments)}function sM(e,t,n,i,s,r,a,l,u){if(iM.apply(this,arguments),Ea){if(Ea){var h=Cu;Ea=!1,Cu=null}else throw Error(H(198));ku||(ku=!0,ap=h)}}function pr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jv(e){if(pr(e)!==e)throw Error(H(188))}function rM(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Jv(s),e;if(r===i)return Jv(s),t;r=r.sibling}throw Error(H(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==i)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Sb(e){return e=rM(e),e!==null?Cb(e):null}function Cb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cb(e);if(t!==null)return t;e=e.sibling}return null}var kb=rn.unstable_scheduleCallback,ty=rn.unstable_cancelCallback,oM=rn.unstable_shouldYield,aM=rn.unstable_requestPaint,te=rn.unstable_now,lM=rn.unstable_getCurrentPriorityLevel,Bm=rn.unstable_ImmediatePriority,Eb=rn.unstable_UserBlockingPriority,Eu=rn.unstable_NormalPriority,cM=rn.unstable_LowPriority,Pb=rn.unstable_IdlePriority,bh=null,qn=null;function uM(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(bh,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:fM,hM=Math.log,dM=Math.LN2;function fM(e){return e>>>=0,e===0?32:31-(hM(e)/dM|0)|0}var _c=64,vc=4194304;function _a(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pu(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?i=_a(l):(r&=a,r!==0&&(i=_a(r)))}else a=n&~s,a!==0?i=_a(a):r!==0&&(i=_a(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-On(t),s=1<<n,i|=e[n],t&=~s;return i}function pM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mM(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-On(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=pM(l,t)):u<=t&&(e.expiredLanes|=l),r&=~l}}function lp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tb(){var e=_c;return _c<<=1,!(_c&4194240)&&(_c=64),e}function Gd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ol(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function gM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-On(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}function jm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-On(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Mt=0;function Mb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ib,Wm,Lb,Nb,Ob,cp=!1,yc=[],ns=null,is=null,ss=null,Ka=new Map,Ya=new Map,Vi=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ey(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(t.pointerId)}}function Xo(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Rl(t),t!==null&&Wm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vM(e,t,n,i,s){switch(t){case"focusin":return ns=Xo(ns,e,t,n,i,s),!0;case"dragenter":return is=Xo(is,e,t,n,i,s),!0;case"mouseover":return ss=Xo(ss,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Ka.set(r,Xo(Ka.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Ya.set(r,Xo(Ya.get(r)||null,e,t,n,i,s)),!0}return!1}function Ab(e){var t=Hs(e.target);if(t!==null){var n=pr(t);if(n!==null){if(t=n.tag,t===13){if(t=bb(n),t!==null){e.blockedOn=t,Ob(e.priority,function(){Lb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=up(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);sp=i,n.target.dispatchEvent(i),sp=null}else return t=Rl(n),t!==null&&Wm(t),e.blockedOn=n,!1;t.shift()}return!0}function ny(e,t,n){eu(e)&&n.delete(t)}function yM(){cp=!1,ns!==null&&eu(ns)&&(ns=null),is!==null&&eu(is)&&(is=null),ss!==null&&eu(ss)&&(ss=null),Ka.forEach(ny),Ya.forEach(ny)}function Jo(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,yM)))}function qa(e){function t(s){return Jo(s,e)}if(0<yc.length){Jo(yc[0],e);for(var n=1;n<yc.length;n++){var i=yc[n];i.blockedOn===e&&(i.blockedOn=null)}}for(ns!==null&&Jo(ns,e),is!==null&&Jo(is,e),ss!==null&&Jo(ss,e),Ka.forEach(t),Ya.forEach(t),n=0;n<Vi.length;n++)i=Vi[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)Ab(n),n.blockedOn===null&&Vi.shift()}var Zr=Mi.ReactCurrentBatchConfig,Tu=!0;function xM(e,t,n,i){var s=Mt,r=Zr.transition;Zr.transition=null;try{Mt=1,Hm(e,t,n,i)}finally{Mt=s,Zr.transition=r}}function wM(e,t,n,i){var s=Mt,r=Zr.transition;Zr.transition=null;try{Mt=4,Hm(e,t,n,i)}finally{Mt=s,Zr.transition=r}}function Hm(e,t,n,i){if(Tu){var s=up(e,t,n,i);if(s===null)sf(e,t,i,Mu,n),ey(e,i);else if(vM(s,e,t,n,i))i.stopPropagation();else if(ey(e,i),t&4&&-1<_M.indexOf(e)){for(;s!==null;){var r=Rl(s);if(r!==null&&Ib(r),r=up(e,t,n,i),r===null&&sf(e,t,i,Mu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else sf(e,t,i,null,n)}}var Mu=null;function up(e,t,n,i){if(Mu=null,e=zm(i),e=Hs(e),e!==null)if(t=pr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mu=e,null}function Rb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lM()){case Bm:return 1;case Eb:return 4;case Eu:case cM:return 16;case Pb:return 536870912;default:return 16}default:return 16}}var qi=null,Vm=null,nu=null;function Db(){if(nu)return nu;var e,t=Vm,n=t.length,i,s="value"in qi?qi.value:qi.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return nu=s.slice(e,1<i?1-i:void 0)}function iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xc(){return!0}function iy(){return!1}function an(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?xc:iy,this.isPropagationStopped=iy,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),t}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Um=an(Eo),Al=Kt({},Eo,{view:0,detail:0}),bM=an(Al),Kd,Yd,ta,Sh=Kt({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$m,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(Kd=e.screenX-ta.screenX,Yd=e.screenY-ta.screenY):Yd=Kd=0,ta=e),Kd)},movementY:function(e){return"movementY"in e?e.movementY:Yd}}),sy=an(Sh),SM=Kt({},Sh,{dataTransfer:0}),CM=an(SM),kM=Kt({},Al,{relatedTarget:0}),qd=an(kM),EM=Kt({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),PM=an(EM),TM=Kt({},Eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MM=an(TM),IM=Kt({},Eo,{data:0}),ry=an(IM),LM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OM[e])?!!t[e]:!1}function $m(){return AM}var RM=Kt({},Al,{key:function(e){if(e.key){var t=LM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$m,charCode:function(e){return e.type==="keypress"?iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DM=an(RM),FM=Kt({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=an(FM),zM=Kt({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$m}),BM=an(zM),jM=Kt({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WM=an(jM),HM=Kt({},Sh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VM=an(HM),UM=[9,13,27,32],Zm=bi&&"CompositionEvent"in window,Pa=null;bi&&"documentMode"in document&&(Pa=document.documentMode);var $M=bi&&"TextEvent"in window&&!Pa,Fb=bi&&(!Zm||Pa&&8<Pa&&11>=Pa),ay=" ",ly=!1;function zb(e,t){switch(e){case"keyup":return UM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function ZM(e,t){switch(e){case"compositionend":return Bb(t);case"keypress":return t.which!==32?null:(ly=!0,ay);case"textInput":return e=t.data,e===ay&&ly?null:e;default:return null}}function GM(e,t){if(Nr)return e==="compositionend"||!Zm&&zb(e,t)?(e=Db(),nu=Vm=qi=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fb&&t.locale!=="ko"?null:t.data;default:return null}}var KM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KM[e.type]:t==="textarea"}function jb(e,t,n,i){_b(i),t=Iu(t,"onChange"),0<t.length&&(n=new Um("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ta=null,Qa=null;function YM(e){Qb(e,0)}function Ch(e){var t=Rr(e);if(ub(t))return e}function qM(e,t){if(e==="change")return t}var Wb=!1;if(bi){var Qd;if(bi){var Xd="oninput"in document;if(!Xd){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),Xd=typeof uy.oninput=="function"}Qd=Xd}else Qd=!1;Wb=Qd&&(!document.documentMode||9<document.documentMode)}function hy(){Ta&&(Ta.detachEvent("onpropertychange",Hb),Qa=Ta=null)}function Hb(e){if(e.propertyName==="value"&&Ch(Qa)){var t=[];jb(t,Qa,e,zm(e)),wb(YM,t)}}function QM(e,t,n){e==="focusin"?(hy(),Ta=t,Qa=n,Ta.attachEvent("onpropertychange",Hb)):e==="focusout"&&hy()}function XM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ch(Qa)}function JM(e,t){if(e==="click")return Ch(t)}function tI(e,t){if(e==="input"||e==="change")return Ch(t)}function eI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:eI;function Xa(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Zf.call(t,s)||!Fn(e[s],t[s]))return!1}return!0}function dy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fy(e,t){var n=dy(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=dy(n)}}function Vb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ub(){for(var e=window,t=Su();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Su(e.document)}return t}function Gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nI(e){var t=Ub(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vb(n.ownerDocument.documentElement,n)){if(i!==null&&Gm(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=fy(n,r);var a=fy(n,i);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iI=bi&&"documentMode"in document&&11>=document.documentMode,Or=null,hp=null,Ma=null,dp=!1;function py(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dp||Or==null||Or!==Su(i)||(i=Or,"selectionStart"in i&&Gm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ma&&Xa(Ma,i)||(Ma=i,i=Iu(hp,"onSelect"),0<i.length&&(t=new Um("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Or)))}function wc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},Jd={},$b={};bi&&($b=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function kh(e){if(Jd[e])return Jd[e];if(!Ar[e])return e;var t=Ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $b)return Jd[e]=t[n];return e}var Zb=kh("animationend"),Gb=kh("animationiteration"),Kb=kh("animationstart"),Yb=kh("transitionend"),qb=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(e,t){qb.set(e,t),fr(t,[e])}for(var tf=0;tf<my.length;tf++){var ef=my[tf],sI=ef.toLowerCase(),rI=ef[0].toUpperCase()+ef.slice(1);Ss(sI,"on"+rI)}Ss(Zb,"onAnimationEnd");Ss(Gb,"onAnimationIteration");Ss(Kb,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(Yb,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oI=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function gy(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,sM(i,t,void 0,e),e.currentTarget=null}function Qb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break t;gy(s,l,h),r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break t;gy(s,l,h),r=u}}}if(ku)throw e=ap,ku=!1,ap=null,e}function Ft(e,t){var n=t[_p];n===void 0&&(n=t[_p]=new Set);var i=e+"__bubble";n.has(i)||(Xb(t,e,2,!1),n.add(i))}function nf(e,t,n){var i=0;t&&(i|=4),Xb(n,e,i,t)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Ja(e){if(!e[bc]){e[bc]=!0,rb.forEach(function(n){n!=="selectionchange"&&(oI.has(n)||nf(n,!1,e),nf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bc]||(t[bc]=!0,nf("selectionchange",!1,t))}}function Xb(e,t,n,i){switch(Rb(t)){case 1:var s=xM;break;case 4:s=wM;break;default:s=Hm}n=s.bind(null,t,n,e),s=void 0,!op||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function sf(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Hs(l),a===null)return;if(u=a.tag,u===5||u===6){i=r=a;continue t}l=l.parentNode}}i=i.return}wb(function(){var h=r,f=zm(n),p=[];t:{var g=qb.get(e);if(g!==void 0){var v=Um,x=e;switch(e){case"keypress":if(iu(n)===0)break t;case"keydown":case"keyup":v=DM;break;case"focusin":x="focus",v=qd;break;case"focusout":x="blur",v=qd;break;case"beforeblur":case"afterblur":v=qd;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=CM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=BM;break;case Zb:case Gb:case Kb:v=PM;break;case Yb:v=WM;break;case"scroll":v=bM;break;case"wheel":v=VM;break;case"copy":case"cut":case"paste":v=MM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=oy}var y=(t&4)!==0,S=!y&&e==="scroll",w=y?g!==null?g+"Capture":null:g;y=[];for(var b=h,k;b!==null;){k=b;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,w!==null&&(P=Ga(b,w),P!=null&&y.push(tl(b,P,k)))),S)break;b=b.return}0<y.length&&(g=new v(g,x,null,n,f),p.push({event:g,listeners:y}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==sp&&(x=n.relatedTarget||n.fromElement)&&(Hs(x)||x[Si]))break t;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=h,x=x?Hs(x):null,x!==null&&(S=pr(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=h),v!==x)){if(y=sy,P="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=oy,P="onPointerLeave",w="onPointerEnter",b="pointer"),S=v==null?g:Rr(v),k=x==null?g:Rr(x),g=new y(P,b+"leave",v,n,f),g.target=S,g.relatedTarget=k,P=null,Hs(f)===h&&(y=new y(w,b+"enter",x,n,f),y.target=k,y.relatedTarget=S,P=y),S=P,v&&x)e:{for(y=v,w=x,b=0,k=y;k;k=Er(k))b++;for(k=0,P=w;P;P=Er(P))k++;for(;0<b-k;)y=Er(y),b--;for(;0<k-b;)w=Er(w),k--;for(;b--;){if(y===w||w!==null&&y===w.alternate)break e;y=Er(y),w=Er(w)}y=null}else y=null;v!==null&&_y(p,g,v,y,!1),x!==null&&S!==null&&_y(p,S,x,y,!0)}}t:{if(g=h?Rr(h):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var M=qM;else if(cy(g))if(Wb)M=tI;else{M=XM;var I=QM}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=JM);if(M&&(M=M(e,h))){jb(p,M,n,f);break t}I&&I(e,g,h),e==="focusout"&&(I=g._wrapperState)&&I.controlled&&g.type==="number"&&Jf(g,"number",g.value)}switch(I=h?Rr(h):window,e){case"focusin":(cy(I)||I.contentEditable==="true")&&(Or=I,hp=h,Ma=null);break;case"focusout":Ma=hp=Or=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,py(p,n,f);break;case"selectionchange":if(iI)break;case"keydown":case"keyup":py(p,n,f)}var N;if(Zm)t:{switch(e){case"compositionstart":var A="onCompositionStart";break t;case"compositionend":A="onCompositionEnd";break t;case"compositionupdate":A="onCompositionUpdate";break t}A=void 0}else Nr?zb(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Fb&&n.locale!=="ko"&&(Nr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Nr&&(N=Db()):(qi=f,Vm="value"in qi?qi.value:qi.textContent,Nr=!0)),I=Iu(h,A),0<I.length&&(A=new ry(A,e,null,n,f),p.push({event:A,listeners:I}),N?A.data=N:(N=Bb(n),N!==null&&(A.data=N)))),(N=$M?ZM(e,n):GM(e,n))&&(h=Iu(h,"onBeforeInput"),0<h.length&&(f=new ry("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=N))}Qb(p,t)})}function tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Iu(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Ga(e,n),r!=null&&i.unshift(tl(e,r,s)),r=Ga(e,t),r!=null&&i.push(tl(e,r,s))),e=e.return}return i}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _y(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&h!==null&&(l=h,s?(u=Ga(n,r),u!=null&&a.unshift(tl(n,u,l))):s||(u=Ga(n,r),u!=null&&a.push(tl(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var aI=/\r\n?/g,lI=/\u0000|\uFFFD/g;function vy(e){return(typeof e=="string"?e:""+e).replace(aI,`
`).replace(lI,"")}function Sc(e,t,n){if(t=vy(t),vy(e)!==t&&n)throw Error(H(425))}function Lu(){}var fp=null,pp=null;function mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,cI=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,uI=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(hI)}:gp;function hI(e){setTimeout(function(){throw e})}function rf(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),qa(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);qa(t)}function rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Po,el="__reactProps$"+Po,Si="__reactContainer$"+Po,_p="__reactEvents$"+Po,dI="__reactListeners$"+Po,fI="__reactHandles$"+Po;function Hs(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Si]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xy(e);e!==null;){if(n=e[Yn])return n;e=xy(e)}return t}e=n,n=e.parentNode}return null}function Rl(e){return e=e[Yn]||e[Si],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Eh(e){return e[el]||null}var vp=[],Dr=-1;function Cs(e){return{current:e}}function Bt(e){0>Dr||(e.current=vp[Dr],vp[Dr]=null,Dr--)}function Rt(e,t){Dr++,vp[Dr]=e.current,e.current=t}var gs={},Me=Cs(gs),Ge=Cs(!1),ir=gs;function uo(e,t){var n=e.type.contextTypes;if(!n)return gs;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=t[r];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(e){return e=e.childContextTypes,e!=null}function Nu(){Bt(Ge),Bt(Me)}function wy(e,t,n){if(Me.current!==gs)throw Error(H(168));Rt(Me,t),Rt(Ge,n)}function Jb(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(H(108,Q1(e)||"Unknown",s));return Kt({},n,i)}function Ou(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,ir=Me.current,Rt(Me,e),Rt(Ge,Ge.current),!0}function by(e,t,n){var i=e.stateNode;if(!i)throw Error(H(169));n?(e=Jb(e,t,ir),i.__reactInternalMemoizedMergedChildContext=e,Bt(Ge),Bt(Me),Rt(Me,e)):Bt(Ge),Rt(Ge,n)}var ui=null,Ph=!1,of=!1;function tS(e){ui===null?ui=[e]:ui.push(e)}function pI(e){Ph=!0,tS(e)}function ks(){if(!of&&ui!==null){of=!0;var e=0,t=Mt;try{var n=ui;for(Mt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ui=null,Ph=!1}catch(s){throw ui!==null&&(ui=ui.slice(e+1)),kb(Bm,ks),s}finally{Mt=t,of=!1}}return null}var Fr=[],zr=0,Au=null,Ru=0,fn=[],pn=0,sr=null,pi=1,mi="";function Ds(e,t){Fr[zr++]=Ru,Fr[zr++]=Au,Au=e,Ru=t}function eS(e,t,n){fn[pn++]=pi,fn[pn++]=mi,fn[pn++]=sr,sr=e;var i=pi;e=mi;var s=32-On(i)-1;i&=~(1<<s),n+=1;var r=32-On(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,pi=1<<32-On(t)+s|n<<s|i,mi=r+e}else pi=1<<r|n<<s|i,mi=e}function Km(e){e.return!==null&&(Ds(e,1),eS(e,1,0))}function Ym(e){for(;e===Au;)Au=Fr[--zr],Fr[zr]=null,Ru=Fr[--zr],Fr[zr]=null;for(;e===sr;)sr=fn[--pn],fn[pn]=null,mi=fn[--pn],fn[pn]=null,pi=fn[--pn],fn[pn]=null}var sn=null,nn=null,Ht=!1,Tn=null;function nS(e,t){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,nn=rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:pi,overflow:mi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,nn=null,!0):!1;default:return!1}}function yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xp(e){if(Ht){var t=nn;if(t){var n=t;if(!Sy(e,t)){if(yp(e))throw Error(H(418));t=rs(n.nextSibling);var i=sn;t&&Sy(e,t)?nS(i,n):(e.flags=e.flags&-4097|2,Ht=!1,sn=e)}}else{if(yp(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ht=!1,sn=e}}}function Cy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function Cc(e){if(e!==sn)return!1;if(!Ht)return Cy(e),Ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mp(e.type,e.memoizedProps)),t&&(t=nn)){if(yp(e))throw iS(),Error(H(418));for(;t;)nS(e,t),t=rs(t.nextSibling)}if(Cy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nn=rs(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=sn?rs(e.stateNode.nextSibling):null;return!0}function iS(){for(var e=nn;e;)e=rs(e.nextSibling)}function ho(){nn=sn=null,Ht=!1}function qm(e){Tn===null?Tn=[e]:Tn.push(e)}var mI=Mi.ReactCurrentBatchConfig;function ea(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var i=n.stateNode}if(!i)throw Error(H(147,e));var s=i,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(a){var l=s.refs;a===null?delete l[r]:l[r]=a},t._stringRef=r,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function kc(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ky(e){var t=e._init;return t(e._payload)}function sS(e){function t(w,b){if(e){var k=w.deletions;k===null?(w.deletions=[b],w.flags|=16):k.push(b)}}function n(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function i(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=cs(w,b),w.index=0,w.sibling=null,w}function r(w,b,k){return w.index=k,e?(k=w.alternate,k!==null?(k=k.index,k<b?(w.flags|=2,b):k):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,b,k,P){return b===null||b.tag!==6?(b=ff(k,w.mode,P),b.return=w,b):(b=s(b,k),b.return=w,b)}function u(w,b,k,P){var M=k.type;return M===Lr?f(w,b,k.props.children,P,k.key):b!==null&&(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Wi&&ky(M)===b.type)?(P=s(b,k.props),P.ref=ea(w,b,k),P.return=w,P):(P=uu(k.type,k.key,k.props,null,w.mode,P),P.ref=ea(w,b,k),P.return=w,P)}function h(w,b,k,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==k.containerInfo||b.stateNode.implementation!==k.implementation?(b=pf(k,w.mode,P),b.return=w,b):(b=s(b,k.children||[]),b.return=w,b)}function f(w,b,k,P,M){return b===null||b.tag!==7?(b=tr(k,w.mode,P,M),b.return=w,b):(b=s(b,k),b.return=w,b)}function p(w,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ff(""+b,w.mode,k),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pc:return k=uu(b.type,b.key,b.props,null,w.mode,k),k.ref=ea(w,null,b),k.return=w,k;case Ir:return b=pf(b,w.mode,k),b.return=w,b;case Wi:var P=b._init;return p(w,P(b._payload),k)}if(ga(b)||qo(b))return b=tr(b,w.mode,k,null),b.return=w,b;kc(w,b)}return null}function g(w,b,k,P){var M=b!==null?b.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return M!==null?null:l(w,b,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pc:return k.key===M?u(w,b,k,P):null;case Ir:return k.key===M?h(w,b,k,P):null;case Wi:return M=k._init,g(w,b,M(k._payload),P)}if(ga(k)||qo(k))return M!==null?null:f(w,b,k,P,null);kc(w,k)}return null}function v(w,b,k,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(k)||null,l(b,w,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case pc:return w=w.get(P.key===null?k:P.key)||null,u(b,w,P,M);case Ir:return w=w.get(P.key===null?k:P.key)||null,h(b,w,P,M);case Wi:var I=P._init;return v(w,b,k,I(P._payload),M)}if(ga(P)||qo(P))return w=w.get(k)||null,f(b,w,P,M,null);kc(b,P)}return null}function x(w,b,k,P){for(var M=null,I=null,N=b,A=b=0,j=null;N!==null&&A<k.length;A++){N.index>A?(j=N,N=null):j=N.sibling;var V=g(w,N,k[A],P);if(V===null){N===null&&(N=j);break}e&&N&&V.alternate===null&&t(w,N),b=r(V,b,A),I===null?M=V:I.sibling=V,I=V,N=j}if(A===k.length)return n(w,N),Ht&&Ds(w,A),M;if(N===null){for(;A<k.length;A++)N=p(w,k[A],P),N!==null&&(b=r(N,b,A),I===null?M=N:I.sibling=N,I=N);return Ht&&Ds(w,A),M}for(N=i(w,N);A<k.length;A++)j=v(N,w,A,k[A],P),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?A:j.key),b=r(j,b,A),I===null?M=j:I.sibling=j,I=j);return e&&N.forEach(function(G){return t(w,G)}),Ht&&Ds(w,A),M}function y(w,b,k,P){var M=qo(k);if(typeof M!="function")throw Error(H(150));if(k=M.call(k),k==null)throw Error(H(151));for(var I=M=null,N=b,A=b=0,j=null,V=k.next();N!==null&&!V.done;A++,V=k.next()){N.index>A?(j=N,N=null):j=N.sibling;var G=g(w,N,V.value,P);if(G===null){N===null&&(N=j);break}e&&N&&G.alternate===null&&t(w,N),b=r(G,b,A),I===null?M=G:I.sibling=G,I=G,N=j}if(V.done)return n(w,N),Ht&&Ds(w,A),M;if(N===null){for(;!V.done;A++,V=k.next())V=p(w,V.value,P),V!==null&&(b=r(V,b,A),I===null?M=V:I.sibling=V,I=V);return Ht&&Ds(w,A),M}for(N=i(w,N);!V.done;A++,V=k.next())V=v(N,w,A,V.value,P),V!==null&&(e&&V.alternate!==null&&N.delete(V.key===null?A:V.key),b=r(V,b,A),I===null?M=V:I.sibling=V,I=V);return e&&N.forEach(function(U){return t(w,U)}),Ht&&Ds(w,A),M}function S(w,b,k,P){if(typeof k=="object"&&k!==null&&k.type===Lr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case pc:t:{for(var M=k.key,I=b;I!==null;){if(I.key===M){if(M=k.type,M===Lr){if(I.tag===7){n(w,I.sibling),b=s(I,k.props.children),b.return=w,w=b;break t}}else if(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Wi&&ky(M)===I.type){n(w,I.sibling),b=s(I,k.props),b.ref=ea(w,I,k),b.return=w,w=b;break t}n(w,I);break}else t(w,I);I=I.sibling}k.type===Lr?(b=tr(k.props.children,w.mode,P,k.key),b.return=w,w=b):(P=uu(k.type,k.key,k.props,null,w.mode,P),P.ref=ea(w,b,k),P.return=w,w=P)}return a(w);case Ir:t:{for(I=k.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===k.containerInfo&&b.stateNode.implementation===k.implementation){n(w,b.sibling),b=s(b,k.children||[]),b.return=w,w=b;break t}else{n(w,b);break}else t(w,b);b=b.sibling}b=pf(k,w.mode,P),b.return=w,w=b}return a(w);case Wi:return I=k._init,S(w,b,I(k._payload),P)}if(ga(k))return x(w,b,k,P);if(qo(k))return y(w,b,k,P);kc(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,b!==null&&b.tag===6?(n(w,b.sibling),b=s(b,k),b.return=w,w=b):(n(w,b),b=ff(k,w.mode,P),b.return=w,w=b),a(w)):n(w,b)}return S}var fo=sS(!0),rS=sS(!1),Du=Cs(null),Fu=null,Br=null,Qm=null;function Xm(){Qm=Br=Fu=null}function Jm(e){var t=Du.current;Bt(Du),e._currentValue=t}function wp(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Gr(e,t){Fu=e,Qm=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function _n(e){var t=e._currentValue;if(Qm!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(Fu===null)throw Error(H(308));Br=e,Fu.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var Vs=null;function tg(e){Vs===null?Vs=[e]:Vs.push(e)}function oS(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,tg(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ci(e,i)}function Ci(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hi=!1;function eg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,St&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ci(e,n)}return s=i.interleaved,s===null?(t.next=t,tg(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ci(e,n)}function su(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jm(e,n)}}function Ey(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zu(e,t,n,i){var s=e.updateQueue;Hi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,f=h=u=null,l=r;do{var g=l.lane,v=l.eventTime;if((i&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var x=e,y=l;switch(g=t,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(v,p,g);break t}p=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,g=typeof x=="function"?x.call(v,p,g):x,g==null)break t;p=Kt({},p,g);break t;case 2:Hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=v,u=p):f=f.next=v,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);or|=a,e.lanes=a,e.memoizedState=p}}function Py(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(H(191,s));s.call(i)}}}var Dl={},Qn=Cs(Dl),nl=Cs(Dl),il=Cs(Dl);function Us(e){if(e===Dl)throw Error(H(174));return e}function ng(e,t){switch(Rt(il,t),Rt(nl,e),Rt(Qn,Dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ep(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ep(t,e)}Bt(Qn),Rt(Qn,t)}function po(){Bt(Qn),Bt(nl),Bt(il)}function lS(e){Us(il.current);var t=Us(Qn.current),n=ep(t,e.type);t!==n&&(Rt(nl,e),Rt(Qn,n))}function ig(e){nl.current===e&&(Bt(Qn),Bt(nl))}var Zt=Cs(0);function Bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var af=[];function sg(){for(var e=0;e<af.length;e++)af[e]._workInProgressVersionPrimary=null;af.length=0}var ru=Mi.ReactCurrentDispatcher,lf=Mi.ReactCurrentBatchConfig,rr=0,Gt=null,re=null,de=null,ju=!1,Ia=!1,sl=0,gI=0;function be(){throw Error(H(321))}function rg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fn(e[n],t[n]))return!1;return!0}function og(e,t,n,i,s,r){if(rr=r,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ru.current=e===null||e.memoizedState===null?xI:wI,e=n(i,s),Ia){r=0;do{if(Ia=!1,sl=0,25<=r)throw Error(H(301));r+=1,de=re=null,t.updateQueue=null,ru.current=bI,e=n(i,s)}while(Ia)}if(ru.current=Wu,t=re!==null&&re.next!==null,rr=0,de=re=Gt=null,ju=!1,t)throw Error(H(300));return e}function ag(){var e=sl!==0;return sl=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Gt.memoizedState=de=e:de=de.next=e,de}function vn(){if(re===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=de===null?Gt.memoizedState:de.next;if(t!==null)de=t,re=e;else{if(e===null)throw Error(H(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},de===null?Gt.memoizedState=de=e:de=de.next=e}return de}function rl(e,t){return typeof t=="function"?t(e):t}function cf(e){var t=vn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var i=re,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=a=null,u=null,h=r;do{var f=h.lane;if((rr&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,a=i):u=u.next=p,Gt.lanes|=f,or|=f}h=h.next}while(h!==null&&h!==r);u===null?a=i:u.next=l,Fn(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do r=s.lane,Gt.lanes|=r,or|=r,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uf(e){var t=vn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);Fn(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function cS(){}function uS(e,t){var n=Gt,i=vn(),s=t(),r=!Fn(i.memoizedState,s);if(r&&(i.memoizedState=s,$e=!0),i=i.queue,lg(fS.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,ol(9,dS.bind(null,n,i,s,t),void 0,null),ge===null)throw Error(H(349));rr&30||hS(n,t,s)}return s}function hS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dS(e,t,n,i){t.value=n,t.getSnapshot=i,pS(t)&&mS(e)}function fS(e,t,n){return n(function(){pS(t)&&mS(e)})}function pS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fn(e,n)}catch{return!0}}function mS(e){var t=Ci(e,1);t!==null&&An(t,e,1,-1)}function Ty(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t.queue=e,e=e.dispatch=yI.bind(null,Gt,e),[t.memoizedState,e]}function ol(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function gS(){return vn().memoizedState}function ou(e,t,n,i){var s=Un();Gt.flags|=e,s.memoizedState=ol(1|t,n,void 0,i===void 0?null:i)}function Th(e,t,n,i){var s=vn();i=i===void 0?null:i;var r=void 0;if(re!==null){var a=re.memoizedState;if(r=a.destroy,i!==null&&rg(i,a.deps)){s.memoizedState=ol(t,n,r,i);return}}Gt.flags|=e,s.memoizedState=ol(1|t,n,r,i)}function My(e,t){return ou(8390656,8,e,t)}function lg(e,t){return Th(2048,8,e,t)}function _S(e,t){return Th(4,2,e,t)}function vS(e,t){return Th(4,4,e,t)}function yS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xS(e,t,n){return n=n!=null?n.concat([e]):null,Th(4,4,yS.bind(null,t,e),n)}function cg(){}function wS(e,t){var n=vn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&rg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function bS(e,t){var n=vn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&rg(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function SS(e,t,n){return rr&21?(Fn(n,t)||(n=Tb(),Gt.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function _I(e,t){var n=Mt;Mt=n!==0&&4>n?n:4,e(!0);var i=lf.transition;lf.transition={};try{e(!1),t()}finally{Mt=n,lf.transition=i}}function CS(){return vn().memoizedState}function vI(e,t,n){var i=ls(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},kS(e))ES(t,n);else if(n=oS(e,t,n,i),n!==null){var s=De();An(n,e,i,s),PS(n,t,i)}}function yI(e,t,n){var i=ls(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(kS(e))ES(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,Fn(l,a)){var u=t.interleaved;u===null?(s.next=s,tg(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=oS(e,t,s,i),n!==null&&(s=De(),An(n,e,i,s),PS(n,t,i))}}function kS(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function ES(e,t){Ia=ju=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function PS(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jm(e,n)}}var Wu={readContext:_n,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},xI={readContext:_n,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:_n,useEffect:My,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ou(4194308,4,yS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ou(4194308,4,e,t)},useInsertionEffect:function(e,t){return ou(4,2,e,t)},useMemo:function(e,t){var n=Un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Un();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=vI.bind(null,Gt,e),[i.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:Ty,useDebugValue:cg,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=Ty(!1),t=e[0];return e=_I.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Gt,s=Un();if(Ht){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),ge===null)throw Error(H(349));rr&30||hS(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,My(fS.bind(null,i,r,e),[e]),i.flags|=2048,ol(9,dS.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=Un(),t=ge.identifierPrefix;if(Ht){var n=mi,i=pi;n=(i&~(1<<32-On(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=sl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wI={readContext:_n,useCallback:wS,useContext:_n,useEffect:lg,useImperativeHandle:xS,useInsertionEffect:_S,useLayoutEffect:vS,useMemo:bS,useReducer:cf,useRef:gS,useState:function(){return cf(rl)},useDebugValue:cg,useDeferredValue:function(e){var t=vn();return SS(t,re.memoizedState,e)},useTransition:function(){var e=cf(rl)[0],t=vn().memoizedState;return[e,t]},useMutableSource:cS,useSyncExternalStore:uS,useId:CS,unstable_isNewReconciler:!1},bI={readContext:_n,useCallback:wS,useContext:_n,useEffect:lg,useImperativeHandle:xS,useInsertionEffect:_S,useLayoutEffect:vS,useMemo:bS,useReducer:uf,useRef:gS,useState:function(){return uf(rl)},useDebugValue:cg,useDeferredValue:function(e){var t=vn();return re===null?t.memoizedState=e:SS(t,re.memoizedState,e)},useTransition:function(){var e=uf(rl)[0],t=vn().memoizedState;return[e,t]},useMutableSource:cS,useSyncExternalStore:uS,useId:CS,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=Kt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bp(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Kt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mh={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=De(),s=ls(e),r=xi(i,s);r.payload=t,n!=null&&(r.callback=n),t=os(e,r,s),t!==null&&(An(t,e,s,i),su(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=De(),s=ls(e),r=xi(i,s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=os(e,r,s),t!==null&&(An(t,e,s,i),su(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),i=ls(e),s=xi(n,i);s.tag=2,t!=null&&(s.callback=t),t=os(e,s,i),t!==null&&(An(t,e,i,n),su(t,e,i))}};function Iy(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Xa(n,i)||!Xa(s,r):!0}function TS(e,t,n){var i=!1,s=gs,r=t.contextType;return typeof r=="object"&&r!==null?r=_n(r):(s=Ke(t)?ir:Me.current,i=t.contextTypes,r=(i=i!=null)?uo(e,s):gs),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mh,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function Ly(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Mh.enqueueReplaceState(t,t.state,null)}function Sp(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},eg(e);var r=t.contextType;typeof r=="object"&&r!==null?s.context=_n(r):(r=Ke(t)?ir:Me.current,s.context=uo(e,r)),s.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(bp(e,t,r,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mh.enqueueReplaceState(s,s.state,null),zu(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var n="",i=t;do n+=q1(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:s,digest:null}}function hf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var SI=typeof WeakMap=="function"?WeakMap:Map;function MS(e,t,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Vu||(Vu=!0,Ap=i),Cp(e,t)},n}function IS(e,t,n){n=xi(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Cp(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Cp(e,t),typeof i!="function"&&(as===null?as=new Set([this]):as.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ny(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new SI;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=FI.bind(null,e,t,n),t.then(e,e))}function Oy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ay(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xi(-1,1),t.tag=2,os(n,t,1))),n.lanes|=1),e)}var CI=Mi.ReactCurrentOwner,$e=!1;function Oe(e,t,n,i){t.child=e===null?rS(t,null,n,i):fo(t,e.child,n,i)}function Ry(e,t,n,i,s){n=n.render;var r=t.ref;return Gr(t,s),i=og(e,t,n,i,r,s),n=ag(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ki(e,t,s)):(Ht&&n&&Km(t),t.flags|=1,Oe(e,t,i,s),t.child)}function Dy(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!_g(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,LS(e,t,r,i,s)):(e=uu(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(a,i)&&e.ref===t.ref)return ki(e,t,s)}return t.flags|=1,e=cs(r,i),e.ref=t.ref,e.return=t,t.child=e}function LS(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Xa(r,i)&&e.ref===t.ref)if($e=!1,t.pendingProps=i=r,(e.lanes&s)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,ki(e,t,s)}return kp(e,t,n,i,s)}function NS(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Wr,tn),tn|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Wr,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Rt(Wr,tn),tn|=i}else r!==null?(i=r.baseLanes|n,t.memoizedState=null):i=n,Rt(Wr,tn),tn|=i;return Oe(e,t,s,n),t.child}function OS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kp(e,t,n,i,s){var r=Ke(n)?ir:Me.current;return r=uo(t,r),Gr(t,s),n=og(e,t,n,i,r,s),i=ag(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ki(e,t,s)):(Ht&&i&&Km(t),t.flags|=1,Oe(e,t,n,s),t.child)}function Fy(e,t,n,i,s){if(Ke(n)){var r=!0;Ou(t)}else r=!1;if(Gr(t,s),t.stateNode===null)au(e,t),TS(t,n,i),Sp(t,n,i,s),i=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=_n(h):(h=Ke(n)?ir:Me.current,h=uo(t,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||u!==h)&&Ly(t,a,i,h),Hi=!1;var g=t.memoizedState;a.state=g,zu(t,i,a,s),u=t.memoizedState,l!==i||g!==u||Ge.current||Hi?(typeof f=="function"&&(bp(t,n,f,i),u=t.memoizedState),(l=Hi||Iy(t,n,l,i,g,u,h))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=h,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,aS(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Sn(t.type,l),a.props=h,p=t.pendingProps,g=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=_n(u):(u=Ke(n)?ir:Me.current,u=uo(t,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||g!==u)&&Ly(t,a,i,u),Hi=!1,g=t.memoizedState,a.state=g,zu(t,i,a,s);var x=t.memoizedState;l!==p||g!==x||Ge.current||Hi?(typeof v=="function"&&(bp(t,n,v,i),x=t.memoizedState),(h=Hi||Iy(t,n,h,i,g,x,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=x),a.props=i,a.state=x,a.context=u,i=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return Ep(e,t,n,i,r,s)}function Ep(e,t,n,i,s,r){OS(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&by(t,n,!1),ki(e,t,r);i=t.stateNode,CI.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=fo(t,e.child,null,r),t.child=fo(t,null,l,r)):Oe(e,t,l,r),t.memoizedState=i.state,s&&by(t,n,!0),t.child}function AS(e){var t=e.stateNode;t.pendingContext?wy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wy(e,t.context,!1),ng(e,t.containerInfo)}function zy(e,t,n,i,s){return ho(),qm(s),t.flags|=256,Oe(e,t,n,i),t.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Tp(e){return{baseLanes:e,cachePool:null,transitions:null}}function RS(e,t,n){var i=t.pendingProps,s=Zt.current,r=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Rt(Zt,s&1),e===null)return xp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,r?(i=t.mode,r=t.child,a={mode:"hidden",children:a},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Nh(a,i,0,null),e=tr(e,i,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=Tp(n),t.memoizedState=Pp,e):ug(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return kI(e,t,a,i,l,s,n);if(r){r=i.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=cs(s,u),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=cs(l,r):(r=tr(r,a,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,a=e.child.memoizedState,a=a===null?Tp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=e.childLanes&~n,t.memoizedState=Pp,i}return r=e.child,e=r.sibling,i=cs(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ug(e,t){return t=Nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ec(e,t,n,i){return i!==null&&qm(i),fo(t,e.child,null,n),e=ug(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kI(e,t,n,i,s,r,a){if(n)return t.flags&256?(t.flags&=-257,i=hf(Error(H(422))),Ec(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=Nh({mode:"visible",children:i.children},s,0,null),r=tr(r,s,a,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&fo(t,e.child,null,a),t.child.memoizedState=Tp(a),t.memoizedState=Pp,r);if(!(t.mode&1))return Ec(e,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(H(419)),i=hf(r,i,void 0),Ec(e,t,a,i)}if(l=(a&e.childLanes)!==0,$e||l){if(i=ge,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Ci(e,s),An(i,e,s,-1))}return gg(),i=hf(Error(H(421))),Ec(e,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=zI.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,nn=rs(s.nextSibling),sn=t,Ht=!0,Tn=null,e!==null&&(fn[pn++]=pi,fn[pn++]=mi,fn[pn++]=sr,pi=e.id,mi=e.overflow,sr=t),t=ug(t,i.children),t.flags|=4096,t)}function By(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),wp(e.return,t,n)}function df(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function DS(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(Oe(e,t,i.children,n),i=Zt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&By(e,n,t);else if(e.tag===19)By(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Rt(Zt,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Bu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),df(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}df(t,!0,n,null,r);break;case"together":df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ki(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function EI(e,t,n){switch(t.tag){case 3:AS(t),ho();break;case 5:lS(t);break;case 1:Ke(t.type)&&Ou(t);break;case 4:ng(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Rt(Du,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Rt(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?RS(e,t,n):(Rt(Zt,Zt.current&1),e=ki(e,t,n),e!==null?e.sibling:null);Rt(Zt,Zt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return DS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Rt(Zt,Zt.current),i)break;return null;case 22:case 23:return t.lanes=0,NS(e,t,n)}return ki(e,t,n)}var FS,Mp,zS,BS;FS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mp=function(){};zS=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Us(Qn.current);var r=null;switch(n){case"input":s=Qf(e,s),i=Qf(e,i),r=[];break;case"select":s=Kt({},s,{value:void 0}),i=Kt({},i,{value:void 0}),r=[];break;case"textarea":s=tp(e,s),i=tp(e,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Lu)}np(n,i);var a;n=null;for(h in s)if(!i.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&($a.hasOwnProperty(h)?r||(r=[]):(r=r||[]).push(h,null));for(h in i){var u=i[h];if(l=s!=null?s[h]:void 0,i.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(r||(r=[]),r.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(r=r||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(r=r||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&($a.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Ft("scroll",e),r||l===u||(r=[])):(r=r||[]).push(h,u))}n&&(r=r||[]).push("style",n);var h=r;(t.updateQueue=h)&&(t.flags|=4)}};BS=function(e,t,n,i){n!==i&&(t.flags|=4)};function na(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function PI(e,t,n){var i=t.pendingProps;switch(Ym(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ke(t.type)&&Nu(),Se(t),null;case 3:return i=t.stateNode,po(),Bt(Ge),Bt(Me),sg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Cc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(Fp(Tn),Tn=null))),Mp(e,t),Se(t),null;case 5:ig(t);var s=Us(il.current);if(n=t.type,e!==null&&t.stateNode!=null)zS(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(H(166));return Se(t),null}if(e=Us(Qn.current),Cc(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[Yn]=t,i[el]=r,e=(t.mode&1)!==0,n){case"dialog":Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":case"embed":Ft("load",i);break;case"video":case"audio":for(s=0;s<va.length;s++)Ft(va[s],i);break;case"source":Ft("error",i);break;case"img":case"image":case"link":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"input":Kv(i,r),Ft("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Ft("invalid",i);break;case"textarea":qv(i,r),Ft("invalid",i)}np(n,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];a==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&Sc(i.textContent,l,e),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&Sc(i.textContent,l,e),s=["children",""+l]):$a.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ft("scroll",i)}switch(n){case"input":mc(i),Yv(i,r,!0);break;case"textarea":mc(i),Qv(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Lu)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),n==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[Yn]=t,e[el]=i,FS(e,t,!1,!1),t.stateNode=e;t:{switch(a=ip(n,i),n){case"dialog":Ft("cancel",e),Ft("close",e),s=i;break;case"iframe":case"object":case"embed":Ft("load",e),s=i;break;case"video":case"audio":for(s=0;s<va.length;s++)Ft(va[s],e);s=i;break;case"source":Ft("error",e),s=i;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),s=i;break;case"details":Ft("toggle",e),s=i;break;case"input":Kv(e,i),s=Qf(e,i),Ft("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Kt({},i,{value:void 0}),Ft("invalid",e);break;case"textarea":qv(e,i),s=tp(e,i),Ft("invalid",e);break;default:s=i}np(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var u=l[r];r==="style"?gb(e,u):r==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&pb(e,u)):r==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Za(e,u):typeof u=="number"&&Za(e,""+u):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&($a.hasOwnProperty(r)?u!=null&&r==="onScroll"&&Ft("scroll",e):u!=null&&Am(e,r,u,a))}switch(n){case"input":mc(e),Yv(e,i,!1);break;case"textarea":mc(e),Qv(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ms(i.value));break;case"select":e.multiple=!!i.multiple,r=i.value,r!=null?Vr(e,!!i.multiple,r,!1):i.defaultValue!=null&&Vr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)BS(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(H(166));if(n=Us(il.current),Us(Qn.current),Cc(t)){if(i=t.stateNode,n=t.memoizedProps,i[Yn]=t,(r=i.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:Sc(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sc(i.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yn]=t,t.stateNode=i}return Se(t),null;case 13:if(Bt(Zt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&nn!==null&&t.mode&1&&!(t.flags&128))iS(),ho(),t.flags|=98560,r=!1;else if(r=Cc(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(H(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(H(317));r[Yn]=t}else ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),r=!1}else Tn!==null&&(Fp(Tn),Tn=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?le===0&&(le=3):gg())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return po(),Mp(e,t),e===null&&Ja(t.stateNode.containerInfo),Se(t),null;case 10:return Jm(t.type._context),Se(t),null;case 17:return Ke(t.type)&&Nu(),Se(t),null;case 19:if(Bt(Zt),r=t.memoizedState,r===null)return Se(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)na(r,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Bu(e),a!==null){for(t.flags|=128,na(r,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)r=n,e=i,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,e=a.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rt(Zt,Zt.current&1|2),t.child}e=e.sibling}r.tail!==null&&te()>go&&(t.flags|=128,i=!0,na(r,!1),t.lanes=4194304)}else{if(!i)if(e=Bu(a),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),na(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ht)return Se(t),null}else 2*te()-r.renderingStartTime>go&&n!==1073741824&&(t.flags|=128,i=!0,na(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,n=Zt.current,Rt(Zt,i?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return mg(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?tn&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function TI(e,t){switch(Ym(t),t.tag){case 1:return Ke(t.type)&&Nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return po(),Bt(Ge),Bt(Me),sg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ig(t),null;case 13:if(Bt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(Zt),null;case 4:return po(),null;case 10:return Jm(t.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Pc=!1,Ee=!1,MI=typeof WeakSet=="function"?WeakSet:Set,Q=null;function jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){qt(e,t,i)}else n.current=null}function Ip(e,t,n){try{n()}catch(i){qt(e,t,i)}}var jy=!1;function II(e,t){if(fp=Tu,e=Ub(),Gm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,f=0,p=e,g=null;e:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===e)break e;if(g===n&&++h===s&&(l=a),g===r&&++f===i&&(u=a),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:e,selectionRange:n},Tu=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,S=x.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Sn(t.type,y),S);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){qt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return x=jy,jy=!1,x}function La(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,r!==void 0&&Ip(t,n,r)}s=s.next}while(s!==i)}}function Ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Lp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jS(e){var t=e.alternate;t!==null&&(e.alternate=null,jS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[el],delete t[_p],delete t[dI],delete t[fI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WS(e){return e.tag===5||e.tag===3||e.tag===4}function Wy(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||WS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Np(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lu));else if(i!==4&&(e=e.child,e!==null))for(Np(e,t,n),e=e.sibling;e!==null;)Np(e,t,n),e=e.sibling}function Op(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Op(e,t,n),e=e.sibling;e!==null;)Op(e,t,n),e=e.sibling}var ve=null,Pn=!1;function Di(e,t,n){for(n=n.child;n!==null;)HS(e,t,n),n=n.sibling}function HS(e,t,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(bh,n)}catch{}switch(n.tag){case 5:Ee||jr(n,t);case 6:var i=ve,s=Pn;ve=null,Di(e,t,n),ve=i,Pn=s,ve!==null&&(Pn?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(Pn?(e=ve,n=n.stateNode,e.nodeType===8?rf(e.parentNode,n):e.nodeType===1&&rf(e,n),qa(e)):rf(ve,n.stateNode));break;case 4:i=ve,s=Pn,ve=n.stateNode.containerInfo,Pn=!0,Di(e,t,n),ve=i,Pn=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Ip(n,t,a),s=s.next}while(s!==i)}Di(e,t,n);break;case 1:if(!Ee&&(jr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){qt(n,t,l)}Di(e,t,n);break;case 21:Di(e,t,n);break;case 22:n.mode&1?(Ee=(i=Ee)||n.memoizedState!==null,Di(e,t,n),Ee=i):Di(e,t,n);break;default:Di(e,t,n)}}function Hy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new MI),t.forEach(function(i){var s=BI.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,Pn=!1;break t;case 3:ve=l.stateNode.containerInfo,Pn=!0;break t;case 4:ve=l.stateNode.containerInfo,Pn=!0;break t}l=l.return}if(ve===null)throw Error(H(160));HS(r,a,s),ve=null,Pn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){qt(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)VS(t,e),t=t.sibling}function VS(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Hn(e),i&4){try{La(3,e,e.return),Ih(3,e)}catch(y){qt(e,e.return,y)}try{La(5,e,e.return)}catch(y){qt(e,e.return,y)}}break;case 1:bn(t,e),Hn(e),i&512&&n!==null&&jr(n,n.return);break;case 5:if(bn(t,e),Hn(e),i&512&&n!==null&&jr(n,n.return),e.flags&32){var s=e.stateNode;try{Za(s,"")}catch(y){qt(e,e.return,y)}}if(i&4&&(s=e.stateNode,s!=null)){var r=e.memoizedProps,a=n!==null?n.memoizedProps:r,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&hb(s,r),ip(l,a);var h=ip(l,r);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?gb(s,p):f==="dangerouslySetInnerHTML"?pb(s,p):f==="children"?Za(s,p):Am(s,f,p,h)}switch(l){case"input":Xf(s,r);break;case"textarea":db(s,r);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var v=r.value;v!=null?Vr(s,!!r.multiple,v,!1):g!==!!r.multiple&&(r.defaultValue!=null?Vr(s,!!r.multiple,r.defaultValue,!0):Vr(s,!!r.multiple,r.multiple?[]:"",!1))}s[el]=r}catch(y){qt(e,e.return,y)}}break;case 6:if(bn(t,e),Hn(e),i&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(y){qt(e,e.return,y)}}break;case 3:if(bn(t,e),Hn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(t.containerInfo)}catch(y){qt(e,e.return,y)}break;case 4:bn(t,e),Hn(e);break;case 13:bn(t,e),Hn(e),s=e.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(fg=te())),i&4&&Hy(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(h=Ee)||f,bn(t,e),Ee=h):bn(t,e),Hn(e),i&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&e.mode&1)for(Q=e,f=e.child;f!==null;){for(p=Q=f;Q!==null;){switch(g=Q,v=g.child,g.tag){case 0:case 11:case 14:case 15:La(4,g,g.return);break;case 1:jr(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){i=g,n=g.return;try{t=i,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){qt(i,n,y)}}break;case 5:jr(g,g.return);break;case 22:if(g.memoizedState!==null){Uy(p);continue}}v!==null?(v.return=g,Q=v):Uy(p)}f=f.sibling}t:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,h?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=mb("display",a))}catch(y){qt(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(y){qt(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break t;for(;p.sibling===null;){if(p.return===null||p.return===e)break t;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:bn(t,e),Hn(e),i&4&&Hy(e);break;case 21:break;default:bn(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(WS(n)){var i=n;break t}n=n.return}throw Error(H(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Za(s,""),i.flags&=-33);var r=Wy(e);Op(e,r,s);break;case 3:case 4:var a=i.stateNode.containerInfo,l=Wy(e);Np(e,l,a);break;default:throw Error(H(161))}}catch(u){qt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LI(e,t,n){Q=e,US(e)}function US(e,t,n){for(var i=(e.mode&1)!==0;Q!==null;){var s=Q,r=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Pc;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ee;l=Pc;var h=Ee;if(Pc=a,(Ee=u)&&!h)for(Q=s;Q!==null;)a=Q,u=a.child,a.tag===22&&a.memoizedState!==null?$y(s):u!==null?(u.return=a,Q=u):$y(s);for(;r!==null;)Q=r,US(r),r=r.sibling;Q=s,Pc=l,Ee=h}Vy(e)}else s.subtreeFlags&8772&&r!==null?(r.return=s,Q=r):Vy(e)}}function Vy(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||Ih(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ee)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Sn(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Py(t,r,i);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Py(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&qa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ee||t.flags&512&&Lp(t)}catch(g){qt(t,t.return,g)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Uy(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function $y(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ih(4,t)}catch(u){qt(t,n,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){qt(t,s,u)}}var r=t.return;try{Lp(t)}catch(u){qt(t,r,u)}break;case 5:var a=t.return;try{Lp(t)}catch(u){qt(t,a,u)}}}catch(u){qt(t,t.return,u)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var NI=Math.ceil,Hu=Mi.ReactCurrentDispatcher,hg=Mi.ReactCurrentOwner,gn=Mi.ReactCurrentBatchConfig,St=0,ge=null,se=null,ye=0,tn=0,Wr=Cs(0),le=0,al=null,or=0,Lh=0,dg=0,Na=null,He=null,fg=0,go=1/0,ci=null,Vu=!1,Ap=null,as=null,Tc=!1,Qi=null,Uu=0,Oa=0,Rp=null,lu=-1,cu=0;function De(){return St&6?te():lu!==-1?lu:lu=te()}function ls(e){return e.mode&1?St&2&&ye!==0?ye&-ye:mI.transition!==null?(cu===0&&(cu=Tb()),cu):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:Rb(e.type)),e):1}function An(e,t,n,i){if(50<Oa)throw Oa=0,Rp=null,Error(H(185));Ol(e,n,i),(!(St&2)||e!==ge)&&(e===ge&&(!(St&2)&&(Lh|=n),le===4&&Ui(e,ye)),Ye(e,i),n===1&&St===0&&!(t.mode&1)&&(go=te()+500,Ph&&ks()))}function Ye(e,t){var n=e.callbackNode;mM(e,t);var i=Pu(e,e===ge?ye:0);if(i===0)n!==null&&ty(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&ty(n),t===1)e.tag===0?pI(Zy.bind(null,e)):tS(Zy.bind(null,e)),uI(function(){!(St&6)&&ks()}),n=null;else{switch(Mb(i)){case 1:n=Bm;break;case 4:n=Eb;break;case 16:n=Eu;break;case 536870912:n=Pb;break;default:n=Eu}n=XS(n,$S.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $S(e,t){if(lu=-1,cu=0,St&6)throw Error(H(327));var n=e.callbackNode;if(Kr()&&e.callbackNode!==n)return null;var i=Pu(e,e===ge?ye:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=$u(e,i);else{t=i;var s=St;St|=2;var r=GS();(ge!==e||ye!==t)&&(ci=null,go=te()+500,Js(e,t));do try{RI();break}catch(l){ZS(e,l)}while(!0);Xm(),Hu.current=r,St=s,se!==null?t=0:(ge=null,ye=0,t=le)}if(t!==0){if(t===2&&(s=lp(e),s!==0&&(i=s,t=Dp(e,s))),t===1)throw n=al,Js(e,0),Ui(e,i),Ye(e,te()),n;if(t===6)Ui(e,i);else{if(s=e.current.alternate,!(i&30)&&!OI(s)&&(t=$u(e,i),t===2&&(r=lp(e),r!==0&&(i=r,t=Dp(e,r))),t===1))throw n=al,Js(e,0),Ui(e,i),Ye(e,te()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(H(345));case 2:Fs(e,He,ci);break;case 3:if(Ui(e,i),(i&130023424)===i&&(t=fg+500-te(),10<t)){if(Pu(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gp(Fs.bind(null,e,He,ci),t);break}Fs(e,He,ci);break;case 4:if(Ui(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var a=31-On(i);r=1<<a,a=t[a],a>s&&(s=a),i&=~r}if(i=s,i=te()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*NI(i/1960))-i,10<i){e.timeoutHandle=gp(Fs.bind(null,e,He,ci),i);break}Fs(e,He,ci);break;case 5:Fs(e,He,ci);break;default:throw Error(H(329))}}}return Ye(e,te()),e.callbackNode===n?$S.bind(null,e):null}function Dp(e,t){var n=Na;return e.current.memoizedState.isDehydrated&&(Js(e,t).flags|=256),e=$u(e,t),e!==2&&(t=He,He=n,t!==null&&Fp(t)),e}function Fp(e){He===null?He=e:He.push.apply(He,e)}function OI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Fn(r(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ui(e,t){for(t&=~dg,t&=~Lh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),i=1<<n;e[n]=-1,t&=~i}}function Zy(e){if(St&6)throw Error(H(327));Kr();var t=Pu(e,0);if(!(t&1))return Ye(e,te()),null;var n=$u(e,t);if(e.tag!==0&&n===2){var i=lp(e);i!==0&&(t=i,n=Dp(e,i))}if(n===1)throw n=al,Js(e,0),Ui(e,t),Ye(e,te()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e,He,ci),Ye(e,te()),null}function pg(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===0&&(go=te()+500,Ph&&ks())}}function ar(e){Qi!==null&&Qi.tag===0&&!(St&6)&&Kr();var t=St;St|=1;var n=gn.transition,i=Mt;try{if(gn.transition=null,Mt=1,e)return e()}finally{Mt=i,gn.transition=n,St=t,!(St&6)&&ks()}}function mg(){tn=Wr.current,Bt(Wr)}function Js(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cI(n)),se!==null)for(n=se.return;n!==null;){var i=n;switch(Ym(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Nu();break;case 3:po(),Bt(Ge),Bt(Me),sg();break;case 5:ig(i);break;case 4:po();break;case 13:Bt(Zt);break;case 19:Bt(Zt);break;case 10:Jm(i.type._context);break;case 22:case 23:mg()}n=n.return}if(ge=e,se=e=cs(e.current,null),ye=tn=t,le=0,al=null,dg=Lh=or=0,He=Na=null,Vs!==null){for(t=0;t<Vs.length;t++)if(n=Vs[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var a=r.next;r.next=s,i.next=a}n.pending=i}Vs=null}return e}function ZS(e,t){do{var n=se;try{if(Xm(),ru.current=Wu,ju){for(var i=Gt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ju=!1}if(rr=0,de=re=Gt=null,Ia=!1,sl=0,hg.current=null,n===null||n.return===null){le=1,al=t,se=null;break}t:{var r=e,a=n.return,l=n,u=t;if(t=ye,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Oy(a);if(v!==null){v.flags&=-257,Ay(v,a,l,r,t),v.mode&1&&Ny(r,h,t),t=v,u=h;var x=t.updateQueue;if(x===null){var y=new Set;y.add(u),t.updateQueue=y}else x.add(u);break t}else{if(!(t&1)){Ny(r,h,t),gg();break t}u=Error(H(426))}}else if(Ht&&l.mode&1){var S=Oy(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ay(S,a,l,r,t),qm(mo(u,l));break t}}r=u=mo(u,l),le!==4&&(le=2),Na===null?Na=[r]:Na.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var w=MS(r,u,t);Ey(r,w);break t;case 1:l=u;var b=r.type,k=r.stateNode;if(!(r.flags&128)&&(typeof b.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(as===null||!as.has(k)))){r.flags|=65536,t&=-t,r.lanes|=t;var P=IS(r,l,t);Ey(r,P);break t}}r=r.return}while(r!==null)}YS(n)}catch(M){t=M,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function GS(){var e=Hu.current;return Hu.current=Wu,e===null?Wu:e}function gg(){(le===0||le===3||le===2)&&(le=4),ge===null||!(or&268435455)&&!(Lh&268435455)||Ui(ge,ye)}function $u(e,t){var n=St;St|=2;var i=GS();(ge!==e||ye!==t)&&(ci=null,Js(e,t));do try{AI();break}catch(s){ZS(e,s)}while(!0);if(Xm(),St=n,Hu.current=i,se!==null)throw Error(H(261));return ge=null,ye=0,le}function AI(){for(;se!==null;)KS(se)}function RI(){for(;se!==null&&!oM();)KS(se)}function KS(e){var t=QS(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?YS(e):se=t,hg.current=null}function YS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TI(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,se=null;return}}else if(n=PI(n,t,tn),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);le===0&&(le=5)}function Fs(e,t,n){var i=Mt,s=gn.transition;try{gn.transition=null,Mt=1,DI(e,t,n,i)}finally{gn.transition=s,Mt=i}return null}function DI(e,t,n,i){do Kr();while(Qi!==null);if(St&6)throw Error(H(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(gM(e,r),e===ge&&(se=ge=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,XS(Eu,function(){return Kr(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=gn.transition,gn.transition=null;var a=Mt;Mt=1;var l=St;St|=4,hg.current=null,II(e,n),VS(n,e),nI(pp),Tu=!!fp,pp=fp=null,e.current=n,LI(n),aM(),St=l,Mt=a,gn.transition=r}else e.current=n;if(Tc&&(Tc=!1,Qi=e,Uu=s),r=e.pendingLanes,r===0&&(as=null),uM(n.stateNode),Ye(e,te()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Vu)throw Vu=!1,e=Ap,Ap=null,e;return Uu&1&&e.tag!==0&&Kr(),r=e.pendingLanes,r&1?e===Rp?Oa++:(Oa=0,Rp=e):Oa=0,ks(),null}function Kr(){if(Qi!==null){var e=Mb(Uu),t=gn.transition,n=Mt;try{if(gn.transition=null,Mt=16>e?16:e,Qi===null)var i=!1;else{if(e=Qi,Qi=null,Uu=0,St&6)throw Error(H(331));var s=St;for(St|=4,Q=e.current;Q!==null;){var r=Q,a=r.child;if(Q.flags&16){var l=r.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Q=h;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:La(8,f,r)}var p=f.child;if(p!==null)p.return=f,Q=p;else for(;Q!==null;){f=Q;var g=f.sibling,v=f.return;if(jS(f),f===h){Q=null;break}if(g!==null){g.return=v,Q=g;break}Q=v}}}var x=r.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}Q=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,Q=a;else t:for(;Q!==null;){if(r=Q,r.flags&2048)switch(r.tag){case 0:case 11:case 15:La(9,r,r.return)}var w=r.sibling;if(w!==null){w.return=r.return,Q=w;break t}Q=r.return}}var b=e.current;for(Q=b;Q!==null;){a=Q;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Q=k;else t:for(a=b;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ih(9,l)}}catch(M){qt(l,l.return,M)}if(l===a){Q=null;break t}var P=l.sibling;if(P!==null){P.return=l.return,Q=P;break t}Q=l.return}}if(St=s,ks(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(bh,e)}catch{}i=!0}return i}finally{Mt=n,gn.transition=t}}return!1}function Gy(e,t,n){t=mo(n,t),t=MS(e,t,1),e=os(e,t,1),t=De(),e!==null&&(Ol(e,1,t),Ye(e,t))}function qt(e,t,n){if(e.tag===3)Gy(e,e,n);else for(;t!==null;){if(t.tag===3){Gy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(as===null||!as.has(i))){e=mo(n,e),e=IS(t,e,1),t=os(t,e,1),e=De(),t!==null&&(Ol(t,1,e),Ye(t,e));break}}t=t.return}}function FI(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(ye&n)===n&&(le===4||le===3&&(ye&130023424)===ye&&500>te()-fg?Js(e,0):dg|=n),Ye(e,t)}function qS(e,t){t===0&&(e.mode&1?(t=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):t=1);var n=De();e=Ci(e,t),e!==null&&(Ol(e,t,n),Ye(e,n))}function zI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qS(e,n)}function BI(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(H(314))}i!==null&&i.delete(t),qS(e,n)}var QS;QS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,EI(e,t,n);$e=!!(e.flags&131072)}else $e=!1,Ht&&t.flags&1048576&&eS(t,Ru,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;au(e,t),e=t.pendingProps;var s=uo(t,Me.current);Gr(t,n),s=og(null,t,i,e,s,n);var r=ag();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(i)?(r=!0,Ou(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eg(t),s.updater=Mh,t.stateNode=s,s._reactInternals=t,Sp(t,i,e,n),t=Ep(null,t,i,!0,r,n)):(t.tag=0,Ht&&r&&Km(t),Oe(null,t,s,n),t=t.child),t;case 16:i=t.elementType;t:{switch(au(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=WI(i),e=Sn(i,e),s){case 0:t=kp(null,t,i,e,n);break t;case 1:t=Fy(null,t,i,e,n);break t;case 11:t=Ry(null,t,i,e,n);break t;case 14:t=Dy(null,t,i,Sn(i.type,e),n);break t}throw Error(H(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Sn(i,s),kp(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Sn(i,s),Fy(e,t,i,s,n);case 3:t:{if(AS(t),e===null)throw Error(H(387));i=t.pendingProps,r=t.memoizedState,s=r.element,aS(e,t),zu(t,i,null,n);var a=t.memoizedState;if(i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=mo(Error(H(423)),t),t=zy(e,t,i,n,s);break t}else if(i!==s){s=mo(Error(H(424)),t),t=zy(e,t,i,n,s);break t}else for(nn=rs(t.stateNode.containerInfo.firstChild),sn=t,Ht=!0,Tn=null,n=rS(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),i===s){t=ki(e,t,n);break t}Oe(e,t,i,n)}t=t.child}return t;case 5:return lS(t),e===null&&xp(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,mp(i,s)?a=null:r!==null&&mp(i,r)&&(t.flags|=32),OS(e,t),Oe(e,t,a,n),t.child;case 6:return e===null&&xp(t),null;case 13:return RS(e,t,n);case 4:return ng(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=fo(t,null,i,n):Oe(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Sn(i,s),Ry(e,t,i,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,a=s.value,Rt(Du,i._currentValue),i._currentValue=a,r!==null)if(Fn(r.value,a)){if(r.children===s.children&&!Ge.current){t=ki(e,t,n);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var l=r.dependencies;if(l!==null){a=r.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(r.tag===1){u=xi(-1,n&-n),u.tag=2;var h=r.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}r.lanes|=n,u=r.alternate,u!==null&&(u.lanes|=n),wp(r.return,n,t),l.lanes|=n;break}u=u.next}}else if(r.tag===10)a=r.type===t.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(H(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),wp(a,n,t),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Gr(t,n),s=_n(s),i=i(s),t.flags|=1,Oe(e,t,i,n),t.child;case 14:return i=t.type,s=Sn(i,t.pendingProps),s=Sn(i.type,s),Dy(e,t,i,s,n);case 15:return LS(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Sn(i,s),au(e,t),t.tag=1,Ke(i)?(e=!0,Ou(t)):e=!1,Gr(t,n),TS(t,i,s),Sp(t,i,s,n),Ep(null,t,i,!0,e,n);case 19:return DS(e,t,n);case 22:return NS(e,t,n)}throw Error(H(156,t.tag))};function XS(e,t){return kb(e,t)}function jI(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,i){return new jI(e,t,n,i)}function _g(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WI(e){if(typeof e=="function")return _g(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dm)return 11;if(e===Fm)return 14}return 2}function cs(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uu(e,t,n,i,s,r){var a=2;if(i=e,typeof e=="function")_g(e)&&(a=1);else if(typeof e=="string")a=5;else t:switch(e){case Lr:return tr(n.children,s,r,t);case Rm:a=8,s|=8;break;case Gf:return e=mn(12,n,t,s|2),e.elementType=Gf,e.lanes=r,e;case Kf:return e=mn(13,n,t,s),e.elementType=Kf,e.lanes=r,e;case Yf:return e=mn(19,n,t,s),e.elementType=Yf,e.lanes=r,e;case lb:return Nh(n,s,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ob:a=10;break t;case ab:a=9;break t;case Dm:a=11;break t;case Fm:a=14;break t;case Wi:a=16,i=null;break t}throw Error(H(130,e==null?e:typeof e,""))}return t=mn(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function tr(e,t,n,i){return e=mn(7,e,i,t),e.lanes=n,e}function Nh(e,t,n,i){return e=mn(22,e,i,t),e.elementType=lb,e.lanes=n,e.stateNode={isHidden:!1},e}function ff(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function pf(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HI(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vg(e,t,n,i,s,r,a,l,u){return e=new HI(e,t,n,l,u),t===1?(t=1,r===!0&&(t|=8)):t=0,r=mn(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(r),e}function VI(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function JS(e){if(!e)return gs;e=e._reactInternals;t:{if(pr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Jb(e,n,t)}return t}function tC(e,t,n,i,s,r,a,l,u){return e=vg(n,i,!0,e,s,r,a,l,u),e.context=JS(null),n=e.current,i=De(),s=ls(n),r=xi(i,s),r.callback=t??null,os(n,r,s),e.current.lanes=s,Ol(e,s,i),Ye(e,i),e}function Oh(e,t,n,i){var s=t.current,r=De(),a=ls(s);return n=JS(n),t.context===null?t.context=n:t.pendingContext=n,t=xi(r,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=os(s,t,a),e!==null&&(An(e,s,a,r),su(e,s,a)),a}function Zu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ky(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yg(e,t){Ky(e,t),(e=e.alternate)&&Ky(e,t)}function UI(){return null}var eC=typeof reportError=="function"?reportError:function(e){console.error(e)};function xg(e){this._internalRoot=e}Ah.prototype.render=xg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Oh(e,t,null,null)};Ah.prototype.unmount=xg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ar(function(){Oh(null,e,null,null)}),t[Si]=null}};function Ah(e){this._internalRoot=e}Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vi.length&&t!==0&&t<Vi[n].priority;n++);Vi.splice(n,0,e),n===0&&Ab(e)}};function wg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function $I(e,t,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var h=Zu(a);r.call(h)}}var a=tC(t,i,e,0,null,!1,!1,"",Yy);return e._reactRootContainer=a,e[Si]=a.current,Ja(e.nodeType===8?e.parentNode:e),ar(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var h=Zu(u);l.call(h)}}var u=vg(e,0,!1,null,null,!1,!1,"",Yy);return e._reactRootContainer=u,e[Si]=u.current,Ja(e.nodeType===8?e.parentNode:e),ar(function(){Oh(t,u,n,i)}),u}function Dh(e,t,n,i,s){var r=n._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var l=s;s=function(){var u=Zu(a);l.call(u)}}Oh(t,a,e,s)}else a=$I(n,t,e,s,i);return Zu(a)}Ib=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_a(t.pendingLanes);n!==0&&(jm(t,n|1),Ye(t,te()),!(St&6)&&(go=te()+500,ks()))}break;case 13:ar(function(){var i=Ci(e,1);if(i!==null){var s=De();An(i,e,1,s)}}),yg(e,1)}};Wm=function(e){if(e.tag===13){var t=Ci(e,134217728);if(t!==null){var n=De();An(t,e,134217728,n)}yg(e,134217728)}};Lb=function(e){if(e.tag===13){var t=ls(e),n=Ci(e,t);if(n!==null){var i=De();An(n,e,t,i)}yg(e,t)}};Nb=function(){return Mt};Ob=function(e,t){var n=Mt;try{return Mt=e,t()}finally{Mt=n}};rp=function(e,t,n){switch(t){case"input":if(Xf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Eh(i);if(!s)throw Error(H(90));ub(i),Xf(i,s)}}}break;case"textarea":db(e,n);break;case"select":t=n.value,t!=null&&Vr(e,!!n.multiple,t,!1)}};yb=pg;xb=ar;var ZI={usingClientEntryPoint:!1,Events:[Rl,Rr,Eh,_b,vb,pg]},ia={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GI={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sb(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{bh=Mc.inject(GI),qn=Mc}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZI;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(t))throw Error(H(200));return VI(e,t,null,n)};on.createRoot=function(e,t){if(!wg(e))throw Error(H(299));var n=!1,i="",s=eC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vg(e,1,!1,null,null,n,!1,i,s),e[Si]=t.current,Ja(e.nodeType===8?e.parentNode:e),new xg(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Sb(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return ar(e)};on.hydrate=function(e,t,n){if(!Rh(t))throw Error(H(200));return Dh(null,e,t,!0,n)};on.hydrateRoot=function(e,t,n){if(!wg(e))throw Error(H(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",a=eC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=tC(t,null,e,1,n??null,s,!1,r,a),e[Si]=t.current,Ja(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ah(t)};on.render=function(e,t,n){if(!Rh(t))throw Error(H(200));return Dh(null,e,t,!1,n)};on.unmountComponentAtNode=function(e){if(!Rh(e))throw Error(H(40));return e._reactRootContainer?(ar(function(){Dh(null,null,e,!1,function(){e._reactRootContainer=null,e[Si]=null})}),!0):!1};on.unstable_batchedUpdates=pg;on.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Rh(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Dh(e,t,n,!1,i)};on.version="18.3.1-next-f1338f8080-20240426";function nC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nC)}catch(e){console.error(e)}}nC(),nb.exports=on;var Fh=nb.exports;const KI=Pm(Fh);var iC,qy=Fh;iC=qy.createRoot,qy.hydrateRoot;var zh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bh=typeof window>"u"||"Deno"in globalThis;function Cn(){}function YI(e,t){return typeof e=="function"?e(t):e}function qI(e){return typeof e=="number"&&e>=0&&e!==1/0}function QI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qy(e,t){return typeof e=="function"?e(t):e}function XI(e,t){return typeof e=="function"?e(t):e}function Xy(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:r,queryKey:a,stale:l}=e;if(a){if(i){if(t.queryHash!==bg(a,t.options))return!1}else if(!cl(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||r&&!r(t))}function Jy(e,t){const{exact:n,status:i,predicate:s,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(n){if(ll(t.options.mutationKey)!==ll(r))return!1}else if(!cl(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function bg(e,t){return((t==null?void 0:t.queryKeyHashFn)||ll)(e)}function ll(e){return JSON.stringify(e,(t,n)=>zp(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function cl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!cl(e[n],t[n])):!1}function sC(e,t){if(e===t)return e;const n=t0(e)&&t0(t);if(n||zp(e)&&zp(t)){const i=n?e:Object.keys(e),s=i.length,r=n?t:Object.keys(t),a=r.length,l=n?[]:{};let u=0;for(let h=0;h<a;h++){const f=n?h:r[h];(!n&&i.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=sC(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function t0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zp(e){if(!e0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!e0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function e0(e){return Object.prototype.toString.call(e)==="[object Object]"}function JI(e){return new Promise(t=>{setTimeout(t,e)})}function tL(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?sC(e,t):t}function eL(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function nL(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var Sg=Symbol();function rC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Sg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ks,$i,to,Dw,iL=(Dw=class extends zh{constructor(){super();kt(this,Ks);kt(this,$i);kt(this,to);at(this,to,t=>{if(!Bh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,$i)||this.setEventListener(z(this,to))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,$i))==null||t.call(this),at(this,$i,void 0))}setEventListener(t){var n;at(this,to,t),(n=z(this,$i))==null||n.call(this),at(this,$i,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){z(this,Ks)!==t&&(at(this,Ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,Ks)=="boolean"?z(this,Ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ks=new WeakMap,$i=new WeakMap,to=new WeakMap,Dw),oC=new iL,eo,Zi,no,Fw,sL=(Fw=class extends zh{constructor(){super();kt(this,eo,!0);kt(this,Zi);kt(this,no);at(this,no,t=>{if(!Bh&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){z(this,Zi)||this.setEventListener(z(this,no))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Zi))==null||t.call(this),at(this,Zi,void 0))}setEventListener(t){var n;at(this,no,t),(n=z(this,Zi))==null||n.call(this),at(this,Zi,t(this.setOnline.bind(this)))}setOnline(t){z(this,eo)!==t&&(at(this,eo,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return z(this,eo)}},eo=new WeakMap,Zi=new WeakMap,no=new WeakMap,Fw),Gu=new sL;function rL(){let e,t;const n=new Promise((s,r)=>{e=s,t=r});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function oL(e){return Math.min(1e3*2**e,3e4)}function aC(e){return(e??"online")==="online"?Gu.isOnline():!0}var lC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mf(e){return e instanceof lC}function cC(e){let t=!1,n=0,i=!1,s;const r=rL(),a=y=>{var S;i||(g(new lC(y)),(S=e.abort)==null||S.call(e))},l=()=>{t=!0},u=()=>{t=!1},h=()=>oC.isFocused()&&(e.networkMode==="always"||Gu.isOnline())&&e.canRun(),f=()=>aC(e.networkMode)&&e.canRun(),p=y=>{var S;i||(i=!0,(S=e.onSuccess)==null||S.call(e,y),s==null||s(),r.resolve(y))},g=y=>{var S;i||(i=!0,(S=e.onError)==null||S.call(e,y),s==null||s(),r.reject(y))},v=()=>new Promise(y=>{var S;s=w=>{(i||h())&&y(w)},(S=e.onPause)==null||S.call(e)}).then(()=>{var y;s=void 0,i||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(i)return;let y;const S=n===0?e.initialPromise:void 0;try{y=S??e.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(p).catch(w=>{var I;if(i)return;const b=e.retry??(Bh?0:3),k=e.retryDelay??oL,P=typeof k=="function"?k(n,w):k,M=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(t||!M){g(w);return}n++,(I=e.onFail)==null||I.call(e,n,w),JI(P).then(()=>h()?void 0:v()).then(()=>{t?g(w):x()})})};return{promise:r,cancel:a,continue:()=>(s==null||s(),r),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?x():v().then(x),r)}}var aL=e=>setTimeout(e,0);function lL(){let e=[],t=0,n=l=>{l()},i=l=>{l()},s=aL;const r=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{i(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||a()}return u},batchCalls:l=>(...u)=>{r(()=>{l(...u)})},schedule:r,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var Ae=lL(),Ys,zw,uC=(zw=class{constructor(){kt(this,Ys)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qI(this.gcTime)&&at(this,Ys,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bh?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ys)&&(clearTimeout(z(this,Ys)),at(this,Ys,void 0))}},Ys=new WeakMap,zw),io,so,dn,qs,Ce,Il,Qs,kn,oi,Bw,cL=(Bw=class extends uC{constructor(t){super();kt(this,kn);kt(this,io);kt(this,so);kt(this,dn);kt(this,qs);kt(this,Ce);kt(this,Il);kt(this,Qs);at(this,Qs,!1),at(this,Il,t.defaultOptions),this.setOptions(t.options),this.observers=[],at(this,qs,t.client),at(this,dn,z(this,qs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,at(this,io,hL(this.options)),this.state=t.state??z(this,io),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Ce))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Il),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,dn).remove(this)}setData(t,n){const i=tL(this.state.data,t,this.options);return we(this,kn,oi).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){we(this,kn,oi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,s;const n=(i=z(this,Ce))==null?void 0:i.promise;return(s=z(this,Ce))==null||s.cancel(t),n?n.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,io))}isActive(){return this.observers.some(t=>XI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!QI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Ce))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Ce))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,Ce)&&(z(this,Qs)?z(this,Ce).cancel({revert:!0}):z(this,Ce).cancelRetry()),this.scheduleGc()),z(this,dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,kn,oi).call(this,{type:"invalidate"})}fetch(t,n){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Ce))return z(this,Ce).continueRetry(),z(this,Ce).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(at(this,Qs,!0),i.signal)})},r=()=>{const p=rC(this.options,n),g={client:z(this,qs),queryKey:this.queryKey,meta:this.meta};return s(g),at(this,Qs,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,qs),state:this.state,fetchFn:r};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),at(this,so,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&we(this,kn,oi).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,v,x,y;mf(p)&&p.silent||we(this,kn,oi).call(this,{type:"error",error:p}),mf(p)||((v=(g=z(this,dn).config).onError)==null||v.call(g,p,this),(y=(x=z(this,dn).config).onSettled)==null||y.call(x,this.state.data,p,this)),this.scheduleGc()};return at(this,Ce,cC({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var g,v,x,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){l(S);return}(v=(g=z(this,dn).config).onSuccess)==null||v.call(g,p,this),(y=(x=z(this,dn).config).onSettled)==null||y.call(x,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{we(this,kn,oi).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{we(this,kn,oi).call(this,{type:"pause"})},onContinue:()=>{we(this,kn,oi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Ce).start()}},io=new WeakMap,so=new WeakMap,dn=new WeakMap,qs=new WeakMap,Ce=new WeakMap,Il=new WeakMap,Qs=new WeakMap,kn=new WeakSet,oi=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...uL(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return mf(s)&&s.revert&&z(this,so)?{...z(this,so),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),Ae.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,dn).notify({query:this,type:"updated",action:t})})},Bw);function uL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,jw,dL=(jw=class extends zh{constructor(t={}){super();kt(this,Zn);this.config=t,at(this,Zn,new Map)}build(t,n,i){const s=n.queryKey,r=n.queryHash??bg(s,n);let a=this.get(r);return a||(a=new cL({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){z(this,Zn).has(t.queryHash)||(z(this,Zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,Zn).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,Zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ae.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Zn).get(t)}getAll(){return[...z(this,Zn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Xy(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>Xy(t,i)):n}notify(t){Ae.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ae.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ae.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zn=new WeakMap,jw),Gn,Ne,Xs,Kn,ji,Ww,fL=(Ww=class extends uC{constructor(t){super();kt(this,Kn);kt(this,Gn);kt(this,Ne);kt(this,Xs);this.mutationId=t.mutationId,at(this,Ne,t.mutationCache),at(this,Gn,[]),this.state=t.state||pL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Gn).includes(t)||(z(this,Gn).push(t),this.clearGcTimeout(),z(this,Ne).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){at(this,Gn,z(this,Gn).filter(n=>n!==t)),this.scheduleGc(),z(this,Ne).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Gn).length||(this.state.status==="pending"?this.scheduleGc():z(this,Ne).remove(this))}continue(){var t;return((t=z(this,Xs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,r,a,l,u,h,f,p,g,v,x,y,S,w,b,k,P,M,I,N;at(this,Xs,cC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,j)=>{we(this,Kn,ji).call(this,{type:"failed",failureCount:A,error:j})},onPause:()=>{we(this,Kn,ji).call(this,{type:"pause"})},onContinue:()=>{we(this,Kn,ji).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Ne).canRun(this)}));const n=this.state.status==="pending",i=!z(this,Xs).canStart();try{if(!n){we(this,Kn,ji).call(this,{type:"pending",variables:t,isPaused:i}),await((r=(s=z(this,Ne).config).onMutate)==null?void 0:r.call(s,t,this));const j=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));j!==this.state.context&&we(this,Kn,ji).call(this,{type:"pending",context:j,variables:t,isPaused:i})}const A=await z(this,Xs).start();return await((h=(u=z(this,Ne).config).onSuccess)==null?void 0:h.call(u,A,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,t,this.state.context)),await((v=(g=z(this,Ne).config).onSettled)==null?void 0:v.call(g,A,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,A,null,t,this.state.context)),we(this,Kn,ji).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(S=z(this,Ne).config).onError)==null?void 0:w.call(S,A,t,this.state.context,this)),await((k=(b=this.options).onError)==null?void 0:k.call(b,A,t,this.state.context)),await((M=(P=z(this,Ne).config).onSettled)==null?void 0:M.call(P,void 0,A,this.state.variables,this.state.context,this)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,A,t,this.state.context)),A}finally{we(this,Kn,ji).call(this,{type:"error",error:A})}}finally{z(this,Ne).runNext(this)}}},Gn=new WeakMap,Ne=new WeakMap,Xs=new WeakMap,Kn=new WeakSet,ji=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ae.batch(()=>{z(this,Gn).forEach(i=>{i.onMutationUpdate(t)}),z(this,Ne).notify({mutation:this,type:"updated",action:t})})},Ww);function pL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,En,Ll,Hw,mL=(Hw=class extends zh{constructor(t={}){super();kt(this,fi);kt(this,En);kt(this,Ll);this.config=t,at(this,fi,new Set),at(this,En,new Map),at(this,Ll,0)}build(t,n,i){const s=new fL({mutationCache:this,mutationId:++dc(this,Ll)._,options:t.defaultMutationOptions(n),state:i});return this.add(s),s}add(t){z(this,fi).add(t);const n=Ic(t);if(typeof n=="string"){const i=z(this,En).get(n);i?i.push(t):z(this,En).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,fi).delete(t)){const n=Ic(t);if(typeof n=="string"){const i=z(this,En).get(n);if(i)if(i.length>1){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}else i[0]===t&&z(this,En).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ic(t);if(typeof n=="string"){const i=z(this,En).get(n),s=i==null?void 0:i.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){var i;const n=Ic(t);if(typeof n=="string"){const s=(i=z(this,En).get(n))==null?void 0:i.find(r=>r!==t&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ae.batch(()=>{z(this,fi).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,fi).clear(),z(this,En).clear()})}getAll(){return Array.from(z(this,fi))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Jy(n,i))}findAll(t={}){return this.getAll().filter(n=>Jy(t,n))}notify(t){Ae.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ae.batch(()=>Promise.all(t.map(n=>n.continue().catch(Cn))))}},fi=new WeakMap,En=new WeakMap,Ll=new WeakMap,Hw);function Ic(e){var t;return(t=e.options.scope)==null?void 0:t.id}function n0(e){return{onFetch:(t,n)=>{var f,p,g,v,x;const i=t.options,s=(g=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,r=((v=t.state.data)==null?void 0:v.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const h=async()=>{let y=!1;const S=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},w=rC(t.options,t.fetchOptions),b=async(k,P,M)=>{if(y)return Promise.reject();if(P==null&&k.pages.length)return Promise.resolve(k);const I={client:t.client,queryKey:t.queryKey,pageParam:P,direction:M?"backward":"forward",meta:t.options.meta};S(I);const N=await w(I),{maxPages:A}=t.options,j=M?nL:eL;return{pages:j(k.pages,N,A),pageParams:j(k.pageParams,P,A)}};if(s&&r.length){const k=s==="backward",P=k?gL:i0,M={pages:r,pageParams:a},I=P(i,M);l=await b(M,I,k)}else{const k=e??r.length;do{const P=u===0?a[0]??i.initialPageParam:i0(i,l);if(u>0&&P==null)break;l=await b(l,P),u++}while(u<k)}return l};t.options.persister?t.fetchFn=()=>{var y,S;return(S=(y=t.options).persister)==null?void 0:S.call(y,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function i0(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function gL(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var Yt,Gi,Ki,ro,oo,Yi,ao,lo,Vw,_L=(Vw=class{constructor(e={}){kt(this,Yt);kt(this,Gi);kt(this,Ki);kt(this,ro);kt(this,oo);kt(this,Yi);kt(this,ao);kt(this,lo);at(this,Yt,e.queryCache||new dL),at(this,Gi,e.mutationCache||new mL),at(this,Ki,e.defaultOptions||{}),at(this,ro,new Map),at(this,oo,new Map),at(this,Yi,0)}mount(){dc(this,Yi)._++,z(this,Yi)===1&&(at(this,ao,oC.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Yt).onFocus())})),at(this,lo,Gu.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Yt).onOnline())})))}unmount(){var e,t;dc(this,Yi)._--,z(this,Yi)===0&&((e=z(this,ao))==null||e.call(this),at(this,ao,void 0),(t=z(this,lo))==null||t.call(this),at(this,lo,void 0))}isFetching(e){return z(this,Yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Gi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,Yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,Yt).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qy(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return z(this,Yt).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),s=z(this,Yt).get(i.queryHash),r=s==null?void 0:s.state.data,a=YI(t,r);if(a!==void 0)return z(this,Yt).build(this,i).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ae.batch(()=>z(this,Yt).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,Yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,Yt);Ae.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,Yt);return Ae.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Ae.batch(()=>z(this,Yt).findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(Cn).catch(Cn)}invalidateQueries(e,t={}){return Ae.batch(()=>(z(this,Yt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Ae.batch(()=>z(this,Yt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let r=s.fetch(void 0,n);return n.throwOnError||(r=r.catch(Cn)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(Cn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,Yt).build(this,t);return n.isStaleByTime(Qy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cn).catch(Cn)}fetchInfiniteQuery(e){return e.behavior=n0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cn).catch(Cn)}ensureInfiniteQueryData(e){return e.behavior=n0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gu.isOnline()?z(this,Gi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Yt)}getMutationCache(){return z(this,Gi)}getDefaultOptions(){return z(this,Ki)}setDefaultOptions(e){at(this,Ki,e)}setQueryDefaults(e,t){z(this,ro).set(ll(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,ro).values()],n={};return t.forEach(i=>{cl(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){z(this,oo).set(ll(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,oo).values()],n={};return t.forEach(i=>{cl(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Ki).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Ki).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,Yt).clear(),z(this,Gi).clear()}},Yt=new WeakMap,Gi=new WeakMap,Ki=new WeakMap,ro=new WeakMap,oo=new WeakMap,Yi=new WeakMap,ao=new WeakMap,lo=new WeakMap,Vw),vL=O.createContext(void 0),yL=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),E.jsx(vL.Provider,{value:e,children:t}));function xL(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,s,r,a=[],l="",u=e.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(a.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=s.indexOf("?",1),r=s.indexOf(".",1),a.push(s.substring(1,~i?i:~r?r:s.length)),l+=~i&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(l+=(~i?"?":"")+"\\"+s.substring(r))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var hC={exports:{}},dC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=O;function wL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bL=typeof Object.is=="function"?Object.is:wL,SL=_o.useState,CL=_o.useEffect,kL=_o.useLayoutEffect,EL=_o.useDebugValue;function PL(e,t){var n=t(),i=SL({inst:{value:n,getSnapshot:t}}),s=i[0].inst,r=i[1];return kL(function(){s.value=n,s.getSnapshot=t,gf(s)&&r({inst:s})},[e,n,t]),CL(function(){return gf(s)&&r({inst:s}),e(function(){gf(s)&&r({inst:s})})},[e]),EL(n),n}function gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bL(e,n)}catch{return!0}}function TL(e,t){return t()}var ML=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?TL:PL;dC.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:ML;hC.exports=dC;var IL=hC.exports;const LL=F1.useInsertionEffect,NL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OL=NL?O.useLayoutEffect:O.useEffect,AL=LL||OL,fC=e=>{const t=O.useRef([e,(...n)=>t[0](...n)]).current;return AL(()=>{t[0]=e}),t[1]},RL="popstate",Cg="pushState",kg="replaceState",DL="hashchange",s0=[RL,Cg,kg,DL],FL=e=>{for(const t of s0)addEventListener(t,e);return()=>{for(const t of s0)removeEventListener(t,e)}},pC=(e,t)=>IL.useSyncExternalStore(FL,e,t),zL=()=>location.search,BL=({ssrSearch:e=""}={})=>pC(zL,()=>e),r0=()=>location.pathname,jL=({ssrPath:e}={})=>pC(r0,e?()=>e:r0),WL=(e,{replace:t=!1,state:n=null}={})=>history[t?kg:Cg](n,"",e),HL=(e={})=>[jL(e),WL],o0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[o0]>"u"){for(const e of[Cg,kg]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,o0,{value:!0})}const VL=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",mC=(e="")=>e==="/"?"":e,UL=(e,t)=>e[0]==="~"?e.slice(1):mC(t)+e,$L=(e="",t)=>VL(a0(mC(e)),a0(t)),a0=e=>{try{return decodeURI(e)}catch{return e}},gC={hook:HL,searchHook:BL,parser:xL,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},_C=O.createContext(gC),Fl=()=>O.useContext(_C),vC={},yC=O.createContext(vC),ZL=()=>O.useContext(yC),jh=e=>{const[t,n]=e.hook(e);return[$L(e.base,t),fC((i,s)=>n(UL(i,e.base),s))]},xC=()=>jh(Fl()),wC=(e,t,n,i)=>{const{pattern:s,keys:r}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),a=s.exec(n)||[],[l,...u]=a;return l!==void 0?[!0,(()=>{const h=r!==!1?Object.fromEntries(r.map((p,g)=>[p,u[g]])):a.groups;let f={...u};return h&&Object.assign(f,h),f})(),...i?[l]:[]]:[!1,null]},bC=({children:e,...t})=>{var f,p;const n=Fl(),i=t.hook?gC:n;let s=i;const[r,a]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=r),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let l=O.useRef({}),u=l.current,h=u;for(let g in i){const v=g==="base"?i[g]+(t[g]||""):t[g]||i[g];u===h&&v!==h[g]&&(l.current=h={...h}),h[g]=v,v!==i[g]&&(s=h)}return O.createElement(_C.Provider,{value:s,children:e})},l0=({children:e,component:t},n)=>t?O.createElement(t,{params:n}):typeof e=="function"?e(n):e,GL=e=>{let t=O.useRef(vC);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([i,s])=>s!==n[i])?e:n},KL=({path:e,nest:t,match:n,...i})=>{const s=Fl(),[r]=jh(s),[a,l,u]=n??wC(s.parser,e,r,t),h=GL({...ZL(),...l});if(!a)return null;const f=u?O.createElement(bC,{base:u},l0(i,h)):l0(i,h);return O.createElement(yC.Provider,{value:h,children:f})},YL=O.forwardRef((e,t)=>{const n=Fl(),[i,s]=jh(n),{to:r="",href:a=r,onClick:l,asChild:u,children:h,className:f,replace:p,state:g,...v}=e,x=fC(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(l==null||l(S),S.defaultPrevented||(S.preventDefault(),s(a,e)))}),y=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return u&&O.isValidElement(h)?O.cloneElement(h,{onClick:x,href:y}):O.createElement("a",{...v,onClick:x,href:y,className:f!=null&&f.call?f(i===a):f,children:h,ref:t})}),SC=e=>Array.isArray(e)?e.flatMap(t=>SC(t&&t.type===O.Fragment?t.props.children:t)):[e],qL=({children:e,location:t})=>{const n=Fl(),[i]=jh(n);for(const s of SC(e)){let r=0;if(O.isValidElement(s)&&(r=wC(n.parser,s.props.path,t||i,s.props.nest))[0])return O.cloneElement(s,{match:r})}return null},QL=()=>{};var c0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(e,t){if(!e)throw To(t)},To=function(e){return new Error("Firebase Database ("+CC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},XL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],l=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},Eg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,l=a?e[s+1]:0,u=s+2<e.length,h=u?e[s+2]:0,f=r>>2,p=(r&3)<<4|l>>4;let g=(l&15)<<2|h>>6,v=h&63;u||(v=64,a||(g=64)),i.push(n[f],n[p],n[g],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):XL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||l==null||h==null||p==null)throw new JL;const g=r<<2|l>>4;if(i.push(g),h!==64){const v=l<<4&240|h>>2;if(i.push(v),p!==64){const x=h<<6&192|p;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EC=function(e){const t=kC(e);return Eg.encodeByteArray(t,!0)},Ku=function(e){return EC(e).replace(/\./g,"")},Bp=function(e){try{return Eg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){return PC(void 0,e)}function PC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!eN(n)||(e[n]=PC(e[n],t[n]));return e}function eN(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=()=>nN().__FIREBASE_DEFAULTS__,sN=()=>{if(typeof process>"u"||typeof c0>"u")return;const e=c0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Bp(e[1]);return t&&JSON.parse(t)},TC=()=>{try{return QL()||iN()||sN()||rN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},oN=e=>{var t,n;return(n=(t=TC())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},aN=e=>{const t=oN(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},MC=()=>{var e;return(e=TC())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ku(JSON.stringify(n)),Ku(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cN())}function uN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hN(){return CC.NODE_ADMIN===!0}function dN(){try{return typeof indexedDB=="object"}catch{return!1}}function fN(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="FirebaseError";class zl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=pN,Object.setPrototypeOf(this,zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LC.prototype.create)}}class LC{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?mN(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new zl(s,l,i)}}function mN(e,t){return e.replace(gN,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const gN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e){return JSON.parse(e)}function oe(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=function(e){let t={},n={},i={},s="";try{const r=e.split(".");t=ul(Bp(r[0])||""),n=ul(Bp(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:s}},_N=function(e){const t=NC(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vN=function(e){const t=NC(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vo(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function u0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yu(e,t,n){const i={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=t.call(n,e[s],s,e));return i}function qu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(h0(r)&&h0(a)){if(!qu(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function h0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let p=0;p<16;p++)i[p]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let p=16;p<80;p++){const g=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(g<<1|g>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4],h,f;for(let p=0;p<80;p++){p<40?p<20?(h=l^r&(a^l),f=1518500249):(h=r^a^l,f=1859775393):p<60?(h=r&a|l&(r|a),f=2400959708):(h=r^a^l,f=3395469782);const g=(s<<5|s>>>27)+h+u+f+i[p]&4294967295;u=l,l=a,a=(r<<30|r>>>2)&4294967295,r=s,s=g}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<n;)if(r[a]=t.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=t[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)t[i]=this.chain_[s]>>r&255,++i;return t}}function Pg(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,$(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Hh=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(e){return e&&e._delegate?e._delegate:e}class hl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bN=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Wh;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CN(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&t(a,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SN(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SN(e){return e===zs?void 0:e}function CN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ot||(Ot={}));const EN={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},PN=Ot.INFO,TN={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},MN=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=TN[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class OC{constructor(t){this.name=t,this._logLevel=PN,this._logHandler=MN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?EN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const IN=(e,t)=>t.some(n=>e instanceof n);let d0,f0;function LN(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NN(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AC=new WeakMap,jp=new WeakMap,RC=new WeakMap,_f=new WeakMap,Tg=new WeakMap;function ON(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(us(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&AC.set(n,e)}).catch(()=>{}),Tg.set(t,e),t}function AN(e){if(jp.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});jp.set(e,t)}let Wp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||RC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RN(e){Wp=e(Wp)}function DN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(vf(this),t,...n);return RC.set(i,t.sort?t.sort():[t]),us(i)}:NN().includes(e)?function(...t){return e.apply(vf(this),t),us(AC.get(this))}:function(...t){return us(e.apply(vf(this),t))}}function FN(e){return typeof e=="function"?DN(e):(e instanceof IDBTransaction&&AN(e),IN(e,LN())?new Proxy(e,Wp):e)}function us(e){if(e instanceof IDBRequest)return ON(e);if(_f.has(e))return _f.get(e);const t=FN(e);return t!==e&&(_f.set(e,t),Tg.set(t,e)),t}const vf=e=>Tg.get(e);function zN(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),l=us(a);return i&&a.addEventListener("upgradeneeded",u=>{i(us(a.result),u.oldVersion,u.newVersion,us(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const BN=["get","getKey","getAll","getAllKeys","count"],jN=["put","add","delete","clear"],yf=new Map;function p0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yf.get(t))return yf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=jN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BN.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return yf.set(t,r),r}RN(e=>({...e,get:(t,n,i)=>p0(t,n)||e.get(t,n,i),has:(t,n)=>!!p0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function HN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hp="@firebase/app",m0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new OC("@firebase/app"),VN="@firebase/app-compat",UN="@firebase/analytics-compat",$N="@firebase/analytics",ZN="@firebase/app-check-compat",GN="@firebase/app-check",KN="@firebase/auth",YN="@firebase/auth-compat",qN="@firebase/database",QN="@firebase/data-connect",XN="@firebase/database-compat",JN="@firebase/functions",tO="@firebase/functions-compat",eO="@firebase/installations",nO="@firebase/installations-compat",iO="@firebase/messaging",sO="@firebase/messaging-compat",rO="@firebase/performance",oO="@firebase/performance-compat",aO="@firebase/remote-config",lO="@firebase/remote-config-compat",cO="@firebase/storage",uO="@firebase/storage-compat",hO="@firebase/firestore",dO="@firebase/vertexai",fO="@firebase/firestore-compat",pO="firebase",mO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",gO={[Hp]:"fire-core",[VN]:"fire-core-compat",[$N]:"fire-analytics",[UN]:"fire-analytics-compat",[GN]:"fire-app-check",[ZN]:"fire-app-check-compat",[KN]:"fire-auth",[YN]:"fire-auth-compat",[qN]:"fire-rtdb",[QN]:"fire-data-connect",[XN]:"fire-rtdb-compat",[JN]:"fire-fn",[tO]:"fire-fn-compat",[eO]:"fire-iid",[nO]:"fire-iid-compat",[iO]:"fire-fcm",[sO]:"fire-fcm-compat",[rO]:"fire-perf",[oO]:"fire-perf-compat",[aO]:"fire-rc",[lO]:"fire-rc-compat",[cO]:"fire-gcs",[uO]:"fire-gcs-compat",[hO]:"fire-fst",[fO]:"fire-fst-compat",[dO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,_O=new Map,Up=new Map;function g0(e,t){try{e.container.addComponent(t)}catch(n){Ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xu(e){const t=e.name;if(Up.has(t))return Ei.debug(`There were multiple attempts to register component ${t}.`),!1;Up.set(t,e);for(const n of Qu.values())g0(n,e);for(const n of _O.values())g0(n,e);return!0}function vO(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yO(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new LC("app","Firebase",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=mO;function DC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw hs.create("bad-app-name",{appName:String(s)});if(n||(n=MC()),!n)throw hs.create("no-options");const r=Qu.get(s);if(r){if(qu(n,r.options)&&qu(i,r.config))return r;throw hs.create("duplicate-app",{appName:s})}const a=new kN(s);for(const u of Up.values())a.addComponent(u);const l=new wO(n,i,a);return Qu.set(s,l),l}function SO(e=Vp){const t=Qu.get(e);if(!t&&e===Vp&&MC())return DC();if(!t)throw hs.create("no-app",{appName:e});return t}function Yr(e,t,n){var i;let s=(i=gO[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${t}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ei.warn(l.join(" "));return}Xu(new hl(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="firebase-heartbeat-database",kO=1,dl="firebase-heartbeat-store";let xf=null;function FC(){return xf||(xf=zN(CO,kO,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(e=>{throw hs.create("idb-open",{originalErrorMessage:e.message})})),xf}async function EO(e){try{const n=(await FC()).transaction(dl),i=await n.objectStore(dl).get(zC(e));return await n.done,i}catch(t){if(t instanceof zl)Ei.warn(t.message);else{const n=hs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(n.message)}}}async function _0(e,t){try{const i=(await FC()).transaction(dl,"readwrite");await i.objectStore(dl).put(t,zC(e)),await i.done}catch(n){if(n instanceof zl)Ei.warn(n.message);else{const i=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(i.message)}}}function zC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=1024,TO=30;class MO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>TO){const a=NO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v0(),{heartbeatsToSend:i,unsentEntries:s}=IO(this._heartbeatsCache.heartbeats),r=Ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ei.warn(n),""}}}function v0(){return new Date().toISOString().substring(0,10)}function IO(e,t=PO){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),y0(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),y0(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class LO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dN()?fN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function y0(e){return Ku(JSON.stringify({version:2,heartbeats:e})).length}function NO(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(e){Xu(new hl("platform-logger",t=>new WN(t),"PRIVATE")),Xu(new hl("heartbeat",t=>new MO(t),"PRIVATE")),Yr(Hp,m0,e),Yr(Hp,m0,"esm2017"),Yr("fire-js","")}OO("");var AO="firebase",RO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(AO,RO,"app");var x0={};const w0="@firebase/database",b0="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BC="";function DO(e){BC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),oe(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ul(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ii(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new FO(t)}}catch{}return new zO},$s=jC("localStorage"),BO=jC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new OC("@firebase/database"),jO=function(){let e=1;return function(){return e++}}(),WC=function(e){const t=wN(e),n=new xN;n.update(t);const i=n.digest();return Eg.encodeByteArray(i)},Bl=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Bl.apply(null,i):typeof i=="object"?t+=oe(i):t+=i,t+=" "}return t};let Aa=null,S0=!0;const WO=function(e,t){$(!0,"Can't turn on custom loggers persistently."),qr.logLevel=Ot.VERBOSE,Aa=qr.log.bind(qr)},Pe=function(...e){if(S0===!0&&(S0=!1,Aa===null&&BO.get("logging_enabled")===!0&&WO()),Aa){const t=Bl.apply(null,e);Aa(t)}},jl=function(e){return function(...t){Pe(e,...t)}},$p=function(...e){const t="FIREBASE INTERNAL ERROR: "+Bl(...e);qr.error(t)},Pi=function(...e){const t=`FIREBASE FATAL ERROR: ${Bl(...e)}`;throw qr.error(t),new Error(t)},qe=function(...e){const t="FIREBASE WARNING: "+Bl(...e);qr.warn(t)},HO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},HC=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},VO=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},yo="[MIN_NAME]",lr="[MAX_NAME]",Io=function(e,t){if(e===t)return 0;if(e===yo||t===lr)return-1;if(t===yo||e===lr)return 1;{const n=C0(e),i=C0(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},UO=function(e,t){return e===t?0:e<t?-1:1},sa=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+oe(t))},Mg=function(e){if(typeof e!="object"||e===null)return oe(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=oe(t[i]),n+=":",n+=Mg(e[t[i]]);return n+="}",n},VC=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let s=0;s<n;s+=t)s+t>n?i.push(e.substring(s,n)):i.push(e.substring(s,s+t));return i};function Qe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const UC=function(e){$(!HC(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let s,r,a,l,u;e===0?(r=0,a=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),i),r=l+i,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,a=Math.round(e/Math.pow(2,1-i-n))));const h=[];for(u=n;u;u-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(u=t;u;u-=1)h.push(r%2?1:0),r=Math.floor(r/2);h.push(s?1:0),h.reverse();const f=h.join("");let p="";for(u=0;u<64;u+=8){let g=parseInt(f.substr(u,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},$O=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GO(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const KO=new RegExp("^-?(0*)\\d{1,10}$"),YO=-2147483648,qO=2147483647,C0=function(e){if(KO.test(e)){const t=Number(e);if(t>=YO&&t<=qO)return t}return null},Lo=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw qe("Exception was thrown by user callback.",n),t},Math.floor(0))}},QO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ra=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,yO(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(t)}}class hu{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}hu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="5",$C="v",ZC="s",GC="r",KC="f",YC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qC="ls",QC="p",Zp="ac",XC="websocket",JC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,n,i,s,r=!1,a="",l=!1,u=!1,h=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$s.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$s.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function tA(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ek(e,t,n){$(typeof t=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let i;if(t===XC)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===JC)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);tA(e)&&(n.ns=e.namespace);const s=[];return Qe(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.counters_={}}incrementCounter(t,n=1){Ii(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return tN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf={},bf={};function Lg(e){const t=e.toString();return wf[t]||(wf[t]=new eA),wf[t]}function nA(e,t){const n=e.toString();return bf[n]||(bf[n]=t()),bf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Lo(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="start",sA="close",rA="pLPCommand",oA="pRTLPCB",nk="id",ik="pw",sk="ser",aA="cb",lA="seg",cA="ts",uA="d",hA="dframe",rk=1870,ok=30,dA=rk-ok,fA=25e3,pA=3e4;class Hr{constructor(t,n,i,s,r,a,l){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jl(t),this.stats_=Lg(n),this.urlFn=u=>(this.appCheckToken&&(u[Zp]=this.appCheckToken),ek(n,JC,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new iA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pA)),VO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ng((...r)=>{const[a,l,u,h,f]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===k0)this.id=l,this.password=u;else if(a===sA)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[k0]="t",i[sk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[aA]=this.scriptTagHolder.uniqueCallbackIdentifier),i[$C]=Ig,this.transportSessionId&&(i[ZC]=this.transportSessionId),this.lastSessionId&&(i[qC]=this.lastSessionId),this.applicationId&&(i[QC]=this.applicationId),this.appCheckToken&&(i[Zp]=this.appCheckToken),typeof location<"u"&&location.hostname&&YC.test(location.hostname)&&(i[GC]=KC);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hr.forceAllow_=!0}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){return Hr.forceAllow_?!0:!Hr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$O()&&!ZO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=oe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=EC(n),s=VC(i,dA);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[hA]="t",i[nk]=t,i[ik]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=oe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ng{constructor(t,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jO(),window[rA+this.uniqueCallbackIdentifier]=t,window[oA+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ng.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Pe("frame writing exception"),l.stack&&Pe(l.stack),Pe(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Pe("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[nk]=this.myID,t[ik]=this.myPW,t[sk]=this.currentSerial;let n=this.urlFn(t),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ok+i.length<=rk;){const a=this.pendingSegs.shift();i=i+"&"+lA+s+"="+a.seg+"&"+cA+s+"="+a.ts+"&"+uA+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(fA)),r=()=>{clearTimeout(s),i()};this.addTag(t,r)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Pe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=16384,gA=45e3;let Ju=null;typeof MozWebSocket<"u"?Ju=MozWebSocket:typeof WebSocket<"u"&&(Ju=WebSocket);class Mn{constructor(t,n,i,s,r,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jl(this.connId),this.stats_=Lg(n),this.connURL=Mn.connectionURL_(n,a,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,s,r){const a={};return a[$C]=Ig,typeof location<"u"&&location.hostname&&YC.test(location.hostname)&&(a[GC]=KC),n&&(a[ZC]=n),i&&(a[qC]=i),s&&(a[Zp]=s),r&&(a[QC]=r),ek(t,XC,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$s.set("previous_websocket_failure",!0);try{let i;hN(),this.mySock=new Ju(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Mn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Ju!==null&&!Mn.forceDisallow_}static previouslyFailed(){return $s.isInMemoryStorage||$s.get("previous_websocket_failure")===!0}markConnectionHealthy(){$s.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ul(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if($(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=oe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=VC(n,mA);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gA))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mn.responsesRequiredToBeHealthy=2;Mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static get ALL_TRANSPORTS(){return[Hr,Mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Mn&&Mn.isAvailable();let i=n&&!Mn.previouslyFailed();if(t.webSocketOnly&&(n||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Mn];else{const s=this.transports_=[];for(const r of fl.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);fl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=6e4,vA=5e3,yA=10*1024,xA=100*1024,Sf="t",E0="d",wA="s",P0="r",bA="e",T0="o",M0="a",I0="n",L0="p",SA="h";class CA{constructor(t,n,i,s,r,a,l,u,h,f){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jl("c:"+this.id+":"),this.transportManager_=new fl(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Sf in t){const n=t[Sf];n===M0?this.upgradeIfSecondaryHealthy_():n===P0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===T0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=sa("t",t),i=sa("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:L0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:M0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:I0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=sa("t",t),i=sa("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=sa(Sf,t);if(E0 in t){const i=t[E0];if(n===SA){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===I0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===wA?this.onConnectionShutdown_(i):n===P0?this.onReset_(i):n===bA?$p("Server Error: "+i):n===T0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$p("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ig!==i&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_A))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:L0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{put(t,n,i,s){}merge(t,n,i,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t){this.allowedEvents_=t,this.listeners_={},$(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const s=this.getInitialEvent(t);s&&n.apply(i,s)}off(t,n,i){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(t){$(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends lk{static getInstance(){return new th}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!IC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return $(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=32,O0=768;class It{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Et(){return new It("")}function mt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _s(e){return e.pieces_.length-e.pieceNum_}function At(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new It(e.pieces_,t)}function ck(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function kA(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function uk(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function hk(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new It(t,0)}function ae(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof It)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new It(n,0)}function _t(e){return e.pieceNum_>=e.pieces_.length}function Re(e,t){const n=mt(e),i=mt(t);if(n===null)return t;if(n===i)return Re(At(e),At(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Og(e,t){if(_s(e)!==_s(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function In(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(_s(e)>_s(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class EA{constructor(t,n){this.errorPrefix_=n,this.parts_=uk(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Hh(this.parts_[i]);dk(this)}}function PA(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Hh(t),dk(e)}function TA(e){const t=e.parts_.pop();e.byteLength_-=Hh(t),e.parts_.length>0&&(e.byteLength_-=1)}function dk(e){if(e.byteLength_>O0)throw new Error(e.errorPrefix_+"has a key path longer than "+O0+" bytes ("+e.byteLength_+").");if(e.parts_.length>N0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+N0+") or object contains a cycle "+Bs(e))}function Bs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends lk{static getInstance(){return new Ag}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return $(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=1e3,MA=60*5*1e3,A0=30*1e3,IA=1.3,LA=3e4,NA="server_kill",R0=3;class wi extends ak{constructor(t,n,i,s,r,a,l,u){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=wi.nextPersistentConnectionId_++,this.log_=jl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ra,this.maxReconnectDelay_=MA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ag.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&th.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const s=++this.requestNumber_,r={r:s,a:t,b:n};this.log_(oe(r)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const n=new Wh,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(t,n,i,s){this.initConnection_();const r=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:t,tag:i};this.listens.get(a).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";t.tag&&(r.q=n._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest(a,r,l=>{const u=l.d,h=l.s;wi.warnOnListenWarnings_(u,n),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(i,s),t.onComplete&&t.onComplete(h,u))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Ii(t,"w")){const i=vo(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||vN(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=A0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=_N(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===t&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,n)}sendUnlisten_(t,n,i,s){this.log_("Unlisten on "+t+" for "+n);const r={p:t},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,n,i,s){this.putInternal("p",t,n,i,s)}merge(t,n,i,s){this.putInternal("m",t,n,i,s)}putInternal(t,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+oe(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):$p("Unrecognized action received from server: "+oe(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LA&&(this.reconnectDelay_=ra),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*IA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+wi.nextConnectionId_++,r=this.lastSessionId;let a=!1,l=null;const u=function(){l?l.close():(a=!0,i())},h=function(p){$(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:u,sendRequest:h};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,l=new CA(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,v=>{qe(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(NA)},r))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&qe(p),u())}}}interrupt(t){Pe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Pe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],u0(this.interruptReasons_)&&(this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(r=>Mg(r)).join("$"):i="default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,n){const i=new It(t).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,n){Pe("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=R0&&(this.reconnectDelay_=A0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Pe("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=R0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+BC.replace(/\./g,"-")]=1,IC()?t["framework.cordova"]=1:uN()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=th.getInstance().currentlyOnline();return u0(this.interruptReasons_)&&t}}wi.nextPersistentConnectionId_=0;wi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new gt(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new gt(yo,t),s=new gt(yo,n);return this.compare(i,s)!==0}minPost(){return gt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;class fk extends Vh{static get __EMPTY_NODE(){return Lc}static set __EMPTY_NODE(t){Lc=t}compare(t,n){return Io(t.name,n.name)}isDefinedOn(t){throw To("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return gt.MIN}maxPost(){return new gt(lr,Lc)}makePost(t,n){return $(typeof t=="string","KeyIndex indexValue must always be a string."),new gt(t,Lc)}toString(){return".key"}}const Qr=new fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,s&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class fe{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??fe.RED,this.left=s??Ze.EMPTY_NODE,this.right=r??Ze.EMPTY_NODE}copy(t,n,i,s,r){return new fe(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ze.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,s;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}fe.RED=!0;fe.BLACK=!1;class OA{copy(t,n,i,s,r){return this}insert(t,n,i){return new fe(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ze{constructor(t,n=Ze.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ze(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,fe.BLACK,null,null))}remove(t){return new Ze(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,fe.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Nc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Nc(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Nc(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Nc(this.root_,null,this.comparator_,!0,t)}}Ze.EMPTY_NODE=new OA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(e,t){return Io(e.name,t.name)}function Rg(e,t){return Io(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp;function RA(e){Gp=e}const pk=function(e){return typeof e=="number"?"number:"+UC(e):"string:"+e},mk=function(e){if(e.isLeafNode()){const t=e.val();$(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ii(t,".sv"),"Priority must be a string or number.")}else $(e===Gp||e.isEmpty(),"priority of unexpected type.");$(e===Gp||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0;class he{static set __childrenNodeConstructor(t){D0=t}static get __childrenNodeConstructor(){return D0}constructor(t,n=he.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mk(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new he(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return _t(t)?this:mt(t)===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:he.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=mt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:($(i!==".priority"||_s(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,he.__childrenNodeConstructor.EMPTY_NODE.updateChild(At(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+pk(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=UC(this.value_):t+=this.value_,this.lazyHash_=WC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===he.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof he.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,s=he.VALUE_TYPE_ORDER.indexOf(n),r=he.VALUE_TYPE_ORDER.indexOf(i);return $(s>=0,"Unknown leaf type: "+n),$(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}he.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gk,_k;function DA(e){gk=e}function FA(e){_k=e}class zA extends Vh{compare(t,n){const i=t.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Io(t.name,n.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return gt.MIN}maxPost(){return new gt(lr,new he("[PRIORITY-POST]",_k))}makePost(t,n){const i=gk(t);return new gt(n,new he("[PRIORITY-POST]",i))}toString(){return".priority"}}const Qt=new zA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=Math.log(2);class jA{constructor(t){const n=r=>parseInt(Math.log(r)/BA,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const s=i(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const eh=function(e,t,n,i){e.sort(t);const s=function(u,h){const f=h-u;let p,g;if(f===0)return null;if(f===1)return p=e[u],g=n?n(p):p,new fe(g,p.node,fe.BLACK,null,null);{const v=parseInt(f/2,10)+u,x=s(u,v),y=s(v+1,h);return p=e[v],g=n?n(p):p,new fe(g,p.node,fe.BLACK,x,y)}},r=function(u){let h=null,f=null,p=e.length;const g=function(x,y){const S=p-x,w=p;p-=x;const b=s(S+1,w),k=e[S],P=n?n(k):k;v(new fe(P,k.node,y,null,b))},v=function(x){h?(h.left=x,h=x):(f=x,h=x)};for(let x=0;x<u.count;++x){const y=u.nextBitIsOne(),S=Math.pow(2,u.count-(x+1));y?g(S,fe.BLACK):(g(S,fe.BLACK),g(S,fe.RED))}return f},a=new jA(e.length),l=r(a);return new Ze(i||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;const Pr={};class gi{static get Default(){return $(Pr&&Qt,"ChildrenNode.ts has not been loaded"),Cf=Cf||new gi({".priority":Pr},{".priority":Qt}),Cf}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=vo(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ze?n:null}hasIndex(t){return Ii(this.indexSet_,t.toString())}addIndex(t,n){$(t!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(gt.Wrap);let a=r.getNext();for(;a;)s=s||t.isDefinedOn(a.node),i.push(a),a=r.getNext();let l;s?l=eh(i,t.getCompare()):l=Pr;const u=t.toString(),h=Object.assign({},this.indexSet_);h[u]=t;const f=Object.assign({},this.indexes_);return f[u]=l,new gi(f,h)}addToIndexes(t,n){const i=Yu(this.indexes_,(s,r)=>{const a=vo(this.indexSet_,r);if($(a,"Missing index implementation for "+r),s===Pr)if(a.isDefinedOn(t.node)){const l=[],u=n.getIterator(gt.Wrap);let h=u.getNext();for(;h;)h.name!==t.name&&l.push(h),h=u.getNext();return l.push(t),eh(l,a.getCompare())}else return Pr;else{const l=n.get(t.name);let u=s;return l&&(u=u.remove(new gt(t.name,l))),u.insert(t,t.node)}});return new gi(i,this.indexSet_)}removeFromIndexes(t,n){const i=Yu(this.indexes_,s=>{if(s===Pr)return s;{const r=n.get(t.name);return r?s.remove(new gt(t.name,r)):s}});return new gi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa;class it{static get EMPTY_NODE(){return oa||(oa=new it(new Ze(Rg),null,gi.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mk(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oa}updatePriority(t){return this.children_.isEmpty()?this:new it(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?oa:n}}getChild(t){const n=mt(t);return n===null?this:this.getImmediateChild(n).getChild(At(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if($(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new gt(t,n);let s,r;n.isEmpty()?(s=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?oa:this.priorityNode_;return new it(s,a,r)}}updateChild(t,n){const i=mt(t);if(i===null)return n;{$(mt(t)!==".priority"||_s(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(At(t),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(Qt,(a,l)=>{n[a]=l.val(t),i++,r&&it.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!t&&r&&s<2*i){const a=[];for(const l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+pk(this.getPriority().val())+":"),this.forEachChild(Qt,(n,i)=>{const s=i.hash();s!==""&&(t+=":"+n+":"+s)}),this.lazyHash_=t===""?"":WC(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new gt(t,n));return r?r.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new gt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new gt(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,gt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,t)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,gt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,t)>0;)s.getNext(),r=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wl?-1:0}withIndex(t){if(t===Qr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new it(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Qr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Qt),s=n.getIterator(Qt);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Qr?null:this.indexMap_.get(t.toString())}}it.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WA extends it{constructor(){super(new Ze(Rg),it.EMPTY_NODE,gi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return it.EMPTY_NODE}isEmpty(){return!1}}const Wl=new WA;Object.defineProperties(gt,{MIN:{value:new gt(yo,it.EMPTY_NODE)},MAX:{value:new gt(lr,Wl)}});fk.__EMPTY_NODE=it.EMPTY_NODE;he.__childrenNodeConstructor=it;RA(Wl);FA(Wl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=!0;function pe(e,t=null){if(e===null)return it.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),$(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new he(n,pe(t))}if(!(e instanceof Array)&&HA){const n=[];let i=!1;if(Qe(e,(a,l)=>{if(a.substring(0,1)!=="."){const u=pe(l);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),n.push(new gt(a,u)))}}),n.length===0)return it.EMPTY_NODE;const r=eh(n,AA,a=>a.name,Rg);if(i){const a=eh(n,Qt.getCompare());return new it(r,pe(t),new gi({".priority":a},{".priority":Qt}))}else return new it(r,pe(t),gi.Default)}else{let n=it.EMPTY_NODE;return Qe(e,(i,s)=>{if(Ii(e,i)&&i.substring(0,1)!=="."){const r=pe(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(pe(t))}}DA(pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends Vh{constructor(t){super(),this.indexPath_=t,$(!_t(t)&&mt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Io(t.name,n.name):r}makePost(t,n){const i=pe(t),s=it.EMPTY_NODE.updateChild(this.indexPath_,i);return new gt(n,s)}maxPost(){const t=it.EMPTY_NODE.updateChild(this.indexPath_,Wl);return new gt(lr,t)}toString(){return uk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends Vh{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Io(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return gt.MIN}maxPost(){return gt.MAX}makePost(t,n){const i=pe(t);return new gt(n,i)}toString(){return".value"}}const $A=new UA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(e){return{type:"value",snapshotNode:e}}function xo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function pl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ml(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function ZA(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this.index_=t}updateChild(t,n,i,s,r,a){$(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(pl(n,l)):$(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(xo(n,i)):a.trackChildChange(ml(n,i,l))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Qt,(s,r)=>{n.hasChild(s)||i.trackChildChange(pl(s,r))}),n.isLeafNode()||n.forEachChild(Qt,(s,r)=>{if(t.hasChild(s)){const a=t.getImmediateChild(s);a.equals(r)||i.trackChildChange(ml(s,r,a))}else i.trackChildChange(xo(s,r))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?it.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t){this.indexedFilter_=new Dg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gl.getStartPost_(t),this.endPost_=gl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,s,r,a){return this.matches(new gt(n,i))||(i=it.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,s,r,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=it.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(it.EMPTY_NODE);const r=this;return n.forEachChild(Qt,(a,l)=>{r.matches(new gt(a,l))||(s=s.updateImmediateChild(a,it.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,s,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new gl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,s,r,a){return this.rangedFilter_.matches(new gt(n,i))||(i=it.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,s,r,a):this.fullLimitUpdateChild_(t,n,i,r,a)}updateFullNode(t,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=it.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=it.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;r.hasNext()&&a<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(it.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let a=0;for(;r.hasNext();){const l=r.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:s=s.updateImmediateChild(l.name,it.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,s,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,s,r){let a;if(this.reverse_){const p=this.index_.getCompare();a=(g,v)=>p(v,g)}else a=this.index_.getCompare();const l=t;$(l.numChildren()===this.limit_,"");const u=new gt(n,i),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(l.hasChild(n)){const p=l.getImmediateChild(n);let g=s.getChildAfterChild(this.index_,h,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=s.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:a(g,u);if(f&&!i.isEmpty()&&v>=0)return r!=null&&r.trackChildChange(ml(n,i,p)),l.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(pl(n,p));const y=l.updateImmediateChild(n,it.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(r!=null&&r.trackChildChange(xo(g.name,g.node)),y.updateImmediateChild(g.name,g.node)):y}}else return i.isEmpty()?t:f&&a(h,u)>=0?(r!=null&&(r.trackChildChange(pl(h.name,h.node)),r.trackChildChange(xo(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(h.name,it.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yo}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const t=new Fg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function KA(e){return e.loadsAllData()?new Dg(e.getIndex()):e.hasLimit()?new GA(e):new gl(e)}function F0(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Qt?n="$priority":e.index_===$A?n="$value":e.index_===Qr?n="$key":($(e.index_ instanceof VA,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=oe(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=oe(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+oe(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=oe(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+oe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function z0(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Qt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends ak{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:($(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,s){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=jl("p:rest:"),this.listens_={}}listen(t,n,i,s){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const a=nh.getListenId_(t,i),l={};this.listens_[a]=l;const u=F0(t._queryParams);this.restRequest_(r+".json",u,(h,f)=>{let p=f;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(r,p,!1,i),vo(this.listens_,a)===l){let g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",s(g,null)}})}unlisten(t,n){const i=nh.getListenId_(t,n);delete this.listens_[i]}get(t){const n=F0(t._queryParams),i=t._path.toString(),s=new Wh;return this.restRequest_(i+".json",n,(r,a)=>{let l=a;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+yN(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=ul(l.responseText)}catch{qe("Failed to parse JSON response for "+a+": "+l.responseText)}i(null,u)}else l.status!==401&&l.status!==404&&qe("Got unsuccessful REST response for "+a+" Status: "+l.status),i(l.status);i=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(){return{value:null,children:new Map}}function yk(e,t,n){if(_t(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=mt(t);e.children.has(i)||e.children.set(i,ih());const s=e.children.get(i);t=At(t),yk(s,t,n)}}function Kp(e,t,n){e.value!==null?n(t,e.value):qA(e,(i,s)=>{const r=new It(t.toString()+"/"+i);Kp(s,r,n)})}function qA(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Qe(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=10*1e3,XA=30*1e3,JA=5*60*1e3;class tR{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new QA(t);const i=B0+(XA-B0)*Math.random();Ra(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Qe(t,(s,r)=>{r>0&&Ii(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*JA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ln||(Ln={}));function xk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Ln.ACK_USER_WRITE,this.source=xk()}operationForChild(t){if(_t(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new It(t));return new sh(Et(),n,this.revert)}}else return $(mt(this.path)===t,"operationForChild called for unrelated child."),new sh(At(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,n){this.source=t,this.path=n,this.type=Ln.LISTEN_COMPLETE}operationForChild(t){return _t(this.path)?new _l(this.source,Et()):new _l(this.source,At(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Ln.OVERWRITE}operationForChild(t){return _t(this.path)?new cr(this.source,Et(),this.snap.getImmediateChild(t)):new cr(this.source,At(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Ln.MERGE}operationForChild(t){if(_t(this.path)){const n=this.children.subtree(new It(t));return n.isEmpty()?null:n.value?new cr(this.source,Et(),n.value):new vl(this.source,Et(),n)}else return $(mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vl(this.source,At(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(_t(t))return this.isFullyInitialized()&&!this.filtered_;const n=mt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function nR(e,t,n,i){const s=[],r=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(ZA(a.childName,a.snapshotNode))}),aa(e,s,"child_removed",t,i,n),aa(e,s,"child_added",t,i,n),aa(e,s,"child_moved",r,i,n),aa(e,s,"child_changed",t,i,n),aa(e,s,"value",t,i,n),s}function aa(e,t,n,i,s,r){const a=i.filter(l=>l.type===n);a.sort((l,u)=>sR(e,l,u)),a.forEach(l=>{const u=iR(e,l,r);s.forEach(h=>{h.respondsTo(l.type)&&t.push(h.createEvent(u,e.query_))})})}function iR(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function sR(e,t,n){if(t.childName==null||n.childName==null)throw To("Should only compare child_ events.");const i=new gt(t.childName,t.snapshotNode),s=new gt(n.childName,n.snapshotNode);return e.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(e,t){return{eventCache:e,serverCache:t}}function Da(e,t,n,i){return Uh(new vs(t,n,i),e.serverCache)}function wk(e,t,n,i){return Uh(e.eventCache,new vs(t,n,i))}function rh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ur(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf;const rR=()=>(kf||(kf=new Ze(UO)),kf);class zt{static fromObject(t){let n=new zt(null);return Qe(t,(i,s)=>{n=n.set(new It(i),s)}),n}constructor(t,n=rR()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Et(),value:this.value};if(_t(t))return null;{const i=mt(t),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(At(t),n);return r!=null?{path:ae(new It(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(_t(t))return this;{const n=mt(t),i=this.children.get(n);return i!==null?i.subtree(At(t)):new zt(null)}}set(t,n){if(_t(t))return new zt(n,this.children);{const i=mt(t),r=(this.children.get(i)||new zt(null)).set(At(t),n),a=this.children.insert(i,r);return new zt(this.value,a)}}remove(t){if(_t(t))return this.children.isEmpty()?new zt(null):new zt(null,this.children);{const n=mt(t),i=this.children.get(n);if(i){const s=i.remove(At(t));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new zt(null):new zt(this.value,r)}else return this}}get(t){if(_t(t))return this.value;{const n=mt(t),i=this.children.get(n);return i?i.get(At(t)):null}}setTree(t,n){if(_t(t))return n;{const i=mt(t),r=(this.children.get(i)||new zt(null)).setTree(At(t),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new zt(this.value,a)}}fold(t){return this.fold_(Et(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(ae(t,s),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Et(),n)}findOnPath_(t,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(_t(t))return null;{const r=mt(t),a=this.children.get(r);return a?a.findOnPath_(At(t),ae(n,r),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Et(),n)}foreachOnPath_(t,n,i){if(_t(t))return this;{this.value&&i(n,this.value);const s=mt(t),r=this.children.get(s);return r?r.foreachOnPath_(At(t),ae(n,s),i):new zt(null)}}foreach(t){this.foreach_(Et(),t)}foreach_(t,n){this.children.inorderTraversal((i,s)=>{s.foreach_(ae(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.writeTree_=t}static empty(){return new Rn(new zt(null))}}function Fa(e,t,n){if(_t(t))return new Rn(new zt(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const s=i.path;let r=i.value;const a=Re(s,t);return r=r.updateChild(a,n),new Rn(e.writeTree_.set(s,r))}else{const s=new zt(n),r=e.writeTree_.setTree(t,s);return new Rn(r)}}}function j0(e,t,n){let i=e;return Qe(n,(s,r)=>{i=Fa(i,ae(t,s),r)}),i}function W0(e,t){if(_t(t))return Rn.empty();{const n=e.writeTree_.setTree(t,new zt(null));return new Rn(n)}}function Yp(e,t){return mr(e,t)!=null}function mr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Re(n.path,t)):null}function H0(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(i,s)=>{t.push(new gt(i,s))}):e.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&t.push(new gt(i,s.value))}),t}function ds(e,t){if(_t(t))return e;{const n=mr(e,t);return n!=null?new Rn(new zt(n)):new Rn(e.writeTree_.subtree(t))}}function qp(e){return e.writeTree_.isEmpty()}function wo(e,t){return bk(Et(),e.writeTree_,t)}function bk(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((s,r)=>{s===".priority"?($(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=bk(ae(e,s),r,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(ae(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e,t){return Ek(t,e)}function oR(e,t,n,i,s){$(i>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:s}),s&&(e.visibleWrites=Fa(e.visibleWrites,t,n)),e.lastWriteId=i}function aR(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function lR(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);$(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let s=i.visible,r=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const l=e.allWrites[a];l.visible&&(a>=n&&cR(l,i.path)?s=!1:In(i.path,l.path)&&(r=!0)),a--}if(s){if(r)return uR(e),!0;if(i.snap)e.visibleWrites=W0(e.visibleWrites,i.path);else{const l=i.children;Qe(l,u=>{e.visibleWrites=W0(e.visibleWrites,ae(i.path,u))})}return!0}else return!1}function cR(e,t){if(e.snap)return In(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&In(ae(e.path,n),t))return!0;return!1}function uR(e){e.visibleWrites=Sk(e.allWrites,hR,Et()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function hR(e){return e.visible}function Sk(e,t,n){let i=Rn.empty();for(let s=0;s<e.length;++s){const r=e[s];if(t(r)){const a=r.path;let l;if(r.snap)In(n,a)?(l=Re(n,a),i=Fa(i,l,r.snap)):In(a,n)&&(l=Re(a,n),i=Fa(i,Et(),r.snap.getChild(l)));else if(r.children){if(In(n,a))l=Re(n,a),i=j0(i,l,r.children);else if(In(a,n))if(l=Re(a,n),_t(l))i=j0(i,Et(),r.children);else{const u=vo(r.children,mt(l));if(u){const h=u.getChild(At(l));i=Fa(i,Et(),h)}}}else throw To("WriteRecord should have .snap or .children")}}return i}function Ck(e,t,n,i,s){if(!i&&!s){const r=mr(e.visibleWrites,t);if(r!=null)return r;{const a=ds(e.visibleWrites,t);if(qp(a))return n;if(n==null&&!Yp(a,Et()))return null;{const l=n||it.EMPTY_NODE;return wo(a,l)}}}else{const r=ds(e.visibleWrites,t);if(!s&&qp(r))return n;if(!s&&n==null&&!Yp(r,Et()))return null;{const a=function(h){return(h.visible||s)&&(!i||!~i.indexOf(h.writeId))&&(In(h.path,t)||In(t,h.path))},l=Sk(e.allWrites,a,t),u=n||it.EMPTY_NODE;return wo(l,u)}}}function dR(e,t,n){let i=it.EMPTY_NODE;const s=mr(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Qt,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=ds(e.visibleWrites,t);return n.forEachChild(Qt,(a,l)=>{const u=wo(ds(r,new It(a)),l);i=i.updateImmediateChild(a,u)}),H0(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=ds(e.visibleWrites,t);return H0(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function fR(e,t,n,i,s){$(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=ae(t,n);if(Yp(e.visibleWrites,r))return null;{const a=ds(e.visibleWrites,r);return qp(a)?s.getChild(n):wo(a,s.getChild(n))}}function pR(e,t,n,i){const s=ae(t,n),r=mr(e.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=ds(e.visibleWrites,s);return wo(a,i.getNode().getImmediateChild(n))}else return null}function mR(e,t){return mr(e.visibleWrites,t)}function gR(e,t,n,i,s,r,a){let l;const u=ds(e.visibleWrites,t),h=mr(u,Et());if(h!=null)l=h;else if(n!=null)l=wo(u,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const f=[],p=a.getCompare(),g=r?l.getReverseIteratorFrom(i,a):l.getIteratorFrom(i,a);let v=g.getNext();for(;v&&f.length<s;)p(v,i)!==0&&f.push(v),v=g.getNext();return f}else return[]}function _R(){return{visibleWrites:Rn.empty(),allWrites:[],lastWriteId:-1}}function oh(e,t,n,i){return Ck(e.writeTree,e.treePath,t,n,i)}function jg(e,t){return dR(e.writeTree,e.treePath,t)}function V0(e,t,n,i){return fR(e.writeTree,e.treePath,t,n,i)}function ah(e,t){return mR(e.writeTree,ae(e.treePath,t))}function vR(e,t,n,i,s,r){return gR(e.writeTree,e.treePath,t,n,i,s,r)}function Wg(e,t,n){return pR(e.writeTree,e.treePath,t,n)}function kk(e,t){return Ek(ae(e.treePath,t),e.writeTree)}function Ek(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,ml(i,t.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,pl(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,xo(i,t.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,ml(i,t.snapshotNode,s.oldSnap));else throw To("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Pk=new xR;class Hg{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new vs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wg(this.writes_,t,i)}}getChildAfterChild(t,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ur(this.viewCache_),r=vR(this.writes_,s,n,1,i,t);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(e){return{filter:e}}function bR(e,t){$(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),$(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function SR(e,t,n,i,s){const r=new yR;let a,l;if(n.type===Ln.OVERWRITE){const h=n;h.source.fromUser?a=Qp(e,t,h.path,h.snap,i,s,r):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered()&&!_t(h.path),a=lh(e,t,h.path,h.snap,i,s,l,r))}else if(n.type===Ln.MERGE){const h=n;h.source.fromUser?a=kR(e,t,h.path,h.children,i,s,r):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=Xp(e,t,h.path,h.children,i,s,l,r))}else if(n.type===Ln.ACK_USER_WRITE){const h=n;h.revert?a=TR(e,t,h.path,i,s,r):a=ER(e,t,h.path,h.affectedTree,i,s,r)}else if(n.type===Ln.LISTEN_COMPLETE)a=PR(e,t,n.path,i,r);else throw To("Unknown operation type: "+n.type);const u=r.getChanges();return CR(t,a,u),{viewCache:a,changes:u}}function CR(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=rh(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(vk(rh(t)))}}function Tk(e,t,n,i,s,r){const a=t.eventCache;if(ah(i,n)!=null)return t;{let l,u;if(_t(n))if($(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const h=ur(t),f=h instanceof it?h:it.EMPTY_NODE,p=jg(i,f);l=e.filter.updateFullNode(t.eventCache.getNode(),p,r)}else{const h=oh(i,ur(t));l=e.filter.updateFullNode(t.eventCache.getNode(),h,r)}else{const h=mt(n);if(h===".priority"){$(_s(n)===1,"Can't have a priority with additional path components");const f=a.getNode();u=t.serverCache.getNode();const p=V0(i,n,f,u);p!=null?l=e.filter.updatePriority(f,p):l=a.getNode()}else{const f=At(n);let p;if(a.isCompleteForChild(h)){u=t.serverCache.getNode();const g=V0(i,n,a.getNode(),u);g!=null?p=a.getNode().getImmediateChild(h).updateChild(f,g):p=a.getNode().getImmediateChild(h)}else p=Wg(i,h,t.serverCache);p!=null?l=e.filter.updateChild(a.getNode(),h,p,f,s,r):l=a.getNode()}}return Da(t,l,a.isFullyInitialized()||_t(n),e.filter.filtersNodes())}}function lh(e,t,n,i,s,r,a,l){const u=t.serverCache;let h;const f=a?e.filter:e.filter.getIndexedFilter();if(_t(n))h=f.updateFullNode(u.getNode(),i,null);else if(f.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(n,i);h=f.updateFullNode(u.getNode(),v,null)}else{const v=mt(n);if(!u.isCompleteForPath(n)&&_s(n)>1)return t;const x=At(n),S=u.getNode().getImmediateChild(v).updateChild(x,i);v===".priority"?h=f.updatePriority(u.getNode(),S):h=f.updateChild(u.getNode(),v,S,x,Pk,null)}const p=wk(t,h,u.isFullyInitialized()||_t(n),f.filtersNodes()),g=new Hg(s,p,r);return Tk(e,p,n,s,g,l)}function Qp(e,t,n,i,s,r,a){const l=t.eventCache;let u,h;const f=new Hg(s,t,r);if(_t(n))h=e.filter.updateFullNode(t.eventCache.getNode(),i,a),u=Da(t,h,!0,e.filter.filtersNodes());else{const p=mt(n);if(p===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),i),u=Da(t,h,l.isFullyInitialized(),l.isFiltered());else{const g=At(n),v=l.getNode().getImmediateChild(p);let x;if(_t(g))x=i;else{const y=f.getCompleteChild(p);y!=null?ck(g)===".priority"&&y.getChild(hk(g)).isEmpty()?x=y:x=y.updateChild(g,i):x=it.EMPTY_NODE}if(v.equals(x))u=t;else{const y=e.filter.updateChild(l.getNode(),p,x,g,f,a);u=Da(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function U0(e,t){return e.eventCache.isCompleteForChild(t)}function kR(e,t,n,i,s,r,a){let l=t;return i.foreach((u,h)=>{const f=ae(n,u);U0(t,mt(f))&&(l=Qp(e,l,f,h,s,r,a))}),i.foreach((u,h)=>{const f=ae(n,u);U0(t,mt(f))||(l=Qp(e,l,f,h,s,r,a))}),l}function $0(e,t,n){return n.foreach((i,s)=>{t=t.updateChild(i,s)}),t}function Xp(e,t,n,i,s,r,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,h;_t(n)?h=i:h=new zt(null).setTree(n,i);const f=t.serverCache.getNode();return h.children.inorderTraversal((p,g)=>{if(f.hasChild(p)){const v=t.serverCache.getNode().getImmediateChild(p),x=$0(e,v,g);u=lh(e,u,new It(p),x,s,r,a,l)}}),h.children.inorderTraversal((p,g)=>{const v=!t.serverCache.isCompleteForChild(p)&&g.value===null;if(!f.hasChild(p)&&!v){const x=t.serverCache.getNode().getImmediateChild(p),y=$0(e,x,g);u=lh(e,u,new It(p),y,s,r,a,l)}}),u}function ER(e,t,n,i,s,r,a){if(ah(s,n)!=null)return t;const l=t.serverCache.isFiltered(),u=t.serverCache;if(i.value!=null){if(_t(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return lh(e,t,n,u.getNode().getChild(n),s,r,l,a);if(_t(n)){let h=new zt(null);return u.getNode().forEachChild(Qr,(f,p)=>{h=h.set(new It(f),p)}),Xp(e,t,n,h,s,r,l,a)}else return t}else{let h=new zt(null);return i.foreach((f,p)=>{const g=ae(n,f);u.isCompleteForPath(g)&&(h=h.set(f,u.getNode().getChild(g)))}),Xp(e,t,n,h,s,r,l,a)}}function PR(e,t,n,i,s){const r=t.serverCache,a=wk(t,r.getNode(),r.isFullyInitialized()||_t(n),r.isFiltered());return Tk(e,a,n,i,Pk,s)}function TR(e,t,n,i,s,r){let a;if(ah(i,n)!=null)return t;{const l=new Hg(i,t,s),u=t.eventCache.getNode();let h;if(_t(n)||mt(n)===".priority"){let f;if(t.serverCache.isFullyInitialized())f=oh(i,ur(t));else{const p=t.serverCache.getNode();$(p instanceof it,"serverChildren would be complete if leaf node"),f=jg(i,p)}f=f,h=e.filter.updateFullNode(u,f,r)}else{const f=mt(n);let p=Wg(i,f,t.serverCache);p==null&&t.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?h=e.filter.updateChild(u,f,p,At(n),l,r):t.eventCache.getNode().hasChild(f)?h=e.filter.updateChild(u,f,it.EMPTY_NODE,At(n),l,r):h=u,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=oh(i,ur(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,r)))}return a=t.serverCache.isFullyInitialized()||ah(i,Et())!=null,Da(t,h,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Dg(i.getIndex()),r=KA(i);this.processor_=wR(r);const a=n.serverCache,l=n.eventCache,u=s.updateFullNode(it.EMPTY_NODE,a.getNode(),null),h=r.updateFullNode(it.EMPTY_NODE,l.getNode(),null),f=new vs(u,a.isFullyInitialized(),s.filtersNodes()),p=new vs(h,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Uh(p,f),this.eventGenerator_=new eR(this.query_)}get query(){return this.query_}}function IR(e){return e.viewCache_.serverCache.getNode()}function LR(e){return rh(e.viewCache_)}function NR(e,t){const n=ur(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!_t(t)&&!n.getImmediateChild(mt(t)).isEmpty())?n.getChild(t):null}function Z0(e){return e.eventRegistrations_.length===0}function OR(e,t){e.eventRegistrations_.push(t)}function G0(e,t,n){const i=[];if(n){$(t==null,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach(r=>{const a=r.createCancelEvent(n,s);a&&i.push(a)})}if(t){let s=[];for(let r=0;r<e.eventRegistrations_.length;++r){const a=e.eventRegistrations_[r];if(!a.matches(t))s.push(a);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(r+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return i}function K0(e,t,n,i){t.type===Ln.MERGE&&t.source.queryId!==null&&($(ur(e.viewCache_),"We should always have a full cache before handling merges"),$(rh(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,r=SR(e.processor_,s,t,n,i);return bR(e.processor_,r.viewCache),$(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=r.viewCache,Mk(e,r.changes,r.viewCache.eventCache.getNode(),null)}function AR(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qt,(r,a)=>{i.push(xo(r,a))}),n.isFullyInitialized()&&i.push(vk(n.getNode())),Mk(e,i,n.getNode(),t)}function Mk(e,t,n,i){const s=i?[i]:e.eventRegistrations_;return nR(e.eventGenerator_,t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch;class Ik{constructor(){this.views=new Map}}function RR(e){$(!ch,"__referenceConstructor has already been defined"),ch=e}function DR(){return $(ch,"Reference.ts has not been loaded"),ch}function FR(e){return e.views.size===0}function Vg(e,t,n,i){const s=t.source.queryId;if(s!==null){const r=e.views.get(s);return $(r!=null,"SyncTree gave us an op for an invalid query."),K0(r,t,n,i)}else{let r=[];for(const a of e.views.values())r=r.concat(K0(a,t,n,i));return r}}function Lk(e,t,n,i,s){const r=t._queryIdentifier,a=e.views.get(r);if(!a){let l=oh(n,s?i:null),u=!1;l?u=!0:i instanceof it?(l=jg(n,i),u=!1):(l=it.EMPTY_NODE,u=!1);const h=Uh(new vs(l,u,!1),new vs(i,s,!1));return new MR(t,h)}return a}function zR(e,t,n,i,s,r){const a=Lk(e,t,i,s,r);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),OR(a,n),AR(a,n)}function BR(e,t,n,i){const s=t._queryIdentifier,r=[];let a=[];const l=ys(e);if(s==="default")for(const[u,h]of e.views.entries())a=a.concat(G0(h,n,i)),Z0(h)&&(e.views.delete(u),h.query._queryParams.loadsAllData()||r.push(h.query));else{const u=e.views.get(s);u&&(a=a.concat(G0(u,n,i)),Z0(u)&&(e.views.delete(s),u.query._queryParams.loadsAllData()||r.push(u.query)))}return l&&!ys(e)&&r.push(new(DR())(t._repo,t._path)),{removed:r,events:a}}function Nk(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function fs(e,t){let n=null;for(const i of e.views.values())n=n||NR(i,t);return n}function Ok(e,t){if(t._queryParams.loadsAllData())return Zh(e);{const i=t._queryIdentifier;return e.views.get(i)}}function Ak(e,t){return Ok(e,t)!=null}function ys(e){return Zh(e)!=null}function Zh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh;function jR(e){$(!uh,"__referenceConstructor has already been defined"),uh=e}function WR(){return $(uh,"Reference.ts has not been loaded"),uh}let HR=1;class Y0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new zt(null),this.pendingWriteTree_=_R(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rk(e,t,n,i,s){return oR(e.pendingWriteTree_,t,n,i,s),s?Vl(e,new cr(xk(),t,n)):[]}function Zs(e,t,n=!1){const i=aR(e.pendingWriteTree_,t);if(lR(e.pendingWriteTree_,t)){let r=new zt(null);return i.snap!=null?r=r.set(Et(),!0):Qe(i.children,a=>{r=r.set(new It(a),!0)}),Vl(e,new sh(i.path,r,n))}else return[]}function Hl(e,t,n){return Vl(e,new cr(zg(),t,n))}function VR(e,t,n){const i=zt.fromObject(n);return Vl(e,new vl(zg(),t,i))}function UR(e,t){return Vl(e,new _l(zg(),t))}function $R(e,t,n){const i=$g(e,n);if(i){const s=Zg(i),r=s.path,a=s.queryId,l=Re(r,t),u=new _l(Bg(a),l);return Gg(e,r,u)}else return[]}function hh(e,t,n,i,s=!1){const r=t._path,a=e.syncPointTree_.get(r);let l=[];if(a&&(t._queryIdentifier==="default"||Ak(a,t))){const u=BR(a,t,n,i);FR(a)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const h=u.removed;if(l=u.events,!s){const f=h.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=e.syncPointTree_.findOnPath(r,(g,v)=>ys(v));if(f&&!p){const g=e.syncPointTree_.subtree(r);if(!g.isEmpty()){const v=KR(g);for(let x=0;x<v.length;++x){const y=v[x],S=y.query,w=Bk(e,y);e.listenProvider_.startListening(za(S),yl(e,S),w.hashFn,w.onComplete)}}}!p&&h.length>0&&!i&&(f?e.listenProvider_.stopListening(za(t),null):h.forEach(g=>{const v=e.queryToTagMap.get(Gh(g));e.listenProvider_.stopListening(za(g),v)}))}YR(e,h)}return l}function Dk(e,t,n,i){const s=$g(e,i);if(s!=null){const r=Zg(s),a=r.path,l=r.queryId,u=Re(a,t),h=new cr(Bg(l),u,n);return Gg(e,a,h)}else return[]}function ZR(e,t,n,i){const s=$g(e,i);if(s){const r=Zg(s),a=r.path,l=r.queryId,u=Re(a,t),h=zt.fromObject(n),f=new vl(Bg(l),u,h);return Gg(e,a,f)}else return[]}function Jp(e,t,n,i=!1){const s=t._path;let r=null,a=!1;e.syncPointTree_.foreachOnPath(s,(g,v)=>{const x=Re(g,s);r=r||fs(v,x),a=a||ys(v)});let l=e.syncPointTree_.get(s);l?(a=a||ys(l),r=r||fs(l,Et())):(l=new Ik,e.syncPointTree_=e.syncPointTree_.set(s,l));let u;r!=null?u=!0:(u=!1,r=it.EMPTY_NODE,e.syncPointTree_.subtree(s).foreachChild((v,x)=>{const y=fs(x,Et());y&&(r=r.updateImmediateChild(v,y))}));const h=Ak(l,t);if(!h&&!t._queryParams.loadsAllData()){const g=Gh(t);$(!e.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=qR();e.queryToTagMap.set(g,v),e.tagToQueryMap.set(v,g)}const f=$h(e.pendingWriteTree_,s);let p=zR(l,t,n,f,r,u);if(!h&&!a&&!i){const g=Ok(l,t);p=p.concat(QR(e,t,g))}return p}function Ug(e,t,n){const s=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(a,l)=>{const u=Re(a,t),h=fs(l,u);if(h)return h});return Ck(s,t,r,n,!0)}function GR(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(h,f)=>{const p=Re(h,n);i=i||fs(f,p)});let s=e.syncPointTree_.get(n);s?i=i||fs(s,Et()):(s=new Ik,e.syncPointTree_=e.syncPointTree_.set(n,s));const r=i!=null,a=r?new vs(i,!0,!1):null,l=$h(e.pendingWriteTree_,t._path),u=Lk(s,t,l,r?a.getNode():it.EMPTY_NODE,r);return LR(u)}function Vl(e,t){return Fk(t,e.syncPointTree_,null,$h(e.pendingWriteTree_,Et()))}function Fk(e,t,n,i){if(_t(e.path))return zk(e,t,n,i);{const s=t.get(Et());n==null&&s!=null&&(n=fs(s,Et()));let r=[];const a=mt(e.path),l=e.operationForChild(a),u=t.children.get(a);if(u&&l){const h=n?n.getImmediateChild(a):null,f=kk(i,a);r=r.concat(Fk(l,u,h,f))}return s&&(r=r.concat(Vg(s,e,i,n))),r}}function zk(e,t,n,i){const s=t.get(Et());n==null&&s!=null&&(n=fs(s,Et()));let r=[];return t.children.inorderTraversal((a,l)=>{const u=n?n.getImmediateChild(a):null,h=kk(i,a),f=e.operationForChild(a);f&&(r=r.concat(zk(f,l,u,h)))}),s&&(r=r.concat(Vg(s,e,i,n))),r}function Bk(e,t){const n=t.query,i=yl(e,n);return{hashFn:()=>(IR(t)||it.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?$R(e,n._path,i):UR(e,n._path);{const r=GO(s,n);return hh(e,n,null,r)}}}}function yl(e,t){const n=Gh(t);return e.queryToTagMap.get(n)}function Gh(e){return e._path.toString()+"$"+e._queryIdentifier}function $g(e,t){return e.tagToQueryMap.get(t)}function Zg(e){const t=e.indexOf("$");return $(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new It(e.substr(0,t))}}function Gg(e,t,n){const i=e.syncPointTree_.get(t);$(i,"Missing sync point for query tag that we're tracking");const s=$h(e.pendingWriteTree_,t);return Vg(i,n,s,null)}function KR(e){return e.fold((t,n,i)=>{if(n&&ys(n))return[Zh(n)];{let s=[];return n&&(s=Nk(n)),Qe(i,(r,a)=>{s=s.concat(a)}),s}})}function za(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(WR())(e._repo,e._path):e}function YR(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const s=Gh(i),r=e.queryToTagMap.get(s);e.queryToTagMap.delete(s),e.tagToQueryMap.delete(r)}}}function qR(){return HR++}function QR(e,t,n){const i=t._path,s=yl(e,t),r=Bk(e,n),a=e.listenProvider_.startListening(za(t),s,r.hashFn,r.onComplete),l=e.syncPointTree_.subtree(i);if(s)$(!ys(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((h,f,p)=>{if(!_t(h)&&f&&ys(f))return[Zh(f).query];{let g=[];return f&&(g=g.concat(Nk(f).map(v=>v.query))),Qe(p,(v,x)=>{g=g.concat(x)}),g}});for(let h=0;h<u.length;++h){const f=u[h];e.listenProvider_.stopListening(za(f),yl(e,f))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Kg(n)}node(){return this.node_}}class Yg{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ae(this.path_,t);return new Yg(this.syncTree_,n)}node(){return Ug(this.syncTree_,this.path_)}}const XR=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},q0=function(e,t,n){if(!e||typeof e!="object")return e;if($(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return JR(e[".sv"],t,n);if(typeof e[".sv"]=="object")return tD(e[".sv"],t);$(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},JR=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+e)}},tD=function(e,t,n){e.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&$(!1,"Unexpected increment value: "+i);const s=t.node();if($(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},eD=function(e,t,n,i){return qg(t,new Yg(n,e),i)},jk=function(e,t,n){return qg(e,new Kg(t),n)};function qg(e,t,n){const i=e.getPriority().val(),s=q0(i,t.getImmediateChild(".priority"),n);let r;if(e.isLeafNode()){const a=e,l=q0(a.getValue(),t,n);return l!==a.getValue()||s!==a.getPriority().val()?new he(l,pe(s)):e}else{const a=e;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new he(s))),a.forEachChild(Qt,(l,u)=>{const h=qg(u,t.getImmediateChild(l),n);h!==u&&(r=r.updateImmediateChild(l,h))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function Xg(e,t){let n=t instanceof It?t:new It(t),i=e,s=mt(n);for(;s!==null;){const r=vo(i.node.children,s)||{children:{},childCount:0};i=new Qg(s,i,r),n=At(n),s=mt(n)}return i}function No(e){return e.node.value}function Wk(e,t){e.node.value=t,tm(e)}function Hk(e){return e.node.childCount>0}function nD(e){return No(e)===void 0&&!Hk(e)}function Kh(e,t){Qe(e.node.children,(n,i)=>{t(new Qg(n,e,i))})}function Vk(e,t,n,i){n&&t(e),Kh(e,s=>{Vk(s,t,!0)})}function iD(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ul(e){return new It(e.parent===null?e.name:Ul(e.parent)+"/"+e.name)}function tm(e){e.parent!==null&&sD(e.parent,e.name,e)}function sD(e,t,n){const i=nD(n),s=Ii(e.node.children,t);i&&s?(delete e.node.children[t],e.node.childCount--,tm(e)):!i&&!s&&(e.node.children[t]=n.node,e.node.childCount++,tm(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=/[\[\].#$\/\u0000-\u001F\u007F]/,oD=/[\[\].#$\u0000-\u001F\u007F]/,Ef=10*1024*1024,Uk=function(e){return typeof e=="string"&&e.length!==0&&!rD.test(e)},$k=function(e){return typeof e=="string"&&e.length!==0&&!oD.test(e)},aD=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$k(e)},lD=function(e,t,n,i){Jg(Pg(e,"value"),t,n)},Jg=function(e,t,n){const i=n instanceof It?new EA(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Bs(i));if(typeof t=="function")throw new Error(e+"contains a function "+Bs(i)+" with contents = "+t.toString());if(HC(t))throw new Error(e+"contains "+t.toString()+" "+Bs(i));if(typeof t=="string"&&t.length>Ef/3&&Hh(t)>Ef)throw new Error(e+"contains a string greater than "+Ef+" utf8 bytes "+Bs(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,r=!1;if(Qe(t,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!Uk(a)))throw new Error(e+" contains an invalid key ("+a+") "+Bs(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PA(i,a),Jg(e,l,i),TA(i)}),s&&r)throw new Error(e+' contains ".value" child '+Bs(i)+" in addition to actual children.")}},Zk=function(e,t,n,i){if(!$k(n))throw new Error(Pg(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cD=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zk(e,t,n)},uD=function(e,t){if(mt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},hD=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Uk(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!aD(n))throw new Error(Pg(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function t_(e,t){let n=null;for(let i=0;i<t.length;i++){const s=t[i],r=s.getPath();n!==null&&!Og(r,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&e.eventLists_.push(n)}function Gk(e,t,n){t_(e,n),Kk(e,i=>Og(i,t))}function Jn(e,t,n){t_(e,n),Kk(e,i=>In(i,t)||In(t,i))}function Kk(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const s=e.eventLists_[i];if(s){const r=s.path;t(r)?(fD(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function fD(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Aa&&Pe("event: "+n.toString()),Lo(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="repo_interrupt",mD=25;class gD{constructor(t,n,i,s){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ih(),this.transactionQueueTree_=new Qg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _D(e,t,n){if(e.stats_=Lg(e.repoInfo_),e.forceRestClient_||QO())e.server_=new nh(e.repoInfo_,(i,s,r,a)=>{Q0(e,i,s,r,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>X0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{oe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new wi(e.repoInfo_,t,(i,s,r,a)=>{Q0(e,i,s,r,a)},i=>{X0(e,i)},i=>{yD(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=nA(e.repoInfo_,()=>new tR(e.stats_,e.server_)),e.infoData_=new YA,e.infoSyncTree_=new Y0({startListening:(i,s,r,a)=>{let l=[];const u=e.infoData_.getNode(i._path);return u.isEmpty()||(l=Hl(e.infoSyncTree_,i._path,u),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),n_(e,"connected",!1),e.serverSyncTree_=new Y0({startListening:(i,s,r,a)=>(e.server_.listen(i,r,s,(l,u)=>{const h=a(l,u);Jn(e.eventQueue_,i._path,h)}),[]),stopListening:(i,s)=>{e.server_.unlisten(i,s)}})}function vD(e){const n=e.infoData_.getNode(new It(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function e_(e){return XR({timestamp:vD(e)})}function Q0(e,t,n,i,s){e.dataUpdateCount++;const r=new It(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(i){const u=Yu(n,h=>pe(h));a=ZR(e.serverSyncTree_,r,u,s)}else{const u=pe(n);a=Dk(e.serverSyncTree_,r,u,s)}else if(i){const u=Yu(n,h=>pe(h));a=VR(e.serverSyncTree_,r,u)}else{const u=pe(n);a=Hl(e.serverSyncTree_,r,u)}let l=r;a.length>0&&(l=qh(e,r)),Jn(e.eventQueue_,l,a)}function X0(e,t){n_(e,"connected",t),t===!1&&bD(e)}function yD(e,t){Qe(t,(n,i)=>{n_(e,n,i)})}function n_(e,t,n){const i=new It("/.info/"+t),s=pe(n);e.infoData_.updateSnapshot(i,s);const r=Hl(e.infoSyncTree_,i,s);Jn(e.eventQueue_,i,r)}function Yk(e){return e.nextWriteId_++}function xD(e,t,n){const i=GR(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(s=>{const r=pe(s).withIndex(t._queryParams.getIndex());Jp(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=Hl(e.serverSyncTree_,t._path,r);else{const l=yl(e.serverSyncTree_,t);a=Dk(e.serverSyncTree_,t._path,r,l)}return Jn(e.eventQueue_,t._path,a),hh(e.serverSyncTree_,t,n,null,!0),r},s=>(Yh(e,"get for query "+oe(t)+" failed: "+s),Promise.reject(new Error(s))))}function wD(e,t,n,i,s){Yh(e,"set",{path:t.toString(),value:n,priority:i});const r=e_(e),a=pe(n,i),l=Ug(e.serverSyncTree_,t),u=jk(a,l,r),h=Yk(e),f=Rk(e.serverSyncTree_,t,u,h,!0);t_(e.eventQueue_,f),e.server_.put(t.toString(),a.val(!0),(g,v)=>{const x=g==="ok";x||qe("set at "+t+" failed: "+g);const y=Zs(e.serverSyncTree_,h,!x);Jn(e.eventQueue_,t,y),kD(e,s,g,v)});const p=tE(e,t);qh(e,p),Jn(e.eventQueue_,p,[])}function bD(e){Yh(e,"onDisconnectEvents");const t=e_(e),n=ih();Kp(e.onDisconnect_,Et(),(s,r)=>{const a=eD(s,r,e.serverSyncTree_,t);yk(n,s,a)});let i=[];Kp(n,Et(),(s,r)=>{i=i.concat(Hl(e.serverSyncTree_,s,r));const a=tE(e,s);qh(e,a)}),e.onDisconnect_=ih(),Jn(e.eventQueue_,Et(),i)}function SD(e,t,n){let i;mt(t._path)===".info"?i=Jp(e.infoSyncTree_,t,n):i=Jp(e.serverSyncTree_,t,n),Gk(e.eventQueue_,t._path,i)}function J0(e,t,n){let i;mt(t._path)===".info"?i=hh(e.infoSyncTree_,t,n):i=hh(e.serverSyncTree_,t,n),Gk(e.eventQueue_,t._path,i)}function CD(e){e.persistentConnection_&&e.persistentConnection_.interrupt(pD)}function Yh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Pe(n,...t)}function kD(e,t,n,i){t&&Lo(()=>{if(n==="ok")t(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const a=new Error(r);a.code=s,t(a)}})}function qk(e,t,n){return Ug(e.serverSyncTree_,t,n)||it.EMPTY_NODE}function i_(e,t=e.transactionQueueTree_){if(t||Qh(e,t),No(t)){const n=Xk(e,t);$(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&ED(e,Ul(t),n)}else Hk(t)&&Kh(t,n=>{i_(e,n)})}function ED(e,t,n){const i=n.map(h=>h.currentWriteId),s=qk(e,t,i);let r=s;const a=s.hash();for(let h=0;h<n.length;h++){const f=n[h];$(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=Re(t,f.path);r=r.updateChild(p,f.currentOutputSnapshotRaw)}const l=r.val(!0),u=t;e.server_.put(u.toString(),l,h=>{Yh(e,"transaction put response",{path:u.toString(),status:h});let f=[];if(h==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(Zs(e.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Qh(e,Xg(e.transactionQueueTree_,t)),i_(e,e.transactionQueueTree_),Jn(e.eventQueue_,t,f);for(let g=0;g<p.length;g++)Lo(p[g])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{qe("transaction at "+u.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}qh(e,t)}},a)}function qh(e,t){const n=Qk(e,t),i=Ul(n),s=Xk(e,n);return PD(e,s,i),i}function PD(e,t,n){if(t.length===0)return;const i=[];let s=[];const a=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const u=t[l],h=Re(n,u.path);let f=!1,p;if($(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,s=s.concat(Zs(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=mD)f=!0,p="maxretry",s=s.concat(Zs(e.serverSyncTree_,u.currentWriteId,!0));else{const g=qk(e,u.path,a);u.currentInputSnapshot=g;const v=t[l].update(g.val());if(v!==void 0){Jg("transaction failed: Data returned ",v,u.path);let x=pe(v);typeof v=="object"&&v!=null&&Ii(v,".priority")||(x=x.updatePriority(g.getPriority()));const S=u.currentWriteId,w=e_(e),b=jk(x,g,w);u.currentOutputSnapshotRaw=x,u.currentOutputSnapshotResolved=b,u.currentWriteId=Yk(e),a.splice(a.indexOf(S),1),s=s.concat(Rk(e.serverSyncTree_,u.path,b,u.currentWriteId,u.applyLocally)),s=s.concat(Zs(e.serverSyncTree_,S,!0))}else f=!0,p="nodata",s=s.concat(Zs(e.serverSyncTree_,u.currentWriteId,!0))}Jn(e.eventQueue_,n,s),s=[],f&&(t[l].status=2,function(g){setTimeout(g,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(p==="nodata"?i.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):i.push(()=>t[l].onComplete(new Error(p),!1,null))))}Qh(e,e.transactionQueueTree_);for(let l=0;l<i.length;l++)Lo(i[l]);i_(e,e.transactionQueueTree_)}function Qk(e,t){let n,i=e.transactionQueueTree_;for(n=mt(t);n!==null&&No(i)===void 0;)i=Xg(i,n),t=At(t),n=mt(t);return i}function Xk(e,t){const n=[];return Jk(e,t,n),n.sort((i,s)=>i.order-s.order),n}function Jk(e,t,n){const i=No(t);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Kh(t,s=>{Jk(e,s,n)})}function Qh(e,t){const n=No(t);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,Wk(t,n.length>0?n:void 0)}Kh(t,i=>{Qh(e,i)})}function tE(e,t){const n=Ul(Qk(e,t)),i=Xg(e.transactionQueueTree_,t);return iD(i,s=>{Pf(e,s)}),Pf(e,i),Vk(i,s=>{Pf(e,s)}),n}function Pf(e,t){const n=No(t);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?($(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):($(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Zs(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Wk(t,void 0):n.length=r+1,Jn(e.eventQueue_,Ul(t),s);for(let a=0;a<i.length;a++)Lo(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function MD(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):qe(`Invalid query segment '${n}' in query '${e}'`)}return t}const tx=function(e,t){const n=ID(e),i=n.namespace;n.domain==="firebase.com"&&Pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HO();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tk(n.host,n.secure,i,s,t,"",i!==n.subdomain),path:new It(n.pathString)}},ID=function(e){let t="",n="",i="",s="",r="",a=!0,l="https",u=443;if(typeof e=="string"){let h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));let f=e.indexOf("/");f===-1&&(f=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(f,p)),f<p&&(s=TD(e.substring(f,p)));const g=MD(e.substring(Math.min(e.length,p)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",u=parseInt(t.substring(h+1),10)):h=t.length;const v=t.slice(0,h);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const x=t.indexOf(".");i=t.substring(0,x).toLowerCase(),n=t.substring(x+1),r=i}"ns"in g&&(r=g.ns)}return{host:t,port:u,domain:n,subdomain:i,secure:a,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,i,s){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+oe(this.snapshot.exportVal())}}class ND{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(t,n,i,s){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return _t(this._path)?null:ck(this._path)}get ref(){return new Li(this._repo,this._path)}get _queryIdentifier(){const t=z0(this._queryParams),n=Mg(t);return n==="{}"?"default":n}get _queryObject(){return z0(this._queryParams)}isEqual(t){if(t=Mo(t),!(t instanceof s_))return!1;const n=this._repo===t._repo,i=Og(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+kA(this._path)}}class Li extends s_{constructor(t,n){super(t,n,new Fg,!1)}get parent(){const t=hk(this._path);return t===null?null:new Li(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class xl{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new It(t),i=em(this.ref,t);return new xl(this._node.getChild(n),i,Qt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>t(new xl(s,em(this.ref,i),Qt)))}hasChild(t){const n=new It(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function OD(e,t){return e=Mo(e),e._checkNotDeleted("ref"),t!==void 0?em(e._root,t):e._root}function em(e,t){return e=Mo(e),mt(e._path)===null?cD("child","path",t):Zk("child","path",t),new Li(e._repo,ae(e._path,t))}function AD(e,t){e=Mo(e),uD("set",e._path),lD("set",t,e._path);const n=new Wh;return wD(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function RD(e){e=Mo(e);const t=new eE(()=>{}),n=new Xh(t);return xD(e._repo,e,n).then(i=>new xl(i,new Li(e._repo,e._path),e._queryParams.getIndex()))}class Xh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new LD("value",this,new xl(t.snapshotNode,new Li(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ND(this,t,n):null}matches(t){return t instanceof Xh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function DD(e,t,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const u=n,h=(f,p)=>{J0(e._repo,e,l),u(f,p)};h.userCallback=n.userCallback,h.context=n.context,n=h}const a=new eE(n,r||void 0),l=new Xh(a);return SD(e._repo,e,l),()=>J0(e._repo,e,l)}function FD(e,t,n,i){return DD(e,"value",t,n,i)}RR(Li);jR(Li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="FIREBASE_DATABASE_EMULATOR_HOST",nm={};let BD=!1;function jD(e,t,n,i){e.repoInfo_=new tk(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function WD(e,t,n,i,s){let r=i||e.options.databaseURL;r===void 0&&(e.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",e.options.projectId),r=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=tx(r,s),l=a.repoInfo,u;typeof process<"u"&&x0&&(u=x0[zD]),u?(r=`http://${u}?ns=${l.namespace}`,a=tx(r,s),l=a.repoInfo):a.repoInfo.secure;const h=new JO(e.name,e.options,t);hD("Invalid Firebase Database URL",a),_t(a.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");const f=VD(l,e,h,new XO(e,n));return new UD(f,e)}function HD(e,t){const n=nm[t];(!n||n[e.key]!==e)&&Pi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),CD(e),delete n[e.key]}function VD(e,t,n,i){let s=nm[t.name];s||(s={},nm[t.name]=s);let r=s[e.toURLString()];return r&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new gD(e,BD,n,i),s[e.toURLString()]=r,r}class UD{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_D(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Li(this._repo,Et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Pi("Cannot call "+t+" on a deleted database.")}}function $D(e=SO(),t){const n=vO(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=aN("database");i&&ZD(n,...i)}return n}function ZD(e,t,n,i={}){e=Mo(e),e._checkNotDeleted("useEmulator");const s=`${t}:${n}`,r=e._repoInternal;if(e._instanceStarted){if(s===e._repoInternal.repoInfo_.host&&qu(i,r.repoInfo_.emulatorOptions))return;Pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new hu(hu.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:lN(i.mockUserToken,e.app.options.projectId);a=new hu(l)}jD(r,s,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(e){DO(bO),Xu(new hl("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return WD(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Yr(w0,b0,e),Yr(w0,b0,"esm2017")}wi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};wi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};GD();const KD={apiKey:"AIzaSyA62STa8pSlrMQGRWjyV1Oz6JQkwhRV8lU",authDomain:"agritech-a1ad3.firebaseapp.com",databaseURL:"https://agritech-a1ad3-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"agritech-a1ad3",storageBucket:"agritech-a1ad3.appspot.com",messagingSenderId:"956416323605",appId:"1:956416323605:web:d3c202fcc76c2e88645e1c"},YD={location:{latitude:0,longitude:0},sensors:{airQuality:0,gasLevel:0,humidity:0,pump:!1,pump1:!1,pump2:!1,pump3:!1,rain:!1,soilMoisture:0,temperature:0}};let Oc=null,ex=null;function nx(){if(!Oc)try{Oc=DC(KD),ex=$D(Oc),console.log("Firebase initialized successfully at:",new Date().toLocaleString())}catch(e){throw console.error("Error initializing Firebase:",e),e}return{firebaseApp:Oc,database:ex,ref:OD,onValue:FD,set:AD,get:RD}}function ix(){return new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function nE(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=nE(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function iE(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=nE(e))&&(i&&(i+=" "),i+=t);return i}const r_="-",qD=e=>{const t=XD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:a=>{const l=a.split(r_);return l[0]===""&&l.length!==1&&l.shift(),sE(l,t)||QD(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&i[a]?[...u,...i[a]]:u}}},sE=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),s=i?sE(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=e.join(r_);return(a=t.validators.find(({validator:l})=>l(r)))==null?void 0:a.classGroupId},sx=/^\[(.+)\]$/,QD=e=>{if(sx.test(e)){const t=sx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},XD=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return t2(Object.entries(e.classGroups),n).forEach(([r,a])=>{im(a,i,r,t)}),i},im=(e,t,n,i)=>{e.forEach(s=>{if(typeof s=="string"){const r=s===""?t:rx(t,s);r.classGroupId=n;return}if(typeof s=="function"){if(JD(s)){im(s(i),t,n,i);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([r,a])=>{im(a,rx(t,r),n,i)})})},rx=(e,t)=>{let n=e;return t.split(r_).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},JD=e=>e.isThemeGetter,t2=(e,t)=>t?e.map(([n,i])=>{const s=i.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,l])=>[t+a,l])):r);return[n,s]}):e,e2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const s=(r,a)=>{n.set(r,a),t++,t>e&&(t=0,i=n,n=new Map)};return{get(r){let a=n.get(r);if(a!==void 0)return a;if((a=i.get(r))!==void 0)return s(r,a),a},set(r,a){n.has(r)?n.set(r,a):s(r,a)}}},rE="!",n2=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,s=t[0],r=t.length,a=l=>{const u=[];let h=0,f=0,p;for(let S=0;S<l.length;S++){let w=l[S];if(h===0){if(w===s&&(i||l.slice(S,S+r)===t)){u.push(l.slice(f,S)),f=S+r;continue}if(w==="/"){p=S;continue}}w==="["?h++:w==="]"&&h--}const g=u.length===0?l:l.substring(f),v=g.startsWith(rE),x=v?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:a}):a},i2=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},s2=e=>({cache:e2(e.cacheSize),parseClassName:n2(e),...qD(e)}),r2=/\s+/,o2=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s}=t,r=[],a=e.trim().split(r2);let l="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=n(h);let x=!!v,y=i(x?g.substring(0,v):g);if(!y){if(!x){l=h+(l.length>0?" "+l:l);continue}if(y=i(g),!y){l=h+(l.length>0?" "+l:l);continue}x=!1}const S=i2(f).join(":"),w=p?S+rE:S,b=w+y;if(r.includes(b))continue;r.push(b);const k=s(y,x);for(let P=0;P<k.length;++P){const M=k[P];r.push(w+M)}l=h+(l.length>0?" "+l:l)}return l};function a2(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oE(t))&&(i&&(i+=" "),i+=n);return i}const oE=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=oE(e[i]))&&(n&&(n+=" "),n+=t);return n};function l2(e,...t){let n,i,s,r=a;function a(u){const h=t.reduce((f,p)=>p(f),e());return n=s2(h),i=n.cache.get,s=n.cache.set,r=l,l(u)}function l(u){const h=i(u);if(h)return h;const f=o2(u,n);return s(u,f),f}return function(){return r(a2.apply(null,arguments))}}const Dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},aE=/^\[(?:([a-z-]+):)?(.+)\]$/i,c2=/^\d+\/\d+$/,u2=new Set(["px","full","screen"]),h2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,p2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=e=>Xr(e)||u2.has(e)||c2.test(e),Fi=e=>Oo(e,"length",S2),Xr=e=>!!e&&!Number.isNaN(Number(e)),Tf=e=>Oo(e,"number",Xr),la=e=>!!e&&Number.isInteger(Number(e)),g2=e=>e.endsWith("%")&&Xr(e.slice(0,-1)),ct=e=>aE.test(e),zi=e=>h2.test(e),_2=new Set(["length","size","percentage"]),v2=e=>Oo(e,_2,lE),y2=e=>Oo(e,"position",lE),x2=new Set(["image","url"]),w2=e=>Oo(e,x2,k2),b2=e=>Oo(e,"",C2),ca=()=>!0,Oo=(e,t,n)=>{const i=aE.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},S2=e=>d2.test(e)&&!f2.test(e),lE=()=>!1,C2=e=>p2.test(e),k2=e=>m2.test(e),E2=()=>{const e=Dt("colors"),t=Dt("spacing"),n=Dt("blur"),i=Dt("brightness"),s=Dt("borderColor"),r=Dt("borderRadius"),a=Dt("borderSpacing"),l=Dt("borderWidth"),u=Dt("contrast"),h=Dt("grayscale"),f=Dt("hueRotate"),p=Dt("invert"),g=Dt("gap"),v=Dt("gradientColorStops"),x=Dt("gradientColorStopPositions"),y=Dt("inset"),S=Dt("margin"),w=Dt("opacity"),b=Dt("padding"),k=Dt("saturate"),P=Dt("scale"),M=Dt("sepia"),I=Dt("skew"),N=Dt("space"),A=Dt("translate"),j=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",ct,t],U=()=>[ct,t],bt=()=>["",si,Fi],q=()=>["auto",Xr,ct],st=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ut=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",ct],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Xr,ct];return{cacheSize:500,separator:":",theme:{colors:[ca],spacing:[si,Fi],blur:["none","",zi,ct],brightness:X(),borderColor:[e],borderRadius:["none","","full",zi,ct],borderSpacing:U(),borderWidth:bt(),contrast:X(),grayscale:K(),hueRotate:X(),invert:K(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[g2,Fi],inset:G(),margin:G(),opacity:X(),padding:U(),saturate:X(),scale:X(),sepia:K(),skew:X(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[zi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...st(),ct]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",la,ct]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",la,ct]}],"grid-cols":[{"grid-cols":[ca]}],"col-start-end":[{col:["auto",{span:["full",la,ct]},ct]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[ca]}],"row-start-end":[{row:["auto",{span:[la,ct]},ct]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,t]}],"min-w":[{"min-w":[ct,t,"min","max","fit"]}],"max-w":[{"max-w":[ct,t,"none","full","min","max","fit","prose",{screen:[zi]},zi]}],h:[{h:[ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zi,Fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tf]}],"font-family":[{font:[ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",Xr,Tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",si,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",si,Fi]}],"underline-offset":[{"underline-offset":["auto",si,ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...st(),y2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",v2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},w2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[si,ct]}],"outline-w":[{outline:[si,Fi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:bt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[si,Fi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zi,b2]}],"shadow-color":[{shadow:[ca]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ut(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ut()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",zi,ct]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[la,ct]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[si,Fi,Tf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P2=l2(E2);function Xe(...e){return P2(iE(e))}function T2(e,t){const n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16);return`rgba(${n}, ${i}, ${s}, ${t})`}const sm={temperature:{min:5,max:35,unit:"°C"},humidity:{min:30,max:80,unit:"%"},soilMoisture:{min:20,max:80,unit:"%"},airQuality:{min:0,max:50,unit:"ppm"}},M2={temperature:{label:"Temperature",icon:"device_thermostat",color:"#ef4444",bgColor:"bg-red-50",iconColor:"text-red-500",unit:"°C"},humidity:{label:"Humidity",icon:"water",color:"#3b82f6",bgColor:"bg-blue-50",iconColor:"text-blue-500",unit:"%"},soilMoisture:{label:"Soil Moisture",icon:"grass",color:"#10b981",bgColor:"bg-green-50",iconColor:"text-green-600",unit:"%"},airQuality:{label:"Air Quality",icon:"air",color:"#8b5cf6",bgColor:"bg-purple-50",iconColor:"text-purple-500",unit:"ppm"}};function I2(e,t){const{min:n,max:i}=sm[e];return t<n?{status:"below",text:"Below optimal range",icon:"trending_down",color:"text-blue-500"}:t>i?{status:"above",text:"Above optimal range",icon:"trending_up",color:"text-red-500"}:{status:"optimal",text:"Within optimal range",icon:"check_circle",color:"text-green-500"}}function L2(e){switch(e){case"warning":return{bg:"bg-yellow-100",border:"border-yellow-300",icon:"warning",iconColor:"text-yellow-600",textColor:"text-yellow-800",titleColor:"text-yellow-900"};case"error":return{bg:"bg-red-100",border:"border-red-300",icon:"error",iconColor:"text-red-600",textColor:"text-red-800",titleColor:"text-red-900"};case"success":return{bg:"bg-green-100",border:"border-green-300",icon:"check_circle",iconColor:"text-green-600",textColor:"text-green-800",titleColor:"text-green-900"};default:return{bg:"bg-blue-100",border:"border-blue-300",icon:"info",iconColor:"text-blue-600",textColor:"text-blue-800",titleColor:"text-blue-900"}}}const N2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let O2=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=N2[n[e]&63];return t};const Ac=10;function A2(){const[e,t]=O.useState(YD),[n,i]=O.useState(!1),[s,r]=O.useState(!0),[a,l]=O.useState("Connecting to database..."),[u,h]=O.useState({temperature:Array(Ac).fill(0),humidity:Array(Ac).fill(0),soilMoisture:Array(Ac).fill(0),airQuality:Array(Ac).fill(0)}),[f,p]=O.useState([]),g=(S,w,b="info")=>{const k={id:O2(),title:S,message:w,type:b,timestamp:ix()};return p(P=>[k,...P].slice(0,5)),k},v=S=>{Object.entries(S).forEach(([w,b])=>{if(typeof b=="number"&&sm[w]){const k=w,{min:P,max:M,unit:I}=sm[k];b<P?g(`Low ${k.charAt(0).toUpperCase()+k.slice(1)}`,`${k} reading of ${b.toFixed(1)} ${I} is below recommended minimum of ${P} ${I}`,"warning"):b>M&&g(`High ${k.charAt(0).toUpperCase()+k.slice(1)}`,`${k} reading of ${b.toFixed(1)} ${I} is above recommended maximum of ${M} ${I}`,"warning")}}),S.rain&&g("Rain Detected","Water pumps may activate automatically","warning")},x=S=>{h(w=>({temperature:[...w.temperature.slice(1),S.temperature],humidity:[...w.humidity.slice(1),S.humidity],soilMoisture:[...w.soilMoisture.slice(1),S.soilMoisture],airQuality:[...w.airQuality.slice(1),S.airQuality]}))};return O.useEffect(()=>{let S=null;async function w(){try{r(!0);const{database:b,ref:k,onValue:P}=await nx(),M=k(b,"/");S=P(M,I=>{const N=I.val();N&&(t(N),i(!0),l(`Last updated: ${ix()}`),N.sensors&&(x(N.sensors),v(N.sensors))),r(!1)},I=>{console.error("Firebase error:",I),i(!1),r(!1),g("Connection Error","Failed to connect to the database. Check your internet connection and try again.","error")})}catch(b){console.error("Error setting up Firebase:",b),i(!1),r(!1)}}return w(),()=>{S&&S()}},[]),{data:e,isConnected:n,isLoading:s,lastUpdated:a,historicalData:u,alerts:f,createAlert:g,updatePumpStatus:async(S,w)=>{try{const{database:b,ref:k,set:P}=await nx();await P(k(b,`sensors/${S}`),w),t(M=>({...M,sensors:{...M.sensors,[S]:w}}))}catch(b){throw console.error("Failed to update pump status:",b),b}}}}function R2(){const[e,t]=O.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":!!(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)});return O.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e?"dark":"light")},[e]),{isDarkMode:e,toggleTheme:()=>{t(i=>!i)}}}const cE=O.createContext(void 0);function D2({children:e}){const{data:t,isConnected:n,isLoading:i,lastUpdated:s,historicalData:r,alerts:a,createAlert:l,updatePumpStatus:u}=A2(),{isDarkMode:h,toggleTheme:f}=R2();return E.jsx(cE.Provider,{value:{data:t,isConnected:n,isLoading:i,lastUpdated:s,historicalData:r,alerts:a,createAlert:l,updatePumpStatus:u,isDarkMode:h,toggleTheme:f},children:e})}const F2=()=>{const e=O.useContext(cE);if(e===void 0)throw new Error("useDashboard must be used within a DashboardProvider");return e};async function z2(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const B2=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return await z2(n),await n.json()},j2=new _L({defaultOptions:{queries:{queryFn:B2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function $l(e){return e+.5|0}const Xi=(e,t,n)=>Math.max(Math.min(e,n),t);function ya(e){return Xi($l(e*2.55),0,255)}function ps(e){return Xi($l(e*255),0,255)}function hi(e){return Xi($l(e/2.55)/100,0,1)}function ox(e){return Xi($l(e*100),0,100)}const hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rm=[..."0123456789ABCDEF"],W2=e=>rm[e&15],H2=e=>rm[(e&240)>>4]+rm[e&15],Rc=e=>(e&240)>>4===(e&15),V2=e=>Rc(e.r)&&Rc(e.g)&&Rc(e.b)&&Rc(e.a);function U2(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&hn[e[1]]*17,g:255&hn[e[2]]*17,b:255&hn[e[3]]*17,a:t===5?hn[e[4]]*17:255}:(t===7||t===9)&&(n={r:hn[e[1]]<<4|hn[e[2]],g:hn[e[3]]<<4|hn[e[4]],b:hn[e[5]]<<4|hn[e[6]],a:t===9?hn[e[7]]<<4|hn[e[8]]:255})),n}const $2=(e,t)=>e<255?t(e):"";function Z2(e){var t=V2(e)?W2:H2;return e?"#"+t(e.r)+t(e.g)+t(e.b)+$2(e.a,t):void 0}const G2=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uE(e,t,n){const i=t*Math.min(n,1-n),s=(r,a=(r+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function K2(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Y2(e,t,n){const i=uE(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function q2(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function o_(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),l=(r+a)/2;let u,h,f;return r!==a&&(f=r-a,h=l>.5?f/(2-r-a):f/(r+a),u=q2(n,i,s,f,r),u=u*60+.5),[u|0,h||0,l]}function a_(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(ps)}function l_(e,t,n){return a_(uE,e,t,n)}function Q2(e,t,n){return a_(Y2,e,t,n)}function X2(e,t,n){return a_(K2,e,t,n)}function hE(e){return(e%360+360)%360}function J2(e){const t=G2.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ya(+t[5]):ps(+t[5]));const s=hE(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=Q2(s,r,a):t[1]==="hsv"?i=X2(s,r,a):i=l_(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function tF(e,t){var n=o_(e);n[0]=hE(n[0]+t),n=l_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function eF(e){if(!e)return;const t=o_(e),n=t[0],i=ox(t[1]),s=ox(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${hi(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const ax={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},lx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nF(){const e={},t=Object.keys(lx),n=Object.keys(ax);let i,s,r,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],s=0;s<n.length;s++)r=n[s],l=l.replace(r,ax[r]);r=parseInt(lx[a],16),e[l]=[r>>16&255,r>>8&255,r&255]}return e}let Dc;function iF(e){Dc||(Dc=nF(),Dc.transparent=[0,0,0,0]);const t=Dc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const sF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rF(e){const t=sF.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?ya(a):Xi(a*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?ya(i):Xi(i,0,255)),s=255&(t[4]?ya(s):Xi(s,0,255)),r=255&(t[6]?ya(r):Xi(r,0,255)),{r:i,g:s,b:r,a:n}}}function oF(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${hi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Mf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Tr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function aF(e,t,n){const i=Tr(hi(e.r)),s=Tr(hi(e.g)),r=Tr(hi(e.b));return{r:ps(Mf(i+n*(Tr(hi(t.r))-i))),g:ps(Mf(s+n*(Tr(hi(t.g))-s))),b:ps(Mf(r+n*(Tr(hi(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Fc(e,t,n){if(e){let i=o_(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=l_(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function dE(e,t){return e&&Object.assign(t||{},e)}function cx(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ps(e[3]))):(t=dE(e,{r:0,g:0,b:0,a:1}),t.a=ps(t.a)),t}function lF(e){return e.charAt(0)==="r"?rF(e):J2(e)}class wl{constructor(t){if(t instanceof wl)return t;const n=typeof t;let i;n==="object"?i=cx(t):n==="string"&&(i=U2(t)||iF(t)||lF(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=dE(this._rgb);return t&&(t.a=hi(t.a)),t}set rgb(t){this._rgb=cx(t)}rgbString(){return this._valid?oF(this._rgb):void 0}hexString(){return this._valid?Z2(this._rgb):void 0}hslString(){return this._valid?eF(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const a=n===r?.5:n,l=2*a-1,u=i.a-s.a,h=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;r=1-h,i.r=255&h*i.r+r*s.r+.5,i.g=255&h*i.g+r*s.g+.5,i.b=255&h*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=aF(this._rgb,t._rgb,n)),this}clone(){return new wl(this.rgb)}alpha(t){return this._rgb.a=ps(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=$l(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fc(this._rgb,2,t),this}darken(t){return Fc(this._rgb,2,-t),this}saturate(t){return Fc(this._rgb,1,t),this}desaturate(t){return Fc(this._rgb,1,-t),this}rotate(t){return tF(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ri(){}const cF=(()=>{let e=0;return()=>e++})();function vt(e){return e==null}function Vt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Xt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Je(e,t){return Xt(e)?e:t}function lt(e,t){return typeof e>"u"?t:e}const uF=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,fE=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Nt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Tt(e,t,n,i){let s,r,a;if(Vt(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(xt(e))for(a=Object.keys(e),r=a.length,s=0;s<r;s++)t.call(n,e[a[s]],a[s])}function dh(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function fh(e){if(Vt(e))return e.map(fh);if(xt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=fh(e[n[s]]);return t}return e}function pE(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function hF(e,t,n,i){if(!pE(e))return;const s=t[e],r=n[e];xt(s)&&xt(r)?bl(s,r,i):t[e]=fh(r)}function bl(e,t,n){const i=Vt(t)?t:[t],s=i.length;if(!xt(e))return e;n=n||{};const r=n.merger||hF;let a;for(let l=0;l<s;++l){if(a=i[l],!xt(a))continue;const u=Object.keys(a);for(let h=0,f=u.length;h<f;++h)r(u[h],e,a,n)}return e}function Ba(e,t){return bl(e,t,{merger:dF})}function dF(e,t,n){if(!pE(e))return;const i=t[e],s=n[e];xt(i)&&xt(s)?Ba(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fh(s))}const ux={"":e=>e,x:e=>e.x,y:e=>e.y};function fF(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function pF(e){const t=fF(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function xs(e,t){return(ux[t]||(ux[t]=pF(t)))(e)}function c_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Sl=e=>typeof e<"u",ws=e=>typeof e=="function",hx=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function mF(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Wt=Math.PI,jt=2*Wt,gF=jt+Wt,ph=Number.POSITIVE_INFINITY,_F=Wt/180,ee=Wt/2,Ns=Wt/4,dx=Wt*2/3,Ji=Math.log10,Xn=Math.sign;function ja(e,t,n){return Math.abs(e-t)<n}function fx(e){const t=Math.round(e);e=ja(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ji(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function vF(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function yF(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function bo(e){return!yF(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function xF(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function mE(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Nn(e){return e*(Wt/180)}function u_(e){return e*(180/Wt)}function px(e){if(!Xt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function gE(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Wt&&(r+=jt),{angle:r,distance:s}}function om(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wF(e,t){return(e-t+gF)%jt-Wt}function en(e){return(e%jt+jt)%jt}function Cl(e,t,n,i){const s=en(e),r=en(t),a=en(n),l=en(r-s),u=en(a-s),h=en(s-r),f=en(s-a);return s===r||s===a||i&&r===a||l>u&&h<f}function me(e,t,n){return Math.max(t,Math.min(n,e))}function bF(e){return me(e,-32768,32767)}function _i(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function h_(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const vi=(e,t,n,i)=>h_(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),SF=(e,t,n)=>h_(e,n,i=>e[i][t]>=n);function CF(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const _E=["push","pop","shift","splice","unshift"];function kF(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_E.forEach(n=>{const i="_onData"+c_(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return e._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...r)}),a}})})}function mx(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(_E.forEach(r=>{delete e[r]}),delete e._chartjs)}function vE(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const yE=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function xE(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,yE.call(window,()=>{i=!1,e.apply(t,n)}))}}function EF(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const d_=e=>e==="start"?"left":e==="end"?"right":"center",ke=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,PF=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function wE(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:a,vScale:l,_parsed:u}=e,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=a.axis,{min:p,max:g,minDefined:v,maxDefined:x}=a.getUserBounds();if(v){if(s=Math.min(vi(u,f,p).lo,n?i:vi(t,f,a.getPixelForValue(p)).lo),h){const y=u.slice(0,s+1).reverse().findIndex(S=>!vt(S[l.axis]));s-=Math.max(0,y)}s=me(s,0,i-1)}if(x){let y=Math.max(vi(u,a.axis,g,!0).hi+1,n?0:vi(t,f,a.getPixelForValue(g),!0).hi+1);if(h){const S=u.slice(y-1).findIndex(w=>!vt(w[l.axis]));y+=Math.max(0,S)}r=me(y,s,i)-s}else r=i-s}return{start:s,count:r}}function bE(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const zc=e=>e===0||e===1,gx=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*jt/n)),_x=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*jt/n)+1,Wa={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ee)+1,easeOutSine:e=>Math.sin(e*ee),easeInOutSine:e=>-.5*(Math.cos(Wt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>zc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>zc(e)?e:gx(e,.075,.3),easeOutElastic:e=>zc(e)?e:_x(e,.075,.3),easeInOutElastic(e){return zc(e)?e:e<.5?.5*gx(e*2,.1125,.45):.5+.5*_x(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Wa.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Wa.easeInBounce(e*2)*.5:Wa.easeOutBounce(e*2-1)*.5+.5};function f_(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function vx(e){return f_(e)?e:new wl(e)}function If(e){return f_(e)?e:new wl(e).saturate(.5).darken(.1).hexString()}const TF=["x","y","borderWidth","radius","tension"],MF=["color","borderColor","backgroundColor"];function IF(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:MF},numbers:{type:"number",properties:TF}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function LF(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yx=new Map;function NF(e,t){t=t||{};const n=e+JSON.stringify(t);let i=yx.get(n);return i||(i=new Intl.NumberFormat(e,t),yx.set(n,i)),i}function Zl(e,t,n){return NF(t,n).format(e)}const SE={values(e){return Vt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),r=OF(e,n)}const a=Ji(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),Zl(e,i,u)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Ji(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?SE.numeric.call(this,e,t,n):""}};function OF(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Jh={formatters:SE};function AF(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const hr=Object.create(null),am=Object.create(null);function Ha(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Lf(e,t,n){return typeof t=="string"?bl(Ha(e,t),n):bl(Ha(e,""),t)}class RF{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>If(s.backgroundColor),this.hoverBorderColor=(i,s)=>If(s.borderColor),this.hoverColor=(i,s)=>If(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Lf(this,t,n)}get(t){return Ha(this,t)}describe(t,n){return Lf(am,t,n)}override(t,n){return Lf(hr,t,n)}route(t,n,i,s){const r=Ha(this,t),a=Ha(this,i),l="_"+n;Object.defineProperties(r,{[l]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],h=a[s];return xt(u)?Object.assign({},h,u):lt(u,h)},set(u){this[l]=u}}})}apply(t){t.forEach(n=>n(this))}}var Ut=new RF({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IF,LF,AF]);function DF(e){return!e||vt(e.size)||vt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function mh(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function FF(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let a=0;const l=n.length;let u,h,f,p,g;for(u=0;u<l;u++)if(p=n[u],p!=null&&!Vt(p))a=mh(e,s,r,a,p);else if(Vt(p))for(h=0,f=p.length;h<f;h++)g=p[h],g!=null&&!Vt(g)&&(a=mh(e,s,r,a,g));e.restore();const v=r.length/2;if(v>n.length){for(u=0;u<v;u++)delete s[r[u]];r.splice(0,v)}return a}function Os(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function xx(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function lm(e,t,n,i){CE(e,t,n,i,null)}function CE(e,t,n,i,s){let r,a,l,u,h,f,p,g;const v=t.pointStyle,x=t.rotation,y=t.radius;let S=(x||0)*_F;if(v&&typeof v=="object"&&(r=v.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(S),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),v){default:s?e.ellipse(n,i,s/2,y,0,0,jt):e.arc(n,i,y,0,jt),e.closePath();break;case"triangle":f=s?s/2:y,e.moveTo(n+Math.sin(S)*f,i-Math.cos(S)*y),S+=dx,e.lineTo(n+Math.sin(S)*f,i-Math.cos(S)*y),S+=dx,e.lineTo(n+Math.sin(S)*f,i-Math.cos(S)*y),e.closePath();break;case"rectRounded":h=y*.516,u=y-h,a=Math.cos(S+Ns)*u,p=Math.cos(S+Ns)*(s?s/2-h:u),l=Math.sin(S+Ns)*u,g=Math.sin(S+Ns)*(s?s/2-h:u),e.arc(n-p,i-l,h,S-Wt,S-ee),e.arc(n+g,i-a,h,S-ee,S),e.arc(n+p,i+l,h,S,S+ee),e.arc(n-g,i+a,h,S+ee,S+Wt),e.closePath();break;case"rect":if(!x){u=Math.SQRT1_2*y,f=s?s/2:u,e.rect(n-f,i-u,2*f,2*u);break}S+=Ns;case"rectRot":p=Math.cos(S)*(s?s/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,g=Math.sin(S)*(s?s/2:y),e.moveTo(n-p,i-l),e.lineTo(n+g,i-a),e.lineTo(n+p,i+l),e.lineTo(n-g,i+a),e.closePath();break;case"crossRot":S+=Ns;case"cross":p=Math.cos(S)*(s?s/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,g=Math.sin(S)*(s?s/2:y),e.moveTo(n-p,i-l),e.lineTo(n+p,i+l),e.moveTo(n+g,i-a),e.lineTo(n-g,i+a);break;case"star":p=Math.cos(S)*(s?s/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,g=Math.sin(S)*(s?s/2:y),e.moveTo(n-p,i-l),e.lineTo(n+p,i+l),e.moveTo(n+g,i-a),e.lineTo(n-g,i+a),S+=Ns,p=Math.cos(S)*(s?s/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,g=Math.sin(S)*(s?s/2:y),e.moveTo(n-p,i-l),e.lineTo(n+p,i+l),e.moveTo(n+g,i-a),e.lineTo(n-g,i+a);break;case"line":a=s?s/2:Math.cos(S)*y,l=Math.sin(S)*y,e.moveTo(n-a,i-l),e.lineTo(n+a,i+l);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(S)*(s?s/2:y),i+Math.sin(S)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function yi(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function td(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ed(e){e.restore()}function zF(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function BF(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function jF(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),vt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function WF(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),a=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,u=n-r.actualBoundingBoxAscent,h=n+r.actualBoundingBoxDescent,f=s.strikethrough?(u+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,f),e.lineTo(l,f),e.stroke()}}function HF(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function dr(e,t,n,i,s,r={}){const a=Vt(t)?t:[t],l=r.strokeWidth>0&&r.strokeColor!=="";let u,h;for(e.save(),e.font=s.string,jF(e,r),u=0;u<a.length;++u)h=a[u],r.backdrop&&HF(e,r.backdrop),l&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),vt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(h,n,i,r.maxWidth)),e.fillText(h,n,i,r.maxWidth),WF(e,n,i,h,r),i+=Number(s.lineHeight);e.restore()}function kl(e,t){const{x:n,y:i,w:s,h:r,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Wt,Wt,!0),e.lineTo(n,i+r-a.bottomLeft),e.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,Wt,ee,!0),e.lineTo(n+s-a.bottomRight,i+r),e.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,ee,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-ee,!0),e.lineTo(n+a.topLeft,i)}const VF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,UF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $F(e,t){const n=(""+e).match(VF);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const ZF=e=>+e||0;function p_(e,t){const n={},i=xt(t),s=i?Object.keys(t):t,r=xt(e)?i?a=>lt(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=ZF(r(a));return n}function kE(e){return p_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function er(e){return p_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ie(e){const t=kE(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ce(e,t){e=e||{},t=t||Ut.font;let n=lt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=lt(e.style,t.style);i&&!(""+i).match(UF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:lt(e.family,t.family),lineHeight:$F(lt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:lt(e.weight,t.weight),string:""};return s.string=DF(s),s}function xa(e,t,n,i){let s,r,a;for(s=0,r=e.length;s<r;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function GF(e,t,n){const{min:i,max:s}=e,r=fE(t,(s-i)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function Es(e,t){return Object.assign(Object.create(e),t)}function m_(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=ME("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:l=>m_([l,...e],t,r,i)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete e[0][u],!0},get(l,u){return PE(l,u,()=>ez(u,t,e,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,u){return bx(l).includes(u)},ownKeys(l){return bx(l)},set(l,u,h){const f=l._storage||(l._storage=s());return l[u]=f[u]=h,delete l._keys,!0}})}function So(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:EE(e,i),setContext:r=>So(e,r,n,i),override:r=>So(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete e[a],!0},get(r,a,l){return PE(r,a,()=>YF(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(r,a,l){return e[a]=l,delete r[a],!0}})}function EE(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:ws(n)?n:()=>n,isIndexable:ws(i)?i:()=>i}}const KF=(e,t)=>e?e+c_(t):t,g_=(e,t)=>xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function PE(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function YF(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=e;let l=i[t];return ws(l)&&a.isScriptable(t)&&(l=qF(t,l,e,n)),Vt(l)&&l.length&&(l=QF(t,l,e,a.isIndexable)),g_(t,l)&&(l=So(l,s,r&&r[t],a)),l}function qF(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let u=t(r,a||i);return l.delete(e),g_(e,u)&&(u=__(s._scopes,s,e,u)),u}function QF(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:l}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(xt(t[0])){const u=t,h=s._scopes.filter(f=>f!==u);t=[];for(const f of u){const p=__(h,s,e,f);t.push(So(p,r,a&&a[e],l))}}return t}function TE(e,t,n){return ws(e)?e(t,n):e}const XF=(e,t)=>e===!0?t:typeof e=="string"?xs(t,e):void 0;function JF(e,t,n,i,s){for(const r of t){const a=XF(n,r);if(a){e.add(a);const l=TE(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function __(e,t,n,i){const s=t._rootScopes,r=TE(t._fallback,n,i),a=[...e,...s],l=new Set;l.add(i);let u=wx(l,a,n,r||n,i);return u===null||typeof r<"u"&&r!==n&&(u=wx(l,a,r,u,i),u===null)?!1:m_(Array.from(l),[""],s,r,()=>tz(t,n,i))}function wx(e,t,n,i,s){for(;n;)n=JF(e,t,n,i,s);return n}function tz(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Vt(s)&&xt(n)?n:s||{}}function ez(e,t,n,i){let s;for(const r of t)if(s=ME(KF(r,e),n),typeof s<"u")return g_(e,s)?__(n,i,e,s):s}function ME(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function bx(e){let t=e._keys;return t||(t=e._keys=nz(e._scopes)),t}function nz(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function IE(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,a=new Array(i);let l,u,h,f;for(l=0,u=i;l<u;++l)h=l+n,f=t[h],a[l]={r:s.parse(xs(f,r),h)};return a}const iz=Number.EPSILON||1e-14,Co=(e,t)=>t<e.length&&!e[t].skip&&e[t],LE=e=>e==="x"?"y":"x";function sz(e,t,n,i){const s=e.skip?t:e,r=t,a=n.skip?t:n,l=om(r,s),u=om(a,r);let h=l/(l+u),f=u/(l+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const p=i*h,g=i*f;return{previous:{x:r.x-p*(a.x-s.x),y:r.y-p*(a.y-s.y)},next:{x:r.x+g*(a.x-s.x),y:r.y+g*(a.y-s.y)}}}function rz(e,t,n){const i=e.length;let s,r,a,l,u,h=Co(e,0);for(let f=0;f<i-1;++f)if(u=h,h=Co(e,f+1),!(!u||!h)){if(ja(t[f],0,iz)){n[f]=n[f+1]=0;continue}s=n[f]/t[f],r=n[f+1]/t[f],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),n[f]=s*a*t[f],n[f+1]=r*a*t[f])}}function oz(e,t,n="x"){const i=LE(n),s=e.length;let r,a,l,u=Co(e,0);for(let h=0;h<s;++h){if(a=l,l=u,u=Co(e,h+1),!l)continue;const f=l[n],p=l[i];a&&(r=(f-a[n])/3,l[`cp1${n}`]=f-r,l[`cp1${i}`]=p-r*t[h]),u&&(r=(u[n]-f)/3,l[`cp2${n}`]=f+r,l[`cp2${i}`]=p+r*t[h])}}function az(e,t="x"){const n=LE(t),i=e.length,s=Array(i).fill(0),r=Array(i);let a,l,u,h=Co(e,0);for(a=0;a<i;++a)if(l=u,u=h,h=Co(e,a+1),!!u){if(h){const f=h[t]-u[t];s[a]=f!==0?(h[n]-u[n])/f:0}r[a]=l?h?Xn(s[a-1])!==Xn(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}rz(e,s,r),oz(e,r,t)}function Bc(e,t,n){return Math.max(Math.min(e,n),t)}function lz(e,t){let n,i,s,r,a,l=yi(e[0],t);for(n=0,i=e.length;n<i;++n)a=r,r=l,l=n<i-1&&yi(e[n+1],t),r&&(s=e[n],a&&(s.cp1x=Bc(s.cp1x,t.left,t.right),s.cp1y=Bc(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Bc(s.cp2x,t.left,t.right),s.cp2y=Bc(s.cp2y,t.top,t.bottom)))}function cz(e,t,n,i,s){let r,a,l,u;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")az(e,s);else{let h=i?e[e.length-1]:e[0];for(r=0,a=e.length;r<a;++r)l=e[r],u=sz(h,l,e[Math.min(r+1,a-(i?0:1))%a],t.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,h=l}t.capBezierPoints&&lz(e,n)}function v_(){return typeof window<"u"&&typeof document<"u"}function y_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function gh(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const nd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function uz(e,t){return nd(e).getPropertyValue(t)}const hz=["top","right","bottom","left"];function nr(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=hz[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const dz=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function fz(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let a=!1,l,u;if(dz(s,r,e.target))l=s,u=r;else{const h=t.getBoundingClientRect();l=i.clientX-h.left,u=i.clientY-h.top,a=!0}return{x:l,y:u,box:a}}function js(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=nd(n),r=s.boxSizing==="border-box",a=nr(s,"padding"),l=nr(s,"border","width"),{x:u,y:h,box:f}=fz(e,n),p=a.left+(f&&l.left),g=a.top+(f&&l.top);let{width:v,height:x}=t;return r&&(v-=a.width+l.width,x-=a.height+l.height),{x:Math.round((u-p)/v*n.width/i),y:Math.round((h-g)/x*n.height/i)}}function pz(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&y_(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const a=r.getBoundingClientRect(),l=nd(r),u=nr(l,"border","width"),h=nr(l,"padding");t=a.width-h.width-u.width,n=a.height-h.height-u.height,i=gh(l.maxWidth,r,"clientWidth"),s=gh(l.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||ph,maxHeight:s||ph}}const jc=e=>Math.round(e*10)/10;function mz(e,t,n,i){const s=nd(e),r=nr(s,"margin"),a=gh(s.maxWidth,e,"clientWidth")||ph,l=gh(s.maxHeight,e,"clientHeight")||ph,u=pz(e,t,n);let{width:h,height:f}=u;if(s.boxSizing==="content-box"){const g=nr(s,"border","width"),v=nr(s,"padding");h-=v.width+g.width,f-=v.height+g.height}return h=Math.max(0,h-r.width),f=Math.max(0,i?h/i:f-r.height),h=jc(Math.min(h,a,u.maxWidth)),f=jc(Math.min(f,l,u.maxHeight)),h&&!f&&(f=jc(h/2)),(t!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,h=jc(Math.floor(f*i))),{width:h,height:f}}function Sx(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(e.currentDevicePixelRatio=i,a.height=s,a.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const gz=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};v_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Cx(e,t){const n=uz(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ws(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function _z(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function vz(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},a=Ws(e,s,n),l=Ws(s,r,n),u=Ws(r,t,n),h=Ws(a,l,n),f=Ws(l,u,n);return Ws(h,f,n)}const yz=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},xz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Jr(e,t,n){return e?yz(t,n):xz()}function NE(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function OE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function AE(e){return e==="angle"?{between:Cl,compare:wF,normalize:en}:{between:_i,compare:(t,n)=>t-n,normalize:t=>t}}function kx({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function wz(e,t,n){const{property:i,start:s,end:r}=n,{between:a,normalize:l}=AE(i),u=t.length;let{start:h,end:f,loop:p}=e,g,v;if(p){for(h+=u,f+=u,g=0,v=u;g<v&&a(l(t[h%u][i]),s,r);++g)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:p,style:e.style}}function RE(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,a=t.length,{compare:l,between:u,normalize:h}=AE(i),{start:f,end:p,loop:g,style:v}=wz(e,t,n),x=[];let y=!1,S=null,w,b,k;const P=()=>u(s,k,w)&&l(s,k)!==0,M=()=>l(r,w)===0||u(r,k,w),I=()=>y||P(),N=()=>!y||M();for(let A=f,j=f;A<=p;++A)b=t[A%a],!b.skip&&(w=h(b[i]),w!==k&&(y=u(w,s,r),S===null&&I()&&(S=l(w,s)===0?A:j),S!==null&&N()&&(x.push(kx({start:S,end:A,loop:g,count:a,style:v})),S=null),j=A,k=w));return S!==null&&x.push(kx({start:S,end:p,loop:g,count:a,style:v})),x}function DE(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=RE(i[s],e.points,t);r.length&&n.push(...r)}return n}function bz(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function Sz(e,t,n,i){const s=e.length,r=[];let a=t,l=e[t],u;for(u=t+1;u<=n;++u){const h=e[u%s];h.skip||h.stop?l.skip||(i=!1,r.push({start:t%s,end:(u-1)%s,loop:i}),t=a=h.stop?u:null):(a=u,l.skip&&(t=u)),l=h}return a!==null&&r.push({start:t%s,end:a%s,loop:i}),r}function Cz(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:a,end:l}=bz(n,s,r,i);if(i===!0)return Ex(e,[{start:a,end:l,loop:r}],n,t);const u=l<a?l+s:l,h=!!e._fullLoop&&a===0&&l===s-1;return Ex(e,Sz(n,a,u,h),n,t)}function Ex(e,t,n,i){return!i||!i.setContext||!n?t:kz(e,t,n,i)}function kz(e,t,n,i){const s=e._chart.getContext(),r=Px(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,u=n.length,h=[];let f=r,p=t[0].start,g=p;function v(x,y,S,w){const b=l?-1:1;if(x!==y){for(x+=u;n[x%u].skip;)x-=b;for(;n[y%u].skip;)y+=b;x%u!==y%u&&(h.push({start:x%u,end:y%u,loop:S,style:w}),f=w,p=y%u)}}for(const x of t){p=l?p:x.start;let y=n[p%u],S;for(g=p+1;g<=x.end;g++){const w=n[g%u];S=Px(i.setContext(Es(s,{type:"segment",p0:y,p1:w,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:a}))),Ez(S,f)&&v(p,g-1,x.loop,f),y=w,f=S}p<g-1&&v(p,g-1,x.loop,f)}return h}function Px(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ez(e,t){if(!t)return!1;const n=[],i=function(s,r){return f_(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Pz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(l=>l({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=yE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,l=!1,u;for(;a>=0;--a)u=r[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),l=!0):(r[a]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ai=new Pz;const Tx="transparent",Tz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=vx(e||Tx),s=i.valid&&vx(t||Tx);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Mz{constructor(t,n,i,s){const r=n[i];s=xa([t.to,s,r,t.from]);const a=xa([t.from,r,s]);this._active=!0,this._fn=t.fn||Tz[t.type||typeof a],this._easing=Wa[t.easing]||Wa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=xa([t.to,n,s,t.from]),this._from=xa([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,l=this._to;let u;if(this._active=r!==l&&(a||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=r;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(r,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class FE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!xt(t))return;const n=Object.keys(Ut.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!xt(r))return;const a={};for(const l of n)a[l]=r[l];(Vt(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,n){const i=n.options,s=Lz(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Iz(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const h=a[u];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,n));continue}const f=n[h];let p=r[h];const g=i.get(h);if(p)if(g&&p.active()){p.update(g,f,l);continue}else p.cancel();if(!g||!g.duration){t[h]=f;continue}r[h]=p=new Mz(g,t,h,f),s.push(p)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return ai.add(this._chart,i),!0}}function Iz(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Lz(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Mx(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function Nz(e,t,n){if(n===!1)return!1;const i=Mx(e,n),s=Mx(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Oz(e){let t,n,i,s;return xt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function zE(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Ix(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let a,l,u,h;if(t===null)return;let f=!1;for(a=0,l=s.length;a<l;++a){if(u=+s[a],u===n){if(f=!0,i.all)continue;break}h=e.values[u],Xt(h)&&(r||t===0||Xn(t)===Xn(h))&&(t+=h)}return!f&&!i.all?0:t}function Az(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(e),l=new Array(a.length);let u,h,f;for(u=0,h=a.length;u<h;++u)f=a[u],l[u]={[s]:f,[r]:e[f]};return l}function Nf(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Rz(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Dz(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Fz(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Lx(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Nx(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:l}=i,u=r.axis,h=a.axis,f=Rz(r,a,i),p=t.length;let g;for(let v=0;v<p;++v){const x=t[v],{[u]:y,[h]:S}=x,w=x._stacks||(x._stacks={});g=w[h]=Fz(s,f,y),g[l]=S,g._top=Lx(g,a,!0,i.type),g._bottom=Lx(g,a,!1,i.type);const b=g._visualValues||(g._visualValues={});b[l]=S}}function Of(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function zz(e,t){return Es(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Bz(e,t,n){return Es(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ua(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Af=e=>e==="reset"||e==="none",Ox=(e,t)=>t?e:Object.assign({},e),jz=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:zE(n,!0),values:null};class Dn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ua(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(p,g,v,x)=>p==="x"?g:p==="r"?x:v,r=n.xAxisID=lt(i.xAxisID,Of(t,"x")),a=n.yAxisID=lt(i.yAxisID,Of(t,"y")),l=n.rAxisID=lt(i.rAxisID,Of(t,"r")),u=n.indexAxis,h=n.iAxisID=s(u,r,a,l),f=n.vAxisID=s(u,a,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mx(this._data,this),t._stacked&&ua(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(xt(n)){const s=this._cachedMeta;this._data=Az(n,s)}else if(i!==n){if(i){mx(i,this);const s=this._cachedMeta;ua(s),s._parsed=[]}n&&Object.isExtensible(n)&&kF(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Nf(n.vScale,n),n.stack!==i.stack&&(s=!0,ua(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(Nx(this,n._parsed),n._stacked=Nf(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,l=r.axis;let u=t===0&&n===s.length?!0:i._sorted,h=t>0&&i._parsed[t-1],f,p,g;if(this._parsing===!1)i._parsed=s,i._sorted=!0,g=s;else{Vt(s[t])?g=this.parseArrayData(i,s,t,n):xt(s[t])?g=this.parseObjectData(i,s,t,n):g=this.parsePrimitiveData(i,s,t,n);const v=()=>p[l]===null||h&&p[l]<h[l];for(f=0;f<n;++f)i._parsed[f+t]=p=g[f],u&&(v()&&(u=!1),h=p);i._sorted=u}a&&Nx(this,g)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:a}=t,l=r.axis,u=a.axis,h=r.getLabels(),f=r===a,p=new Array(s);let g,v,x;for(g=0,v=s;g<v;++g)x=g+i,p[g]={[l]:f||r.parse(h[x],x),[u]:a.parse(n[x],x)};return p}parseArrayData(t,n,i,s){const{xScale:r,yScale:a}=t,l=new Array(s);let u,h,f,p;for(u=0,h=s;u<h;++u)f=u+i,p=n[f],l[u]={x:r.parse(p[0],f),y:a.parse(p[1],f)};return l}parseObjectData(t,n,i,s){const{xScale:r,yScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=new Array(s);let f,p,g,v;for(f=0,p=s;f<p;++f)g=f+i,v=n[g],h[f]={x:r.parse(xs(v,l),g),y:a.parse(xs(v,u),g)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,a=n[t.axis],l={keys:zE(s,!0),values:n._stacks[t.axis]._visualValues};return Ix(l,a,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,a=Ix(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,a=s.length,l=this._getOtherScale(t),u=jz(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=Dz(l);let g,v;function x(){v=s[g];const y=v[l.axis];return!Xt(v[t.axis])||f>y||p<y}for(g=0;g<a&&!(!x()&&(this.updateRangeFromParsed(h,t,v,u),r));++g);if(r){for(g=a-1;g>=0;--g)if(!x()){this.updateRangeFromParsed(h,t,v,u);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][t.axis],Xt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Oz(lt(this.options.clip,Nz(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||s.length-l,h=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(t,r,l,u),f=l;f<l+u;++f){const p=s[f];p.hidden||(p.active&&h?a.push(p):p.draw(t,r))}for(f=0;f<a.length;++f)a[f].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=Bz(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=zz(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=t+"-"+n,l=r[a],u=this.enableOptionSharing&&Sl(i);if(l)return Ox(l,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,t),p=s?[`${t}Hover`,"hover",t,""]:[t,""],g=h.getOptionScopes(this.getDataset(),f),v=Object.keys(Ut.elements[t]),x=()=>this.getContext(i,s,n),y=h.resolveNamedOptions(g,v,x,p);return y.$shared&&(y.$shared=u,r[a]=Object.freeze(Ox(y,u))),y}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,l=r[a];if(l)return l;let u;if(s.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(t,i,n))}const h=new FE(s,u&&u.animations);return u&&u._cacheable&&(r[a]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Af(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(t,n,i,s){Af(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Af(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[l,u,h]of this._syncList)this[l](u,h);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,a=t+n;let l;const u=h=>{for(h.length+=n,l=h.length-1;l>=a;l--)h[l]=h[l-n]};for(u(r),l=t;l<a;++l)r[l]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&ua(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(Dn,"defaults",{}),Z(Dn,"datasetElementType",null),Z(Dn,"dataElementType",null);function Wz(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=vE(i.sort((s,r)=>s-r))}return e._cache.$bar}function Hz(e){const t=e.iScale,n=Wz(t,e.type);let i=t._length,s,r,a,l;const u=()=>{a===32767||a===-32768||(Sl(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(s=0,r=n.length;s<r;++s)a=t.getPixelForValue(n[s]),u();for(l=void 0,s=0,r=t.ticks.length;s<r;++s)a=t.getPixelForTick(s),u();return i}function Vz(e,t,n,i){const s=n.barThickness;let r,a;return vt(s)?(r=t.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[e]-r/2}}function Uz(e,t,n,i){const s=t.pixels,r=s[e];let a=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const u=n.categoryPercentage;a===null&&(a=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-a);const h=r-(r-Math.min(a,l))/2*u;return{chunk:Math.abs(l-a)/2*u/i,ratio:n.barPercentage,start:h}}function $z(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),a=Math.min(s,r),l=Math.max(s,r);let u=a,h=l;Math.abs(a)>Math.abs(l)&&(u=l,h=a),t[n.axis]=h,t._custom={barStart:u,barEnd:h,start:s,end:r,min:a,max:l}}function BE(e,t,n,i){return Vt(e)?$z(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Ax(e,t,n,i){const s=e.iScale,r=e.vScale,a=s.getLabels(),l=s===r,u=[];let h,f,p,g;for(h=n,f=n+i;h<f;++h)g=t[h],p={},p[s.axis]=l||s.parse(a[h],h),u.push(BE(g,p,r,h));return u}function Rf(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Zz(e,t,n){return e!==0?Xn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function Gz(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function Kz(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:u,top:h,bottom:f}=Gz(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=h:(n._bottom||0)===i?s=f:(r[Rx(f,a,l,u)]=!0,s=h)),r[Rx(s,a,l,u)]=!0,e.borderSkipped=r}function Rx(e,t,n,i){return i?(e=Yz(e,t,n),e=Dx(e,n,t)):e=Dx(e,t,n),e}function Yz(e,t,n){return e===t?n:e===n?t:e}function Dx(e,t,n){return e==="start"?t:e==="end"?n:e}function qz(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class du extends Dn{parsePrimitiveData(t,n,i,s){return Ax(t,n,i,s)}parseArrayData(t,n,i,s){return Ax(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=r.axis==="x"?l:u,f=a.axis==="x"?l:u,p=[];let g,v,x,y;for(g=i,v=i+s;g<v;++g)y=n[g],x={},x[r.axis]=r.parse(xs(y,h),g),p.push(BE(xs(y,f),x,a,g));return p}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),a=r._custom,l=Rf(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),h=l.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,s);for(let v=n;v<n+i;v++){const x=this.getParsed(v),y=r||vt(x[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),S=this._calculateBarIndexPixels(v,f),w=(x._stacks||{})[l.axis],b={horizontal:h,base:y.base,enableBorderRadius:!w||Rf(x._custom)||a===w._top||a===w._bottom,x:h?y.head:S.center,y:h?S.center:y.head,height:h?S.size:Math.abs(y.size),width:h?Math.abs(y.size):S.size};g&&(b.options=p||this.resolveDataElementOptions(v,t[v].active?"active":s));const k=b.options||t[v].options;Kz(b,k,w,a),qz(b,k,f.ratio),this.updateElement(t[v],v,b,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),r=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[i.axis],h=f=>{const p=f._parsed.find(v=>v[i.axis]===u),g=p&&p[f.vScale.axis];if(vt(g)||isNaN(g))return!0};for(const f of s)if(!(n!==void 0&&h(f))&&((r===!1||a.indexOf(f.stack)===-1||r===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const l=t.barThickness;return{min:l||Hz(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,l=r||0,u=this.getParsed(t),h=u._custom,f=Rf(h);let p=u[n.axis],g=0,v=i?this.applyStack(n,u,i):p,x,y;v!==p&&(g=v-p,v=p),f&&(p=h.barStart,v=h.barEnd-h.barStart,p!==0&&Xn(p)!==Xn(h.barEnd)&&(g=0),g+=p);const S=!vt(r)&&!f?r:g;let w=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(g+v):x=w,y=x-w,Math.abs(y)<a){y=Zz(y,n,l)*a,p===l&&(w-=y/2);const b=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),P=Math.min(b,k),M=Math.max(b,k);w=Math.max(Math.min(w,M),P),x=w+y,i&&!f&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(w))}if(w===n.getPixelForValue(l)){const b=Xn(y)*n.getLineWidthForValue(l)/2;w+=b,y-=b}return{size:y,base:w,head:x,center:x+y/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,a=lt(s.maxBarThickness,1/0);let l,u;if(n.grouped){const h=r?this._getStackCount(t):n.stackCount,f=s.barThickness==="flex"?Uz(t,n,s,h):Vz(t,n,s,h),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);l=f.start+f.chunk*p+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(a,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}Z(du,"id","bar"),Z(du,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Z(du,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class fu extends Dn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let a=0;a<r.length;a++){const l=n[i+a];r[a]._custom=lt(l[2],this.resolveDataElementOptions(a+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let a=0;a<r.length;a++){const l=n[i+a];r[a]._custom=lt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,a=this.getParsed(t),l=s.getLabelForValue(a.x),u=r.getLabelForValue(a.y),h=a._custom;return{label:i[t]||"",value:"("+l+", "+u+(h?", "+h:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=a.axis,p=l.axis;for(let g=n;g<n+i;g++){const v=t[g],x=!r&&this.getParsed(g),y={},S=y[f]=r?a.getPixelForDecimal(.5):a.getPixelForValue(x[f]),w=y[p]=r?l.getBasePixel():l.getPixelForValue(x[p]);y.skip=isNaN(S)||isNaN(w),h&&(y.options=u||this.resolveDataElementOptions(g,v.active?"active":s),r&&(y.options.radius=0)),this.updateElement(v,g,y,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=lt(i&&i._custom,r),s}}Z(fu,"id","bubble"),Z(fu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Z(fu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Qz(e,t,n){let i=1,s=1,r=0,a=0;if(t<jt){const l=e,u=l+t,h=Math.cos(l),f=Math.sin(l),p=Math.cos(u),g=Math.sin(u),v=(k,P,M)=>Cl(k,l,u,!0)?1:Math.max(P,P*n,M,M*n),x=(k,P,M)=>Cl(k,l,u,!0)?-1:Math.min(P,P*n,M,M*n),y=v(0,h,p),S=v(ee,f,g),w=x(Wt,h,p),b=x(Wt+ee,f,g);i=(y-w)/2,s=(S-b)/2,r=-(y+w)/2,a=-(S+b)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:a}}class Gs extends Dn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=u=>+i[u];if(xt(i[t])){const{key:u="value"}=this._parsing;r=h=>+xs(i[h],u)}let a,l;for(a=t,l=t+n;a<l;++a)s._parsed[a]=r(a)}}_getRotation(){return Nn(this.options.rotation-90)}_getCircumference(){return Nn(this.options.circumference)}_getRotationExtents(){let t=jt,n=-jt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),a=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(uF(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:x,offsetY:y}=Qz(p,f,u),S=(i.width-a)/g,w=(i.height-a)/v,b=Math.max(Math.min(S,w)/2,0),k=fE(this.options.radius,b),P=Math.max(k*u,0),M=(k-P)/this._getVisibleDatasetWeightTotal();this.offsetX=x*k,this.offsetY=y*k,s.total=this.calculateTotal(),this.outerRadius=k-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*h,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/jt)}updateElements(t,n,i,s){const r=s==="reset",a=this.chart,l=a.chartArea,h=a.options.animation,f=(l.left+l.right)/2,p=(l.top+l.bottom)/2,g=r&&h.animateScale,v=g?0:this.innerRadius,x=g?0:this.outerRadius,{sharedOptions:y,includeOptions:S}=this._getSharedOptions(n,s);let w=this._getRotation(),b;for(b=0;b<n;++b)w+=this._circumference(b,r);for(b=n;b<n+i;++b){const k=this._circumference(b,r),P=t[b],M={x:f+this.offsetX,y:p+this.offsetY,startAngle:w,endAngle:w+k,circumference:k,outerRadius:x,innerRadius:v};S&&(M.options=y||this.resolveDataElementOptions(b,P.active?"active":s)),w+=k,this.updateElement(P,b,M,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?jt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Zl(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,a,l,u;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,l=a.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)u=l.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(lt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Z(Gs,"id","doughnut"),Z(Gs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Z(Gs,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Z(Gs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class pu extends Dn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=wE(n,s,a);this._drawStart=l,this._drawCount=u,bE(n)&&(l=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:h},t),this.updateElements(s,l,u,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,s),g=a.axis,v=l.axis,{spanGaps:x,segment:y}=this.options,S=bo(x)?x:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||r||s==="none",b=n+i,k=t.length;let P=n>0&&this.getParsed(n-1);for(let M=0;M<k;++M){const I=t[M],N=w?I:{};if(M<n||M>=b){N.skip=!0;continue}const A=this.getParsed(M),j=vt(A[v]),V=N[g]=a.getPixelForValue(A[g],M),G=N[v]=r||j?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,A,u):A[v],M);N.skip=isNaN(V)||isNaN(G)||j,N.stop=M>0&&Math.abs(A[g]-P[g])>S,y&&(N.parsed=A,N.raw=h.data[M]),p&&(N.options=f||this.resolveDataElementOptions(M,I.active?"active":s)),w||this.updateElement(I,M,N,s),P=A}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Z(pu,"id","line"),Z(pu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(pu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Va extends Dn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Zl(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return IE.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),l=(r-a)/t.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,n,i,s){const r=s==="reset",a=this.chart,u=a.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,p=h.yCenter,g=h.getIndexAngle(0)-.5*Wt;let v=g,x;const y=360/this.countVisibleElements();for(x=0;x<n;++x)v+=this._computeAngle(x,s,y);for(x=n;x<n+i;x++){const S=t[x];let w=v,b=v+this._computeAngle(x,s,y),k=a.getDataVisibility(x)?h.getDistanceFromCenterForValue(this.getParsed(x).r):0;v=b,r&&(u.animateScale&&(k=0),u.animateRotate&&(w=b=g));const P={x:f,y:p,innerRadius:0,outerRadius:k,startAngle:w,endAngle:b,options:this.resolveDataElementOptions(x,S.active?"active":s)};this.updateElement(S,x,P,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Nn(this.resolveDataElementOptions(t,n).angle||i):0}}Z(Va,"id","polarArea"),Z(Va,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Z(Va,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class cm extends Gs{}Z(cm,"id","pie"),Z(cm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class mu extends Dn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return IE.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:r.length===s.length,options:a};this.updateElement(i,void 0,l,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,a=s==="reset";for(let l=n;l<n+i;l++){const u=t[l],h=this.resolveDataElementOptions(l,u.active?"active":s),f=r.getPointPositionForValue(l,this.getParsed(l).r),p=a?r.xCenter:f.x,g=a?r.yCenter:f.y,v={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:h};this.updateElement(u,l,v,s)}}}Z(mu,"id","radar"),Z(mu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Z(mu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class gu extends Dn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,a=this.getParsed(t),l=s.getLabelForValue(a.x),u=r.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+u+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:a}=wE(n,i,s);if(this._drawStart=r,this._drawCount=a,bE(n)&&(r=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=i;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:h},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(n,s),p=this.getSharedOptions(f),g=this.includeOptions(s,p),v=a.axis,x=l.axis,{spanGaps:y,segment:S}=this.options,w=bo(y)?y:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||s==="none";let k=n>0&&this.getParsed(n-1);for(let P=n;P<n+i;++P){const M=t[P],I=this.getParsed(P),N=b?M:{},A=vt(I[x]),j=N[v]=a.getPixelForValue(I[v],P),V=N[x]=r||A?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,I,u):I[x],P);N.skip=isNaN(j)||isNaN(V)||A,N.stop=P>0&&Math.abs(I[v]-k[v])>w,S&&(N.parsed=I,N.raw=h.data[P]),g&&(N.options=p||this.resolveDataElementOptions(P,M.active?"active":s)),b||this.updateElement(M,P,N,s),k=I}this.updateSharedOptions(p,s,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,a)/2}}Z(gu,"id","scatter"),Z(gu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Z(gu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Xz=Object.freeze({__proto__:null,BarController:du,BubbleController:fu,DoughnutController:Gs,LineController:pu,PieController:cm,PolarAreaController:Va,RadarController:mu,ScatterController:gu});function As(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class x_{constructor(t){Z(this,"options");this.options=t||{}}static override(t){Object.assign(x_.prototype,t)}init(){}formats(){return As()}parse(){return As()}format(){return As()}add(){return As()}diff(){return As()}startOf(){return As()}endOf(){return As()}}var Jz={_date:x_};function tB(e,t,n,i){const{controller:s,data:r,_sorted:a}=e,l=s._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&a&&r.length){const h=l._reversePixels?SF:vi;if(i){if(s._sharedOptions){const f=r[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=h(r,t,n-p),v=h(r,t,n+p);return{lo:g.lo,hi:v.hi}}}}else{const f=h(r,t,n);if(u){const{vScale:p}=s._cachedMeta,{_parsed:g}=e,v=g.slice(0,f.lo+1).reverse().findIndex(y=>!vt(y[p.axis]));f.lo-=Math.max(0,v);const x=g.slice(f.hi).findIndex(y=>!vt(y[p.axis]));f.hi+=Math.max(0,x)}return f}}return{lo:0,hi:r.length-1}}function id(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),a=n[t];for(let l=0,u=r.length;l<u;++l){const{index:h,data:f}=r[l],{lo:p,hi:g}=tB(r[l],t,a,s);for(let v=p;v<=g;++v){const x=f[v];x.skip||i(x,h,v)}}}function eB(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Df(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||id(e,n,t,function(l,u,h){!s&&!yi(l,e.chartArea,0)||l.inRange(t.x,t.y,i)&&r.push({element:l,datasetIndex:u,index:h})},!0),r}function nB(e,t,n,i){let s=[];function r(a,l,u){const{startAngle:h,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:p}=gE(a,{x:t.x,y:t.y});Cl(p,h,f)&&s.push({element:a,datasetIndex:l,index:u})}return id(e,n,t,r),s}function iB(e,t,n,i,s,r){let a=[];const l=eB(n);let u=Number.POSITIVE_INFINITY;function h(f,p,g){const v=f.inRange(t.x,t.y,s);if(i&&!v)return;const x=f.getCenterPoint(s);if(!(!!r||e.isPointInArea(x))&&!v)return;const S=l(t,x);S<u?(a=[{element:f,datasetIndex:p,index:g}],u=S):S===u&&a.push({element:f,datasetIndex:p,index:g})}return id(e,n,t,h),a}function Ff(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?nB(e,t,n,s):iB(e,t,n,i,s,r)}function Fx(e,t,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return id(e,n,t,(u,h,f)=>{u[a]&&u[a](t[n],s)&&(r.push({element:u,datasetIndex:h,index:f}),l=l||u.inRange(t.x,t.y,s))}),i&&!l?[]:r}var sB={modes:{index(e,t,n,i){const s=js(t,e),r=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Df(e,s,r,i,a):Ff(e,s,r,!1,i,a),u=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const f=l[0].index,p=h.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:h.index,index:f})}),u):[]},dataset(e,t,n,i){const s=js(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Df(e,s,r,i,a):Ff(e,s,r,!1,i,a);if(l.length>0){const u=l[0].datasetIndex,h=e.getDatasetMeta(u).data;l=[];for(let f=0;f<h.length;++f)l.push({element:h[f],datasetIndex:u,index:f})}return l},point(e,t,n,i){const s=js(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Df(e,s,r,i,a)},nearest(e,t,n,i){const s=js(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Ff(e,s,r,n.intersect,i,a)},x(e,t,n,i){const s=js(t,e);return Fx(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=js(t,e);return Fx(e,s,"y",n.intersect,i)}}};const jE=["left","top","right","bottom"];function ha(e,t){return e.filter(n=>n.pos===t)}function zx(e,t){return e.filter(n=>jE.indexOf(n.pos)===-1&&n.box.axis===t)}function da(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function rB(e){const t=[];let n,i,s,r,a,l;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:a,stackWeight:l=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:l});return t}function oB(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!jE.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function aB(e,t){const n=oB(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,a,l;for(r=0,a=e.length;r<a;++r){l=e[r];const{fullSize:u}=l.box,h=n[l.stack],f=h&&l.stackWeight/h.weight;l.horizontal?(l.width=f?f*i:u&&t.availableWidth,l.height=s):(l.width=i,l.height=f?f*s:u&&t.availableHeight)}return n}function lB(e){const t=rB(e),n=da(t.filter(h=>h.box.fullSize),!0),i=da(ha(t,"left"),!0),s=da(ha(t,"right")),r=da(ha(t,"top"),!0),a=da(ha(t,"bottom")),l=zx(t,"x"),u=zx(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(u).concat(a).concat(l),chartArea:ha(t,"chartArea"),vertical:i.concat(s).concat(u),horizontal:r.concat(a).concat(l)}}function Bx(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function WE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function cB(e,t,n,i){const{pos:s,box:r}=n,a=e.maxPadding;if(!xt(s)){n.size&&(e[s]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?r.height:r.width),n.size=p.size/p.count,e[s]+=n.size}r.getPadding&&WE(a,r.getPadding());const l=Math.max(0,t.outerWidth-Bx(a,e,"left","right")),u=Math.max(0,t.outerHeight-Bx(a,e,"top","bottom")),h=l!==e.w,f=u!==e.h;return e.w=l,e.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function uB(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function hB(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],n[a])}),r}return i(e?["left","right"]:["top","bottom"])}function wa(e,t,n,i){const s=[];let r,a,l,u,h,f;for(r=0,a=e.length,h=0;r<a;++r){l=e[r],u=l.box,u.update(l.width||t.w,l.height||t.h,hB(l.horizontal,t));const{same:p,other:g}=cB(t,n,l,i);h|=p&&s.length,f=f||g,u.fullSize||s.push(l)}return h&&wa(s,t,n,i)||f}function Wc(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function jx(e,t,n,i){const s=n.padding;let{x:r,y:a}=t;for(const l of e){const u=l.box,h=i[l.stack]||{placed:0,weight:1},f=l.stackWeight/h.weight||1;if(l.horizontal){const p=t.w*f,g=h.size||u.height;Sl(h.start)&&(a=h.start),u.fullSize?Wc(u,s.left,a,n.outerWidth-s.right-s.left,g):Wc(u,t.left+h.placed,a,p,g),h.start=a,h.placed+=p,a=u.bottom}else{const p=t.h*f,g=h.size||u.width;Sl(h.start)&&(r=h.start),u.fullSize?Wc(u,r,s.top,g,n.outerHeight-s.bottom-s.top):Wc(u,r,t.top+h.placed,g,p),h.start=r,h.placed+=p,r=u.right}}t.x=r,t.y=a}var Te={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Ie(e.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(n-s.height,0),l=lB(e.boxes),u=l.vertical,h=l.horizontal;Tt(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const f=u.reduce((y,S)=>S.box.options&&S.box.options.display===!1?y:y+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/f,hBoxMaxHeight:a/2}),g=Object.assign({},s);WE(g,Ie(i));const v=Object.assign({maxPadding:g,w:r,h:a,x:s.left,y:s.top},s),x=aB(u.concat(h),p);wa(l.fullSize,v,p,x),wa(u,v,p,x),wa(h,v,p,x)&&wa(u,v,p,x),uB(v),jx(l.leftAndTop,v,p,x),v.x+=v.w,v.y+=v.h,jx(l.rightAndBottom,v,p,x),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Tt(l.chartArea,y=>{const S=y.box;Object.assign(S,e.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class HE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class dB extends HE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _u="$chartjs",fB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wx=e=>e===null||e==="";function pB(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[_u]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Wx(s)){const r=Cx(e,"width");r!==void 0&&(e.width=r)}if(Wx(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Cx(e,"height");r!==void 0&&(e.height=r)}return e}const VE=gz?{passive:!0}:!1;function mB(e,t,n){e&&e.addEventListener(t,n,VE)}function gB(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,VE)}function _B(e,t){const n=fB[e.type]||e.type,{x:i,y:s}=js(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function _h(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function vB(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||_h(l.addedNodes,i),a=a&&!_h(l.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function yB(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||_h(l.removedNodes,i),a=a&&!_h(l.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const El=new Map;let Hx=0;function UE(){const e=window.devicePixelRatio;e!==Hx&&(Hx=e,El.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function xB(e,t){El.size||window.addEventListener("resize",UE),El.set(e,t)}function wB(e){El.delete(e),El.size||window.removeEventListener("resize",UE)}function bB(e,t,n){const i=e.canvas,s=i&&y_(i);if(!s)return;const r=xE((l,u)=>{const h=s.clientWidth;n(l,u),h<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||r(h,f)});return a.observe(s),xB(e,r),a}function zf(e,t,n){n&&n.disconnect(),t==="resize"&&wB(e)}function SB(e,t,n){const i=e.canvas,s=xE(r=>{e.ctx!==null&&n(_B(r,e))},e);return mB(i,t,s),s}class CB extends HE{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(pB(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[_u])return!1;const i=n[_u].initial;["height","width"].forEach(r=>{const a=i[r];vt(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[_u],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:vB,detach:yB,resize:bB}[n]||SB;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:zf,detach:zf,resize:zf}[n]||gB)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return mz(t,n,i,s)}isAttached(t){const n=t&&y_(t);return!!(n&&n.isConnected)}}function kB(e){return!v_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?dB:CB}var Xc;let Ni=(Xc=class{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return bo(this.x)&&bo(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},Z(Xc,"defaults",{}),Z(Xc,"defaultRoutes"),Xc);function EB(e,t){const n=e.options.ticks,i=PB(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?MB(t):[],a=r.length,l=r[0],u=r[a-1],h=[];if(a>s)return IB(t,h,r,a/s),h;const f=TB(r,t,s);if(a>0){let p,g;const v=a>1?Math.round((u-l)/(a-1)):null;for(Hc(t,h,f,vt(v)?0:l-v,l),p=0,g=a-1;p<g;p++)Hc(t,h,f,r[p],r[p+1]);return Hc(t,h,f,u,vt(v)?t.length:u+v),h}return Hc(t,h,f),h}function PB(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function TB(e,t,n){const i=LB(e),s=t.length/n;if(!i)return Math.max(s,1);const r=vF(i);for(let a=0,l=r.length-1;a<l;a++){const u=r[a];if(u>s)return u}return Math.max(s,1)}function MB(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function IB(e,t,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===r&&(t.push(e[a]),s++,r=n[s*i])}function Hc(e,t,n,i,s){const r=lt(i,0),a=Math.min(lt(s,e.length),e.length);let l=0,u,h,f;for(n=Math.ceil(n),s&&(u=s-i,n=u/Math.floor(u/n)),f=r;f<0;)l++,f=Math.round(r+l*n);for(h=Math.max(r,0);h<a;h++)h===f&&(t.push(e[h]),l++,f=Math.round(r+l*n))}function LB(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const NB=e=>e==="left"?"right":e==="right"?"left":e,Vx=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Ux=(e,t)=>Math.min(t||e,e);function $x(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function OB(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,a=e._endPixel,l=1e-6;let u=e.getPixelForTick(s),h;if(!(n&&(i===1?h=Math.max(u-r,a-u):t===0?h=(e.getPixelForTick(1)-u)/2:h=(u-e.getPixelForTick(s-1))/2,u+=s<t?h:-h,u<r-l||u>a+l)))return u}function AB(e,t){Tt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function fa(e){return e.drawTicks?e.tickLength:0}function Zx(e,t){if(!e.display)return 0;const n=ce(e.font,t),i=Ie(e.padding);return(Vt(e.text)?e.text.length:1)*n.lineHeight+i.height}function RB(e,t){return Es(e,{scale:t,type:"scale"})}function DB(e,t,n){return Es(e,{tick:n,index:t,type:"tick"})}function FB(e,t,n){let i=d_(e);return(n&&t!=="right"||!n&&t==="right")&&(i=NB(i)),i}function zB(e,t,n,i){const{top:s,left:r,bottom:a,right:l,chart:u}=e,{chartArea:h,scales:f}=u;let p=0,g,v,x;const y=a-s,S=l-r;if(e.isHorizontal()){if(v=ke(i,r,l),xt(n)){const w=Object.keys(n)[0],b=n[w];x=f[w].getPixelForValue(b)+y-t}else n==="center"?x=(h.bottom+h.top)/2+y-t:x=Vx(e,n,t);g=l-r}else{if(xt(n)){const w=Object.keys(n)[0],b=n[w];v=f[w].getPixelForValue(b)-S+t}else n==="center"?v=(h.left+h.right)/2-S+t:v=Vx(e,n,t);x=ke(i,a,s),p=n==="left"?-ee:ee}return{titleX:v,titleY:x,maxWidth:g,rotation:p}}class gr extends Ni{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Je(t,Number.POSITIVE_INFINITY),n=Je(n,Number.NEGATIVE_INFINITY),i=Je(i,Number.POSITIVE_INFINITY),s=Je(s,Number.NEGATIVE_INFINITY),{min:Je(t,i),max:Je(n,s),minDefined:Xt(t),maxDefined:Xt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,h=l.length;u<h;++u)a=l[u].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Je(n,Je(i,n)),max:Je(i,Je(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GF(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?$x(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=EB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nt(this.options.afterUpdate,[this])}beforeSetDimensions(){Nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Nt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Nt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=Ux(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,l,u,h;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,v=me(this.chart.width-p,0,this.maxWidth);l=t.offset?this.maxWidth/i:v/(i-1),p+6>l&&(l=v/(i-(t.offset?.5:1)),u=this.maxHeight-fa(t.grid)-n.padding-Zx(t.title,this.chart.options.font),h=Math.sqrt(p*p+g*g),a=u_(Math.min(Math.asin(me((f.highest.height+6)/l,-1,1)),Math.asin(me(u/h,-1,1))-Math.asin(me(g/h,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=Zx(s,n.options.font);if(l?(t.width=this.maxWidth,t.height=fa(r)+u):(t.height=this.maxHeight,t.width=fa(r)+u),i.display&&this.ticks.length){const{first:h,last:f,widest:p,highest:g}=this._getLabelSizes(),v=i.padding*2,x=Nn(this.labelRotation),y=Math.cos(x),S=Math.sin(x);if(l){const w=i.mirror?0:S*p.width+y*g.height;t.height=Math.min(this.maxHeight,t.height+w+v)}else{const w=i.mirror?0:y*p.width+S*g.height;t.width=Math.min(this.maxWidth,t.width+w+v)}this._calculatePadding(h,f,S,y)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:a},position:l}=this.options,u=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;u?h?(g=s*t.width,v=i*n.height):(g=i*t.height,v=s*n.width):r==="start"?v=n.width:r==="end"?g=t.width:r!=="inner"&&(g=t.width/2,v=n.width/2),this.paddingLeft=Math.max((g-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-p+a)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;r==="start"?(f=0,p=t.height):r==="end"&&(f=n.height,p=0),this.paddingTop=f+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)vt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=$x(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],l=[],u=Math.floor(n/Ux(n,i));let h=0,f=0,p,g,v,x,y,S,w,b,k,P,M;for(p=0;p<n;p+=u){if(x=t[p].label,y=this._resolveTickFontOptions(p),s.font=S=y.string,w=r[S]=r[S]||{data:{},gc:[]},b=y.lineHeight,k=P=0,!vt(x)&&!Vt(x))k=mh(s,w.data,w.gc,k,x),P=b;else if(Vt(x))for(g=0,v=x.length;g<v;++g)M=x[g],!vt(M)&&!Vt(M)&&(k=mh(s,w.data,w.gc,k,M),P+=b);a.push(k),l.push(P),h=Math.max(k,h),f=Math.max(P,f)}AB(r,n);const I=a.indexOf(h),N=l.indexOf(f),A=j=>({width:a[j]||0,height:l[j]||0});return{first:A(0),last:A(n-1),widest:A(I),highest:A(N),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return bF(this._alignToPixels?Os(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=DB(this.getContext(),t,i))}return this.$context||(this.$context=RB(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Nn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,l=r?r.widest.width+a:0,u=r?r.highest.height+a:0;return this.isHorizontal()?u*i>l*s?l/i:u/s:u*s<l*i?u/i:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:l}=s,u=r.offset,h=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=fa(r),v=[],x=l.setContext(this.getContext()),y=x.display?x.width:0,S=y/2,w=function(J){return Os(i,J,y)};let b,k,P,M,I,N,A,j,V,G,U,bt;if(a==="top")b=w(this.bottom),N=this.bottom-g,j=b-S,G=w(t.top)+S,bt=t.bottom;else if(a==="bottom")b=w(this.top),G=t.top,bt=w(t.bottom)-S,N=b+S,j=this.top+g;else if(a==="left")b=w(this.right),I=this.right-g,A=b-S,V=w(t.left)+S,U=t.right;else if(a==="right")b=w(this.left),V=t.left,U=w(t.right)-S,I=b+S,A=this.left+g;else if(n==="x"){if(a==="center")b=w((t.top+t.bottom)/2+.5);else if(xt(a)){const J=Object.keys(a)[0],ut=a[J];b=w(this.chart.scales[J].getPixelForValue(ut))}G=t.top,bt=t.bottom,N=b+S,j=N+g}else if(n==="y"){if(a==="center")b=w((t.left+t.right)/2);else if(xt(a)){const J=Object.keys(a)[0],ut=a[J];b=w(this.chart.scales[J].getPixelForValue(ut))}I=b-S,A=I-g,V=t.left,U=t.right}const q=lt(s.ticks.maxTicksLimit,p),st=Math.max(1,Math.ceil(p/q));for(k=0;k<p;k+=st){const J=this.getContext(k),ut=r.setContext(J),F=l.setContext(J),K=ut.lineWidth,W=ut.color,X=F.dash||[],rt=F.dashOffset,Pt=ut.tickWidth,dt=ut.tickColor,ft=ut.tickBorderDash||[],et=ut.tickBorderDashOffset;P=OB(this,k,u),P!==void 0&&(M=Os(i,P,K),h?I=A=V=U=M:N=j=G=bt=M,v.push({tx1:I,ty1:N,tx2:A,ty2:j,x1:V,y1:G,x2:U,y2:bt,width:K,color:W,borderDash:X,borderDashOffset:rt,tickWidth:Pt,tickColor:dt,tickBorderDash:ft,tickBorderDashOffset:et}))}return this._ticksLength=p,this._borderValue=b,v}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:h,padding:f,mirror:p}=r,g=fa(i.grid),v=g+f,x=p?-f:v,y=-Nn(this.labelRotation),S=[];let w,b,k,P,M,I,N,A,j,V,G,U,bt="middle";if(s==="top")I=this.bottom-x,N=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+x,N=this._getXAxisLabelAlignment();else if(s==="left"){const st=this._getYAxisLabelAlignment(g);N=st.textAlign,M=st.x}else if(s==="right"){const st=this._getYAxisLabelAlignment(g);N=st.textAlign,M=st.x}else if(n==="x"){if(s==="center")I=(t.top+t.bottom)/2+v;else if(xt(s)){const st=Object.keys(s)[0],J=s[st];I=this.chart.scales[st].getPixelForValue(J)+v}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")M=(t.left+t.right)/2-v;else if(xt(s)){const st=Object.keys(s)[0],J=s[st];M=this.chart.scales[st].getPixelForValue(J)}N=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?bt="top":u==="end"&&(bt="bottom"));const q=this._getLabelSizes();for(w=0,b=l.length;w<b;++w){k=l[w],P=k.label;const st=r.setContext(this.getContext(w));A=this.getPixelForTick(w)+r.labelOffset,j=this._resolveTickFontOptions(w),V=j.lineHeight,G=Vt(P)?P.length:1;const J=G/2,ut=st.color,F=st.textStrokeColor,K=st.textStrokeWidth;let W=N;a?(M=A,N==="inner"&&(w===b-1?W=this.options.reverse?"left":"right":w===0?W=this.options.reverse?"right":"left":W="center"),s==="top"?h==="near"||y!==0?U=-G*V+V/2:h==="center"?U=-q.highest.height/2-J*V+V:U=-q.highest.height+V/2:h==="near"||y!==0?U=V/2:h==="center"?U=q.highest.height/2-J*V:U=q.highest.height-G*V,p&&(U*=-1),y!==0&&!st.showLabelBackdrop&&(M+=V/2*Math.sin(y))):(I=A,U=(1-G)*V/2);let X;if(st.showLabelBackdrop){const rt=Ie(st.backdropPadding),Pt=q.heights[w],dt=q.widths[w];let ft=U-rt.top,et=0-rt.left;switch(bt){case"middle":ft-=Pt/2;break;case"bottom":ft-=Pt;break}switch(N){case"center":et-=dt/2;break;case"right":et-=dt;break;case"inner":w===b-1?et-=dt:w>0&&(et-=dt/2);break}X={left:et,top:ft,width:dt+rt.width,height:Pt+rt.height,color:st.backdropColor}}S.push({label:P,font:j,textOffset:U,options:{rotation:y,color:ut,strokeColor:F,strokeWidth:K,textAlign:W,textBaseline:bt,translation:[M,I],backdrop:X}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Nn(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),l=t+r,u=a.widest.width;let h,f;return n==="left"?s?(f=this.right+r,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-l,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f=this.left)):n==="right"?s?(f=this.left+r,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+l,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const l=(u,h,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const u=s[r];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,p,g;this.isHorizontal()?(h=Os(t,this.left,a)-a/2,f=Os(t,this.right,l)+l/2,p=g=u):(p=Os(t,this.top,a)-a/2,g=Os(t,this.bottom,l)+l/2,h=f=u),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(h,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&td(i,s);const r=this.getLabelItems(t);for(const a of r){const l=a.options,u=a.font,h=a.label,f=a.textOffset;dr(i,h,0,f,u,l)}s&&ed(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ce(i.font),a=Ie(i.padding),l=i.align;let u=r.lineHeight/2;n==="bottom"||n==="center"||xt(n)?(u+=a.bottom,Vt(i.text)&&(u+=r.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:h,titleY:f,maxWidth:p,rotation:g}=zB(this,u,n,l);dr(t,i.text,0,0,r,{color:i.color,maxWidth:p,rotation:g,textAlign:FB(l,n,s),textBaseline:"middle",translation:[h,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=lt(t.grid&&t.grid.z,-1),s=lt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==gr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const l=n[r];l[i]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ce(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Vc{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;WB(n)&&(i=this.register(n));const s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,BB(t,a,i),this.override&&Ut.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Ut[s]&&(delete Ut[s][i],this.override&&delete hr[i])}}function BB(e,t,n){const i=bl(Object.create(null),[n?Ut.get(n):{},Ut.get(t),e.defaults]);Ut.set(t,i),e.defaultRoutes&&jB(t,e.defaultRoutes),e.descriptors&&Ut.describe(t,e.descriptors)}function jB(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),a=t[n].split("."),l=a.pop(),u=a.join(".");Ut.route(r,s,u,l)})}function WB(e){return"id"in e&&"defaults"in e}class HB{constructor(){this.controllers=new Vc(Dn,"datasets",!0),this.elements=new Vc(Ni,"elements"),this.plugins=new Vc(Object,"plugins"),this.scales=new Vc(gr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Tt(s,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,n,i){const s=c_(t);Nt(i["before"+s],[],i),n[t](i),Nt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var $n=new HB;class VB{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const r of t){const a=r.plugin,l=a[i],u=[n,s,r.options];if(Nt(l,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){vt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=lt(i.options&&i.options.plugins,{}),r=UB(i);return s===!1&&!n?[]:ZB(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function UB(e){const t={},n=[],i=Object.keys($n.plugins.items);for(let r=0;r<i.length;r++)n.push($n.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function $B(e,t){return!t&&e===!1?null:e===!0?{}:e}function ZB(e,{plugins:t,localIds:n},i,s){const r=[],a=e.getContext();for(const l of t){const u=l.id,h=$B(i[u],s);h!==null&&r.push({plugin:l,options:GB(e.config,{plugin:l,local:n[u]},h,a)})}return r}function GB(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),a=e.getOptionScopes(i,r);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function um(e,t){const n=Ut.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function KB(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function YB(e,t){return e===t?"_index_":"_value_"}function Gx(e){if(e==="x"||e==="y"||e==="r")return e}function qB(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function hm(e,...t){if(Gx(e))return e;for(const n of t){const i=n.axis||qB(n.position)||e.length>1&&Gx(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Kx(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function QB(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return Kx(e,"x",n[0])||Kx(e,"y",n[0])}return{}}function XB(e,t){const n=hr[e.type]||{scales:{}},i=t.scales||{},s=um(e.type,t),r=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!xt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=hm(a,l,QB(a,e),Ut.scales[l.type]),h=YB(u,s),f=n.scales||{};r[a]=Ba(Object.create(null),[{axis:u},l,f[u],f[h]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,u=a.indexAxis||um(l,t),f=(hr[l]||{}).scales||{};Object.keys(f).forEach(p=>{const g=KB(p,u),v=a[g+"AxisID"]||g;r[v]=r[v]||Object.create(null),Ba(r[v],[{axis:g},i[v],f[p]])})}),Object.keys(r).forEach(a=>{const l=r[a];Ba(l,[Ut.scales[l.type],Ut.scale])}),r}function $E(e){const t=e.options||(e.options={});t.plugins=lt(t.plugins,{}),t.scales=XB(e,t)}function ZE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function JB(e){return e=e||{},e.data=ZE(e.data),$E(e),e}const Yx=new Map,GE=new Set;function Uc(e,t){let n=Yx.get(e);return n||(n=t(),Yx.set(e,n),GE.add(n)),n}const pa=(e,t,n)=>{const i=xs(t,n);i!==void 0&&e.add(i)};class tj{constructor(t){this._config=JB(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ZE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),$E(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Uc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Uc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Uc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Uc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,a=this._cachedScopes(t,i),l=a.get(n);if(l)return l;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(p=>pa(u,t,p))),f.forEach(p=>pa(u,s,p)),f.forEach(p=>pa(u,hr[r]||{},p)),f.forEach(p=>pa(u,Ut,p)),f.forEach(p=>pa(u,am,p))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),GE.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,hr[n]||{},Ut.datasets[n]||{},{type:n},Ut,am]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=qx(this._resolverCache,t,s);let u=a;if(nj(a,n)){r.$shared=!1,i=ws(i)?i():i;const h=this.createResolver(t,i,l);u=So(a,i,h)}for(const h of n)r[h]=u[h];return r}createResolver(t,n,i=[""],s){const{resolver:r}=qx(this._resolverCache,t,i);return xt(n)?So(r,n,void 0,s):r}}function qx(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:m_(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,r)),r}const ej=e=>xt(e)&&Object.getOwnPropertyNames(e).some(t=>ws(e[t]));function nj(e,t){const{isScriptable:n,isIndexable:i}=EE(e);for(const s of t){const r=n(s),a=i(s),l=(a||r)&&e[s];if(r&&(ws(l)||ej(l))||a&&Vt(l))return!0}return!1}var ij="4.4.8";const sj=["top","bottom","left","right","chartArea"];function Qx(e,t){return e==="top"||e==="bottom"||sj.indexOf(e)===-1&&t==="x"}function Xx(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Jx(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Nt(n&&n.onComplete,[e],t)}function rj(e){const t=e.chart,n=t.options.animation;Nt(n&&n.onProgress,[e],t)}function KE(e){return v_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const vu={},tw=e=>{const t=KE(e);return Object.values(vu).filter(n=>n.canvas===t).pop()};function oj(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const a=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=a)}}}function aj(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function $c(e,t,n){return e.options.clip?e[n]:t[n]}function lj(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:$c(n,t,"left"),right:$c(n,t,"right"),top:$c(i,t,"top"),bottom:$c(i,t,"bottom")}:t}class di{static register(...t){$n.add(...t),ew()}static unregister(...t){$n.remove(...t),ew()}constructor(t,n){const i=this.config=new tj(n),s=KE(t),r=tw(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||kB(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),u=l&&l.canvas,h=u&&u.height,f=u&&u.width;if(this.id=cF(),this.ctx=l,this.canvas=u,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=EF(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],vu[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ai.listen(this,"complete",Jx),ai.listen(this,"progress",rj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return vt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Sx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xx(this.canvas,this.ctx),this}stop(){return ai.stop(this),this}resize(t,n){ai.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,r),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Sx(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Nt(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Tt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const l=n[a],u=hm(a,l),h=u==="r",f=u==="x";return{options:l,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),Tt(r,a=>{const l=a.options,u=l.id,h=hm(u,l),f=lt(l.type,a.dtype);(l.position===void 0||Qx(l.position,h)!==Qx(a.dposition))&&(l.position=a.dposition),s[u]=!0;let p=null;if(u in i&&i[u].type===f)p=i[u];else{const g=$n.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(l,t)}),Tt(s,(a,l)=>{a||delete i[l]}),Tt(i,a=>{Te.configure(this,a,a.options),Te.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Xx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=r.indexAxis||um(l,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=$n.getController(l),{datasetElementType:h,dataElementType:f}=Ut.datasets[l];Object.assign(u,{dataElementType:$n.getElement(f),datasetElementType:h&&$n.getElement(h)}),a.controller=new u(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Tt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:p}=this.getDatasetMeta(h),g=!s&&r.indexOf(p)===-1;p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Tt(r,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Xx("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Tt(this.scales,t=>{Te.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!hx(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;oj(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!hx(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Te.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Tt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ws(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ai.has(this)?this.attached&&!ai.running(this)&&ai.start(this):(this.draw(),Jx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=lj(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&td(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&ed(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return yi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=sB.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);Sl(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ai.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),xx(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete vu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),t[r]=a},s=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};Tt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),t[u]=h},s=(u,h)=>{t[u]&&(n.removeEventListener(this,u,h),delete t[u])},r=(u,h)=>{this.canvas&&this.resize(u,h)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Tt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Tt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,a,l,u;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){a=t[l];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!dh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(u,h)=>u.filter(f=>!h.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),a=r(n,t),l=i?t:r(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,a=n,l=this._getActiveElements(t,s,i,a),u=mF(t),h=aj(t,this._lastEvent,i,u);i&&(this._lastEvent=null,Nt(r.onHover,[t,l,this],this),u&&Nt(r.onClick,[t,l,this],this));const f=!dh(l,s);return(f||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=h,f}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}Z(di,"defaults",Ut),Z(di,"instances",vu),Z(di,"overrides",hr),Z(di,"registry",$n),Z(di,"version",ij),Z(di,"getChart",tw);function ew(){return Tt(di.instances,e=>e._plugins.invalidate())}function cj(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:a,outerRadius:l,innerRadius:u}=t;let h=s/l;e.beginPath(),e.arc(r,a,l,i-h,n+h),u>s?(h=s/u,e.arc(r,a,u,n+h,i-h,!0)):e.arc(r,a,s,n+ee,i-ee),e.closePath(),e.clip()}function uj(e){return p_(e,["outerStart","outerEnd","innerStart","innerEnd"])}function hj(e,t,n,i){const s=uj(e.options.borderRadius),r=(n-t)/2,a=Math.min(r,i*t/2),l=u=>{const h=(n-Math.min(r,u))*i/2;return me(u,0,Math.min(r,h))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:me(s.innerStart,0,a),innerEnd:me(s.innerEnd,0,a)}}function Mr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function vh(e,t,n,i,s,r){const{x:a,y:l,startAngle:u,pixelMargin:h,innerRadius:f}=t,p=Math.max(t.outerRadius+i+n-h,0),g=f>0?f+i+n+h:0;let v=0;const x=s-u;if(i){const st=f>0?f-i:0,J=p>0?p-i:0,ut=(st+J)/2,F=ut!==0?x*ut/(ut+i):x;v=(x-F)/2}const y=Math.max(.001,x*p-n/Wt)/p,S=(x-y)/2,w=u+S+v,b=s-S-v,{outerStart:k,outerEnd:P,innerStart:M,innerEnd:I}=hj(t,g,p,b-w),N=p-k,A=p-P,j=w+k/N,V=b-P/A,G=g+M,U=g+I,bt=w+M/G,q=b-I/U;if(e.beginPath(),r){const st=(j+V)/2;if(e.arc(a,l,p,j,st),e.arc(a,l,p,st,V),P>0){const K=Mr(A,V,a,l);e.arc(K.x,K.y,P,V,b+ee)}const J=Mr(U,b,a,l);if(e.lineTo(J.x,J.y),I>0){const K=Mr(U,q,a,l);e.arc(K.x,K.y,I,b+ee,q+Math.PI)}const ut=(b-I/g+(w+M/g))/2;if(e.arc(a,l,g,b-I/g,ut,!0),e.arc(a,l,g,ut,w+M/g,!0),M>0){const K=Mr(G,bt,a,l);e.arc(K.x,K.y,M,bt+Math.PI,w-ee)}const F=Mr(N,w,a,l);if(e.lineTo(F.x,F.y),k>0){const K=Mr(N,j,a,l);e.arc(K.x,K.y,k,w-ee,j)}}else{e.moveTo(a,l);const st=Math.cos(j)*p+a,J=Math.sin(j)*p+l;e.lineTo(st,J);const ut=Math.cos(V)*p+a,F=Math.sin(V)*p+l;e.lineTo(ut,F)}e.closePath()}function dj(e,t,n,i,s){const{fullCircles:r,startAngle:a,circumference:l}=t;let u=t.endAngle;if(r){vh(e,t,n,i,u,s);for(let h=0;h<r;++h)e.fill();isNaN(l)||(u=a+(l%jt||jt))}return vh(e,t,n,i,u,s),e.fill(),u}function fj(e,t,n,i,s){const{fullCircles:r,startAngle:a,circumference:l,options:u}=t,{borderWidth:h,borderJoinStyle:f,borderDash:p,borderDashOffset:g}=u,v=u.borderAlign==="inner";if(!h)return;e.setLineDash(p||[]),e.lineDashOffset=g,v?(e.lineWidth=h*2,e.lineJoin=f||"round"):(e.lineWidth=h,e.lineJoin=f||"bevel");let x=t.endAngle;if(r){vh(e,t,n,i,x,s);for(let y=0;y<r;++y)e.stroke();isNaN(l)||(x=a+(l%jt||jt))}v&&cj(e,t,x),r||(vh(e,t,n,i,x,s),e.stroke())}class ba extends Ni{constructor(n){super();Z(this,"circumference");Z(this,"endAngle");Z(this,"fullCircles");Z(this,"innerRadius");Z(this,"outerRadius");Z(this,"pixelMargin");Z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:a,distance:l}=gE(r,{x:n,y:i}),{startAngle:u,endAngle:h,innerRadius:f,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,x=lt(g,h-u),y=Cl(a,u,h)&&u!==h,S=x>=jt||y,w=_i(l,f+v,p+v);return S&&w}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:f}=this.options,p=(r+a)/2,g=(l+u+f+h)/2;return{x:i+Math.cos(p)*g,y:s+Math.sin(p)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,a=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>jt?Math.floor(s/jt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*r,Math.sin(u)*r);const h=1-Math.sin(Math.min(Wt,s||0)),f=r*h;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,dj(n,this,f,a,l),fj(n,this,f,a,l),n.restore()}}Z(ba,"id","arc"),Z(ba,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Z(ba,"defaultRoutes",{backgroundColor:"backgroundColor"}),Z(ba,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function YE(e,t,n=t){e.lineCap=lt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(lt(n.borderDash,t.borderDash)),e.lineDashOffset=lt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=lt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=lt(n.borderWidth,t.borderWidth),e.strokeStyle=lt(n.borderColor,t.borderColor)}function pj(e,t,n){e.lineTo(n.x,n.y)}function mj(e){return e.stepped?zF:e.tension||e.cubicInterpolationMode==="monotone"?BF:pj}function qE(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:a,end:l}=t,u=Math.max(s,a),h=Math.min(r,l),f=s<a&&r<a||s>l&&r>l;return{count:i,start:u,loop:t.loop,ilen:h<u&&!f?i+h-u:h-u}}function gj(e,t,n,i){const{points:s,options:r}=t,{count:a,start:l,loop:u,ilen:h}=qE(s,n,i),f=mj(r);let{move:p=!0,reverse:g}=i||{},v,x,y;for(v=0;v<=h;++v)x=s[(l+(g?h-v:v))%a],!x.skip&&(p?(e.moveTo(x.x,x.y),p=!1):f(e,y,x,g,r.stepped),y=x);return u&&(x=s[(l+(g?h:0))%a],f(e,y,x,g,r.stepped)),!!u}function _j(e,t,n,i){const s=t.points,{count:r,start:a,ilen:l}=qE(s,n,i),{move:u=!0,reverse:h}=i||{};let f=0,p=0,g,v,x,y,S,w;const b=P=>(a+(h?l-P:P))%r,k=()=>{y!==S&&(e.lineTo(f,S),e.lineTo(f,y),e.lineTo(f,w))};for(u&&(v=s[b(0)],e.moveTo(v.x,v.y)),g=0;g<=l;++g){if(v=s[b(g)],v.skip)continue;const P=v.x,M=v.y,I=P|0;I===x?(M<y?y=M:M>S&&(S=M),f=(p*f+P)/++p):(k(),e.lineTo(P,M),x=I,p=0,y=S=M),w=M}k()}function dm(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?_j:gj}function vj(e){return e.stepped?_z:e.tension||e.cubicInterpolationMode==="monotone"?vz:Ws}function yj(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),YE(e,t.options),e.stroke(s)}function xj(e,t,n,i){const{segments:s,options:r}=t,a=dm(t);for(const l of s)YE(e,r,l.style),e.beginPath(),a(e,t,l,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const wj=typeof Path2D=="function";function bj(e,t,n,i){wj&&!t.options.segment?yj(e,t,n,i):xj(e,t,n,i)}class ts extends Ni{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;cz(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Cz(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,a=DE(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],u=vj(i);let h,f;for(h=0,f=a.length;h<f;++h){const{start:p,end:g}=a[h],v=r[p],x=r[g];if(v===x){l.push(v);continue}const y=Math.abs((s-v[n])/(x[n]-v[n])),S=u(v,x,y,i.stepped);S[n]=t[n],l.push(S)}return l.length===1?l[0]:l}pathSegment(t,n,i){return dm(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=dm(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of s)a&=r(t,this,l,{start:n,end:n+i-1});return!!a}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),bj(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(ts,"id","line"),Z(ts,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(ts,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(ts,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function nw(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class yu extends Ni{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return nw(this,n,"x",i)}inYRange(n,i){return nw(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!yi(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,lm(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(yu,"id","point"),Z(yu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(yu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function QE(e,t){const{x:n,y:i,base:s,width:r,height:a}=e.getProps(["x","y","base","width","height"],t);let l,u,h,f,p;return e.horizontal?(p=a/2,l=Math.min(n,s),u=Math.max(n,s),h=i-p,f=i+p):(p=r/2,l=n-p,u=n+p,h=Math.min(i,s),f=Math.max(i,s)),{left:l,top:h,right:u,bottom:f}}function es(e,t,n,i){return e?0:me(t,n,i)}function Sj(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=kE(i);return{t:es(s.top,r.top,0,n),r:es(s.right,r.right,0,t),b:es(s.bottom,r.bottom,0,n),l:es(s.left,r.left,0,t)}}function Cj(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=er(s),a=Math.min(t,n),l=e.borderSkipped,u=i||xt(s);return{topLeft:es(!u||l.top||l.left,r.topLeft,0,a),topRight:es(!u||l.top||l.right,r.topRight,0,a),bottomLeft:es(!u||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:es(!u||l.bottom||l.right,r.bottomRight,0,a)}}function kj(e){const t=QE(e),n=t.right-t.left,i=t.bottom-t.top,s=Sj(e,n/2,i/2),r=Cj(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Bf(e,t,n,i){const s=t===null,r=n===null,l=e&&!(s&&r)&&QE(e,i);return l&&(s||_i(t,l.left,l.right))&&(r||_i(n,l.top,l.bottom))}function Ej(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Pj(e,t){e.rect(t.x,t.y,t.w,t.h)}function jf(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+a,radius:e.radius}}class xu extends Ni{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=kj(this),l=Ej(a.radius)?kl:Pj;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),l(t,jf(a,n,r)),t.clip(),l(t,jf(r,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,jf(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Bf(this,t,n,i)}inXRange(t,n){return Bf(this,t,null,n)}inYRange(t,n){return Bf(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Z(xu,"id","bar"),Z(xu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Z(xu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Tj=Object.freeze({__proto__:null,ArcElement:ba,BarElement:xu,LineElement:ts,PointElement:yu});const fm=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],iw=fm.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function XE(e){return fm[e%fm.length]}function JE(e){return iw[e%iw.length]}function Mj(e,t){return e.borderColor=XE(t),e.backgroundColor=JE(t),++t}function Ij(e,t){return e.backgroundColor=e.data.map(()=>XE(t++)),t}function Lj(e,t){return e.backgroundColor=e.data.map(()=>JE(t++)),t}function Nj(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof Gs?t=Ij(n,t):s instanceof Va?t=Lj(n,t):s&&(t=Mj(n,t))}}function sw(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function Oj(e){return e&&(e.borderColor||e.backgroundColor)}function Aj(){return Ut.borderColor!=="rgba(0,0,0,0.1)"||Ut.backgroundColor!=="rgba(0,0,0,0.1)"}var Rj={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s,a=sw(i)||Oj(s)||r&&sw(r)||Aj();if(!n.forceOverride&&a)return;const l=Nj(e);i.forEach(l)}};function Dj(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const a=[],l=(n-2)/(r-2);let u=0;const h=t+n-1;let f=t,p,g,v,x,y;for(a[u++]=e[f],p=0;p<r-2;p++){let S=0,w=0,b;const k=Math.floor((p+1)*l)+1+t,P=Math.min(Math.floor((p+2)*l)+1,n)+t,M=P-k;for(b=k;b<P;b++)S+=e[b].x,w+=e[b].y;S/=M,w/=M;const I=Math.floor(p*l)+1+t,N=Math.min(Math.floor((p+1)*l)+1,n)+t,{x:A,y:j}=e[f];for(v=x=-1,b=I;b<N;b++)x=.5*Math.abs((A-S)*(e[b].y-j)-(A-e[b].x)*(w-j)),x>v&&(v=x,g=e[b],y=b);a[u++]=g,f=y}return a[u++]=e[h],a}function Fj(e,t,n,i){let s=0,r=0,a,l,u,h,f,p,g,v,x,y;const S=[],w=t+n-1,b=e[t].x,P=e[w].x-b;for(a=t;a<t+n;++a){l=e[a],u=(l.x-b)/P*i,h=l.y;const M=u|0;if(M===f)h<x?(x=h,p=a):h>y&&(y=h,g=a),s=(r*s+l.x)/++r;else{const I=a-1;if(!vt(p)&&!vt(g)){const N=Math.min(p,g),A=Math.max(p,g);N!==v&&N!==I&&S.push({...e[N],x:s}),A!==v&&A!==I&&S.push({...e[A],x:s})}a>0&&I!==v&&S.push(e[I]),S.push(l),f=M,r=0,x=y=h,p=g=v=a}}return S}function tP(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function rw(e){e.data.datasets.forEach(t=>{tP(t)})}function zj(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:a,max:l,minDefined:u,maxDefined:h}=r.getUserBounds();return u&&(i=me(vi(t,r.axis,a).lo,0,n-1)),h?s=me(vi(t,r.axis,l).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var Bj={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){rw(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:a,indexAxis:l}=s,u=e.getDatasetMeta(r),h=a||s.data;if(xa([l,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=zj(u,h);const v=n.threshold||4*i;if(g<=v){tP(s);return}vt(a)&&(s._data=h,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let x;switch(n.algorithm){case"lttb":x=Dj(h,p,g,i,n);break;case"min-max":x=Fj(h,p,g,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(e){rw(e)}};function jj(e,t,n){const i=e.segments,s=e.points,r=t.points,a=[];for(const l of i){let{start:u,end:h}=l;h=w_(u,h,s);const f=pm(n,s[u],s[h],l.loop);if(!t.segments){a.push({source:l,target:f,start:s[u],end:s[h]});continue}const p=DE(t,f);for(const g of p){const v=pm(n,r[g.start],r[g.end],g.loop),x=RE(l,s,v);for(const y of x)a.push({source:y,target:g,start:{[n]:ow(f,v,"start",Math.max)},end:{[n]:ow(f,v,"end",Math.min)}})}}return a}function pm(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=en(s),r=en(r)),{property:e,start:s,end:r}}function Wj(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:a,end:l})=>{l=w_(a,l,s);const u=s[a],h=s[l];i!==null?(r.push({x:u.x,y:i}),r.push({x:h.x,y:i})):n!==null&&(r.push({x:n,y:u.y}),r.push({x:n,y:h.y}))}),r}function w_(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ow(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function eP(e,t){let n=[],i=!1;return Vt(e)?(i=!0,n=e):n=Wj(e,t),n.length?new ts({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function aw(e){return e&&e.fill!==!1}function Hj(e,t,n){let s=e[t].fill;const r=[t];let a;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Xt(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;r.push(s),s=a.fill}return!1}function Vj(e,t,n){const i=Gj(e);if(xt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Xt(s)&&Math.floor(s)===s?Uj(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Uj(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function $j(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:xt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Zj(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:xt(e)?i=e.value:i=t.getBaseValue(),i}function Gj(e){const t=e.options,n=t.fill;let i=lt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Kj(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,a=i.points,l=Yj(t,n);l.push(eP({x:null,y:t.bottom},i));for(let u=0;u<r.length;u++){const h=r[u];for(let f=h.start;f<=h.end;f++)qj(s,a[f],l)}return new ts({points:s,options:{}})}function Yj(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function qj(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:a,last:l,point:u}=Qj(r,t,"x");if(!(!u||a&&l)){if(a)i.unshift(u);else if(e.push(u),!l)break}}e.push(...i)}function Qj(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,a=e.points;let l=!1,u=!1;for(let h=0;h<r.length;h++){const f=r[h],p=a[f.start][n],g=a[f.end][n];if(_i(s,p,g)){l=s===p,u=s===g;break}}return{first:l,last:u,point:i}}class nP{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:a}=this;return n=n||{start:0,end:jt},t.arc(s,r,a,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function Xj(e){const{chart:t,fill:n,line:i}=e;if(Xt(n))return Jj(t,n);if(n==="stack")return Kj(e);if(n==="shape")return!0;const s=t3(e);return s instanceof nP?s:eP(s,i)}function Jj(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function t3(e){return(e.scale||{}).getPointPositionForValue?n3(e):e3(e)}function e3(e){const{scale:t={},fill:n}=e,i=$j(n,t);if(Xt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function n3(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,a=Zj(n,t,r),l=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,r);return new nP({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<s;++u)l.push(t.getPointPositionForValue(u,a));return l}function Wf(e,t,n){const i=Xj(t),{line:s,scale:r,axis:a}=t,l=s.options,u=l.fill,h=l.backgroundColor,{above:f=h,below:p=h}=u||{};i&&s.points.length&&(td(e,n),i3(e,{line:s,target:i,above:f,below:p,area:n,scale:r,axis:a}),ed(e))}function i3(e,t){const{line:n,target:i,above:s,below:r,area:a,scale:l}=t,u=n._loop?"angle":t.axis;e.save(),u==="x"&&r!==s&&(lw(e,i,a.top),cw(e,{line:n,target:i,color:s,scale:l,property:u}),e.restore(),e.save(),lw(e,i,a.bottom)),cw(e,{line:n,target:i,color:r,scale:l,property:u}),e.restore()}function lw(e,t,n){const{segments:i,points:s}=t;let r=!0,a=!1;e.beginPath();for(const l of i){const{start:u,end:h}=l,f=s[u],p=s[w_(u,h,s)];r?(e.moveTo(f.x,f.y),r=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function cw(e,t){const{line:n,target:i,property:s,color:r,scale:a}=t,l=jj(n,i,s);for(const{source:u,target:h,start:f,end:p}of l){const{style:{backgroundColor:g=r}={}}=u,v=i!==!0;e.save(),e.fillStyle=g,s3(e,a,v&&pm(s,f,p)),e.beginPath();const x=!!n.pathSegment(e,u);let y;if(v){x?e.closePath():uw(e,i,p,s);const S=!!i.pathSegment(e,h,{move:x,reverse:!0});y=x&&S,y||uw(e,i,f,s)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function s3(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:a,end:l}=n||{};r==="x"&&(e.beginPath(),e.rect(a,i,l-a,s-i),e.clip())}function uw(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var r3={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,a,l,u;for(a=0;a<i;++a)r=e.getDatasetMeta(a),l=r.dataset,u=null,l&&l.options&&l instanceof ts&&(u={visible:e.isDatasetVisible(a),index:a,fill:Vj(l,a,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=u,s.push(u);for(a=0;a<i;++a)u=s[a],!(!u||u.fill===!1)&&(u.fill=Hj(s,a,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),i&&l.fill&&Wf(e.ctx,l,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;aw(r)&&Wf(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!aw(i)||n.drawTime!=="beforeDatasetDraw"||Wf(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hw=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},o3=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class dw extends Ni{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Nt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=ce(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=hw(i,r);let h,f;n.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(a,r,l,u)+10):(f=this.maxHeight,h=this._fitCols(a,s,l,u)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+l;let p=t;r.textAlign="left",r.textBaseline="middle";let g=-1,v=-f;return this.legendItems.forEach((x,y)=>{const S=i+n/2+r.measureText(x.text).width;(y===0||h[h.length-1]+S+2*l>a)&&(p+=f,h[h.length-(y>0?0:1)]=0,v+=f,g++),u[y]={left:0,top:v,row:g,width:S,height:s},h[h.length-1]+=S+l}),p}_fitCols(t,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=a-t;let p=l,g=0,v=0,x=0,y=0;return this.legendItems.forEach((S,w)=>{const{itemWidth:b,itemHeight:k}=a3(i,n,r,S,s);w>0&&v+k+2*l>f&&(p+=g+l,h.push({width:g,height:v}),x+=g+l,y++,g=v=0),u[w]={left:x,top:v,col:y,width:b,height:k},g=Math.max(g,b),v+=k+l}),p+=g,h.push({width:g,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=Jr(r,this.left,this.width);if(this.isHorizontal()){let l=0,u=ke(i,this.left+s,this.right-this.lineWidths[l]);for(const h of n)l!==h.row&&(l=h.row,u=ke(i,this.left+s,this.right-this.lineWidths[l])),h.top+=this.top+t+s,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+s}else{let l=0,u=ke(i,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const h of n)h.col!==l&&(l=h.col,u=ke(i,this.top+t+s,this.bottom-this.columnSizes[l].height)),h.top=u,h.left+=this.left+s,h.left=a.leftForLtr(a.x(h.left),h.width),u+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;td(t,this),this._draw(),ed(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=t,l=Ut.color,u=Jr(t.rtl,this.left,this.width),h=ce(a.font),{padding:f}=a,p=h.size,g=p/2;let v;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:x,boxHeight:y,itemHeight:S}=hw(a,p),w=function(I,N,A){if(isNaN(x)||x<=0||isNaN(y)||y<0)return;s.save();const j=lt(A.lineWidth,1);if(s.fillStyle=lt(A.fillStyle,l),s.lineCap=lt(A.lineCap,"butt"),s.lineDashOffset=lt(A.lineDashOffset,0),s.lineJoin=lt(A.lineJoin,"miter"),s.lineWidth=j,s.strokeStyle=lt(A.strokeStyle,l),s.setLineDash(lt(A.lineDash,[])),a.usePointStyle){const V={radius:y*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:j},G=u.xPlus(I,x/2),U=N+g;CE(s,V,G,U,a.pointStyleWidth&&x)}else{const V=N+Math.max((p-y)/2,0),G=u.leftForLtr(I,x),U=er(A.borderRadius);s.beginPath(),Object.values(U).some(bt=>bt!==0)?kl(s,{x:G,y:V,w:x,h:y,radius:U}):s.rect(G,V,x,y),s.fill(),j!==0&&s.stroke()}s.restore()},b=function(I,N,A){dr(s,A.text,I,N+S/2,h,{strikethrough:A.hidden,textAlign:u.textAlign(A.textAlign)})},k=this.isHorizontal(),P=this._computeTitleHeight();k?v={x:ke(r,this.left+f,this.right-i[0]),y:this.top+f+P,line:0}:v={x:this.left+f,y:ke(r,this.top+P+f,this.bottom-n[0].height),line:0},NE(this.ctx,t.textDirection);const M=S+f;this.legendItems.forEach((I,N)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const A=s.measureText(I.text).width,j=u.textAlign(I.textAlign||(I.textAlign=a.textAlign)),V=x+g+A;let G=v.x,U=v.y;u.setWidth(this.width),k?N>0&&G+V+f>this.right&&(U=v.y+=M,v.line++,G=v.x=ke(r,this.left+f,this.right-i[v.line])):N>0&&U+M>this.bottom&&(G=v.x=G+n[v.line].width+f,v.line++,U=v.y=ke(r,this.top+P+f,this.bottom-n[v.line].height));const bt=u.x(G);if(w(bt,U,I),G=PF(j,G+x+g,k?G+V:this.right,t.rtl),b(u.x(G),U,I),k)v.x+=V+f;else if(typeof I.text!="string"){const q=h.lineHeight;v.y+=iP(I,q)+f}else v.y+=M}),OE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=ce(n.font),s=Ie(n.padding);if(!n.display)return;const r=Jr(t.rtl,this.left,this.width),a=this.ctx,l=n.position,u=i.size/2,h=s.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,p=ke(t.align,p,this.right-g);else{const x=this.columnSizes.reduce((y,S)=>Math.max(y,S.height),0);f=h+ke(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const v=ke(l,p,p+g);a.textAlign=r.textAlign(d_(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,dr(a,n.text,v,f,i)}_computeTitleHeight(){const t=this.options.title,n=ce(t.font),i=Ie(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(_i(t,this.left,this.right)&&_i(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],_i(t,s.left,s.left+s.width)&&_i(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!u3(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=o3(s,i);s&&!r&&Nt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Nt(n.onHover,[t,i,this],this)}else i&&Nt(n.onClick,[t,i,this],this)}}function a3(e,t,n,i,s){const r=l3(i,e,t,n),a=c3(s,i,t.lineHeight);return{itemWidth:r,itemHeight:a}}function l3(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),t+n.size/2+i.measureText(s).width}function c3(e,t,n){let i=e;return typeof t.text!="string"&&(i=iP(t,n)),i}function iP(e,t){const n=e.text?e.text.length:0;return t*n}function u3(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var h3={id:"legend",_element:dw,start(e,t,n){const i=e.legend=new dw({ctx:e.ctx,options:n,chart:e});Te.configure(e,i,n),Te.addBox(e,i)},stop(e){Te.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Te.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),f=Ie(h.borderWidth);return{text:t[u.index].label,fillStyle:h.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:a&&(l||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let b_=class extends Ni{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Vt(i.text)?i.text.length:1;this._padding=Ie(i.padding);const r=s*ce(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:a}=this,l=a.align;let u=0,h,f,p;return this.isHorizontal()?(f=ke(l,i,r),p=n+t,h=r-i):(a.position==="left"?(f=i+t,p=ke(l,s,n),u=Wt*-.5):(f=r-t,p=ke(l,n,s),u=Wt*.5),h=s-n),{titleX:f,titleY:p,maxWidth:h,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=ce(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:h}=this._drawArgs(r);dr(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:d_(n.align),textBaseline:"middle",translation:[a,l]})}};function d3(e,t){const n=new b_({ctx:e.ctx,options:t,chart:e});Te.configure(e,n,t),Te.addBox(e,n),e.titleBlock=n}var f3={id:"title",_element:b_,start(e,t,n){d3(e,n)},stop(e){const t=e.titleBlock;Te.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Te.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zc=new WeakMap;var p3={id:"subtitle",start(e,t,n){const i=new b_({ctx:e.ctx,options:n,chart:e});Te.configure(e,i,n),Te.addBox(e,i),Zc.set(e,i)},stop(e){Te.removeBox(e,Zc.get(e)),Zc.delete(e)},beforeUpdate(e,t,n){const i=Zc.get(e);Te.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sa={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),s+=u.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=e.length;r<a;++r){const u=e[r].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=om(t,h);f<s&&(s=f,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Vn(e,t){return t&&(Vt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function li(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function m3(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:a,value:l}=r.getLabelAndValue(s);return{chart:e,label:a,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function fw(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:a,boxHeight:l}=t,u=ce(t.bodyFont),h=ce(t.titleFont),f=ce(t.footerFont),p=r.length,g=s.length,v=i.length,x=Ie(t.padding);let y=x.height,S=0,w=i.reduce((P,M)=>P+M.before.length+M.lines.length+M.after.length,0);if(w+=e.beforeBody.length+e.afterBody.length,p&&(y+=p*h.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),w){const P=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;y+=v*P+(w-v)*u.lineHeight+(w-1)*t.bodySpacing}g&&(y+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let b=0;const k=function(P){S=Math.max(S,n.measureText(P).width+b)};return n.save(),n.font=h.string,Tt(e.title,k),n.font=u.string,Tt(e.beforeBody.concat(e.afterBody),k),b=t.displayColors?a+2+t.boxPadding:0,Tt(i,P=>{Tt(P.before,k),Tt(P.lines,k),Tt(P.after,k)}),b=0,n.font=f.string,Tt(e.footer,k),n.restore(),S+=x.width,{width:S,height:y}}function g3(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function _3(e,t,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+r+a>t.width||e==="right"&&s-r-a<0)return!0}function v3(e,t,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:l,right:u}}=e;let h="center";return i==="center"?h=s<=(l+u)/2?"left":"right":s<=r/2?h="left":s>=a-r/2&&(h="right"),_3(h,e,t,n)&&(h="center"),h}function pw(e,t,n){const i=n.yAlign||t.yAlign||g3(e,n);return{xAlign:n.xAlign||t.xAlign||v3(e,t,n,i),yAlign:i}}function y3(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function x3(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function mw(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=e,{xAlign:l,yAlign:u}=n,h=s+r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:v}=er(a);let x=y3(t,l);const y=x3(t,u,h);return u==="center"?l==="left"?x+=h:l==="right"&&(x-=h):l==="left"?x-=Math.max(f,g)+s:l==="right"&&(x+=Math.max(p,v)+s),{x:me(x,0,i.width-t.width),y:me(y,0,i.height-t.height)}}function Gc(e,t,n){const i=Ie(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function gw(e){return Vn([],li(e))}function w3(e,t,n){return Es(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function _w(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const sP={beforeTitle:ri,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ri,beforeBody:ri,beforeLabel:ri,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return vt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ri,afterBody:ri,beforeFooter:ri,footer:ri,afterFooter:ri};function We(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?sP[t].call(n,i):s}class mm extends Ni{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new FE(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=w3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=We(i,"beforeTitle",this,t),r=We(i,"title",this,t),a=We(i,"afterTitle",this,t);let l=[];return l=Vn(l,li(s)),l=Vn(l,li(r)),l=Vn(l,li(a)),l}getBeforeBody(t,n){return gw(We(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Tt(t,r=>{const a={before:[],lines:[],after:[]},l=_w(i,r);Vn(a.before,li(We(l,"beforeLabel",this,r))),Vn(a.lines,We(l,"label",this,r)),Vn(a.after,li(We(l,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(t,n){return gw(We(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=We(i,"beforeFooter",this,t),r=We(i,"footer",this,t),a=We(i,"afterFooter",this,t);let l=[];return l=Vn(l,li(s)),l=Vn(l,li(r)),l=Vn(l,li(a)),l}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let l=[],u,h;for(u=0,h=n.length;u<h;++u)l.push(m3(this.chart,n[u]));return t.filter&&(l=l.filter((f,p,g)=>t.filter(f,p,g,i))),t.itemSort&&(l=l.sort((f,p)=>t.itemSort(f,p,i))),Tt(l,f=>{const p=_w(t.callbacks,f);s.push(We(p,"labelColor",this,f)),r.push(We(p,"labelPointStyle",this,f)),a.push(We(p,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const l=Sa[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=fw(this,i),h=Object.assign({},l,u),f=pw(this.chart,i,h),p=mw(i,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=er(l),{x:g,y:v}=t,{width:x,height:y}=n;let S,w,b,k,P,M;return r==="center"?(P=v+y/2,s==="left"?(S=g,w=S-a,k=P+a,M=P-a):(S=g+x,w=S+a,k=P-a,M=P+a),b=S):(s==="left"?w=g+Math.max(u,f)+a:s==="right"?w=g+x-Math.max(h,p)-a:w=this.caretX,r==="top"?(k=v,P=k-a,S=w-a,b=w+a):(k=v+y,P=k+a,S=w+a,b=w-a),M=k),{x1:S,x2:w,x3:b,y1:k,y2:P,y3:M}}drawTitle(t,n,i){const s=this.title,r=s.length;let a,l,u;if(r){const h=Jr(i.rtl,this.x,this.width);for(t.x=Gc(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",a=ce(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<r;++u)n.fillText(s[u],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,u+1===r&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,n,i,s,r){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=r,f=ce(r.bodyFont),p=Gc(this,"left",r),g=s.x(p),v=u<f.lineHeight?(f.lineHeight-u)/2:0,x=n.y+v;if(r.usePointStyle){const y={radius:Math.min(h,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=s.leftForLtr(g,h)+h/2,w=x+u/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,lm(t,y,S,w),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,lm(t,y,S,w)}else{t.lineWidth=xt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const y=s.leftForLtr(g,h),S=s.leftForLtr(s.xPlus(g,1),h-2),w=er(a.borderRadius);Object.values(w).some(b=>b!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,kl(t,{x:y,y:x,w:h,h:u,radius:w}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),kl(t,{x:S,y:x+1,w:h-2,h:u-2,radius:w}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(y,x,h,u),t.strokeRect(y,x,h,u),t.fillStyle=a.backgroundColor,t.fillRect(S,x+1,h-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:h,boxPadding:f}=i,p=ce(i.bodyFont);let g=p.lineHeight,v=0;const x=Jr(i.rtl,this.x,this.width),y=function(A){n.fillText(A,x.x(t.x+v),t.y+g/2),t.y+=g+r},S=x.textAlign(a);let w,b,k,P,M,I,N;for(n.textAlign=a,n.textBaseline="middle",n.font=p.string,t.x=Gc(this,S,i),n.fillStyle=i.bodyColor,Tt(this.beforeBody,y),v=l&&S!=="right"?a==="center"?h/2+f:h+2+f:0,P=0,I=s.length;P<I;++P){for(w=s[P],b=this.labelTextColors[P],n.fillStyle=b,Tt(w.before,y),k=w.lines,l&&k.length&&(this._drawColorBox(n,t,P,x,i),g=Math.max(p.lineHeight,u)),M=0,N=k.length;M<N;++M)y(k[M]),g=p.lineHeight;Tt(w.after,y)}v=0,g=p.lineHeight,Tt(this.afterBody,y),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let a,l;if(r){const u=Jr(i.rtl,this.x,this.width);for(t.x=Gc(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=ce(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<r;++l)n.fillText(s[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:a}=this,{x:l,y:u}=t,{width:h,height:f}=i,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:x}=er(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+p,u),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(l+h-g,u),n.quadraticCurveTo(l+h,u,l+h,u+g),a==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(l+h,u+f-x),n.quadraticCurveTo(l+h,u+f,l+h-x,u+f),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(l+v,u+f),n.quadraticCurveTo(l,u+f,l,u+f-v),a==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(l,u+p),n.quadraticCurveTo(l,u,l+p,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Sa[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=fw(this,t),u=Object.assign({},a,this._size),h=pw(n,t,u),f=mw(t,u,h,n);(s._to!==f.x||r._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Ie(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),NE(t,n.textDirection),r.y+=a.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),OE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:l,index:u})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[u],index:u}}),r=!dh(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(t,r,n,i),l=this._positionChanged(a,t),u=n||!dh(a,r)||l;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,a=Sa[r.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}Z(mm,"positioners",Sa);var b3={id:"tooltip",_element:mm,positioners:Sa,afterInit(e,t,n){n&&(e.tooltip=new mm({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},S3=Object.freeze({__proto__:null,Colors:Rj,Decimation:Bj,Filler:r3,Legend:h3,SubTitle:p3,Title:f3,Tooltip:b3});const C3=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function k3(e,t,n,i){const s=e.indexOf(t);if(s===-1)return C3(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const E3=(e,t)=>e===null?null:me(Math.round(e),0,t);function vw(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class gm extends gr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(vt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:k3(i,t,lt(n,t),this._addedLabels),E3(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return vw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Z(gm,"id","category"),Z(gm,"defaults",{ticks:{callback:vw}});function P3(e,t){const n=[],{bounds:s,step:r,min:a,max:l,precision:u,count:h,maxTicks:f,maxDigits:p,includeBounds:g}=e,v=r||1,x=f-1,{min:y,max:S}=t,w=!vt(a),b=!vt(l),k=!vt(h),P=(S-y)/(p+1);let M=fx((S-y)/x/v)*v,I,N,A,j;if(M<1e-14&&!w&&!b)return[{value:y},{value:S}];j=Math.ceil(S/M)-Math.floor(y/M),j>x&&(M=fx(j*M/x/v)*v),vt(u)||(I=Math.pow(10,u),M=Math.ceil(M*I)/I),s==="ticks"?(N=Math.floor(y/M)*M,A=Math.ceil(S/M)*M):(N=y,A=S),w&&b&&r&&xF((l-a)/r,M/1e3)?(j=Math.round(Math.min((l-a)/M,f)),M=(l-a)/j,N=a,A=l):k?(N=w?a:N,A=b?l:A,j=h-1,M=(A-N)/j):(j=(A-N)/M,ja(j,Math.round(j),M/1e3)?j=Math.round(j):j=Math.ceil(j));const V=Math.max(px(M),px(N));I=Math.pow(10,vt(u)?V:u),N=Math.round(N*I)/I,A=Math.round(A*I)/I;let G=0;for(w&&(g&&N!==a?(n.push({value:a}),N<a&&G++,ja(Math.round((N+G*M)*I)/I,a,yw(a,P,e))&&G++):N<a&&G++);G<j;++G){const U=Math.round((N+G*M)*I)/I;if(b&&U>l)break;n.push({value:U})}return b&&g&&A!==l?n.length&&ja(n[n.length-1].value,l,yw(l,P,e))?n[n.length-1].value=l:n.push({value:l}):(!b||A===l)&&n.push({value:A}),n}function yw(e,t,{horizontal:n,minRotation:i}){const s=Nn(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/r,a)}class yh extends gr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return vt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=u=>s=n?s:u,l=u=>r=i?r:u;if(t){const u=Xn(s),h=Xn(r);u<0&&h<0?l(0):u>0&&h>0&&a(0)}if(s===r){let u=r===0?1:Math.abs(r*.05);l(r+u),t||a(s-u)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=P3(s,r);return t.bounds==="ticks"&&mE(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Zl(t,this.chart.options.locale,this.options.ticks.format)}}class _m extends yh{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Xt(t)?t:0,this.max=Xt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Nn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Z(_m,"id","linear"),Z(_m,"defaults",{ticks:{callback:Jh.formatters.numeric}});const Pl=e=>Math.floor(Ji(e)),Rs=(e,t)=>Math.pow(10,Pl(e)+t);function xw(e){return e/Math.pow(10,Pl(e))===1}function ww(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function T3(e,t){const n=t-e;let i=Pl(n);for(;ww(e,t,i)>10;)i++;for(;ww(e,t,i)<10;)i--;return Math.min(i,Pl(e))}function M3(e,{min:t,max:n}){t=Je(e.min,t);const i=[],s=Pl(t);let r=T3(t,n),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),u=s>r?Math.pow(10,s):0,h=Math.round((t-u)*a)/a,f=Math.floor((t-u)/l/10)*l*10;let p=Math.floor((h-f)/Math.pow(10,r)),g=Je(e.min,Math.round((u+f+p*Math.pow(10,r))*a)/a);for(;g<n;)i.push({value:g,major:xw(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(r++,p=2,a=r>=0?1:a),g=Math.round((u+f+p*Math.pow(10,r))*a)/a;const v=Je(e.max,g);return i.push({value:v,major:xw(v),significand:p}),i}class vm extends gr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=yh.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Xt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Xt(t)?Math.max(0,t):null,this.max=Xt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xt(this._userMin)&&(this.min=t===Rs(this.min,0)?Rs(this.min,-1):Rs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=t?i:l,a=l=>s=n?s:l;i===s&&(i<=0?(r(1),a(10)):(r(Rs(i,-1)),a(Rs(s,1)))),i<=0&&r(Rs(s,-1)),s<=0&&a(Rs(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=M3(n,this);return t.bounds==="ticks"&&mE(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Zl(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ji(t),this._valueRange=Ji(this.max)-Ji(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ji(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Z(vm,"id","logarithmic"),Z(vm,"defaults",{ticks:{callback:Jh.formatters.logarithmic,major:{enabled:!0}}});function ym(e){const t=e.ticks;if(t.display&&e.display){const n=Ie(t.backdropPadding);return lt(t.font&&t.font.size,Ut.font.size)+n.height}return 0}function I3(e,t,n){return n=Vt(n)?n:[n],{w:FF(e,t.string,n),h:n.length*t.lineHeight}}function bw(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function L3(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?Wt/r:0;for(let u=0;u<r;u++){const h=a.setContext(e.getPointLabelContext(u));s[u]=h.padding;const f=e.getPointPosition(u,e.drawingArea+s[u],l),p=ce(h.font),g=I3(e.ctx,p,e._pointLabels[u]);i[u]=g;const v=en(e.getIndexAngle(u)+l),x=Math.round(u_(v)),y=bw(x,f.x,g.w,0,180),S=bw(x,f.y,g.h,90,270);N3(n,t,v,y,S)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=R3(e,i,s)}function N3(e,t,n,i,s){const r=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,u=0;i.start<t.l?(l=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+l)),s.start<t.t?(u=(t.t-s.start)/a,e.t=Math.min(e.t,t.t-u)):s.end>t.b&&(u=(s.end-t.b)/a,e.b=Math.max(e.b,t.b+u))}function O3(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:a,size:l}=n,u=e.getPointPosition(t,i+s+a,r),h=Math.round(u_(en(u.angle+ee))),f=z3(u.y,l.h,h),p=D3(h),g=F3(u.x,l.w,p);return{visible:!0,x:u.x,y:f,textAlign:p,left:g,top:f,right:g+l.w,bottom:f+l.h}}function A3(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(yi({x:n,y:i},t)||yi({x:n,y:r},t)||yi({x:s,y:i},t)||yi({x:s,y:r},t))}function R3(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:a,display:l}=r.pointLabels,u={extra:ym(r)/2,additionalAngle:a?Wt/s:0};let h;for(let f=0;f<s;f++){u.padding=n[f],u.size=t[f];const p=O3(e,f,u);i.push(p),l==="auto"&&(p.visible=A3(p,h),p.visible&&(h=p))}return i}function D3(e){return e===0||e===180?"center":e<180?"left":"right"}function F3(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function z3(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function B3(e,t,n){const{left:i,top:s,right:r,bottom:a}=n,{backdropColor:l}=t;if(!vt(l)){const u=er(t.borderRadius),h=Ie(t.backdropPadding);e.fillStyle=l;const f=i-h.left,p=s-h.top,g=r-i+h.width,v=a-s+h.height;Object.values(u).some(x=>x!==0)?(e.beginPath(),kl(e,{x:f,y:p,w:g,h:v,radius:u}),e.fill()):e.fillRect(f,p,g,v)}}function j3(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const a=i.setContext(e.getPointLabelContext(s));B3(n,a,r);const l=ce(a.font),{x:u,y:h,textAlign:f}=r;dr(n,e._pointLabels[s],u,h+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function rP(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,jt);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=e.getPointPosition(a,t),s.lineTo(r.x,r.y)}}function W3(e,t,n,i,s){const r=e.ctx,a=t.circular,{color:l,lineWidth:u}=t;!a&&!i||!l||!u||n<0||(r.save(),r.strokeStyle=l,r.lineWidth=u,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),rP(e,n,a,i),r.closePath(),r.stroke(),r.restore())}function H3(e,t,n){return Es(e,{label:n,index:t,type:"pointLabel"})}class Ca extends yh{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ie(ym(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Xt(t)&&!isNaN(t)?t:0,this.max=Xt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ym(this.options))}generateTickLabels(t){yh.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Nt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?L3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=jt/(this._pointLabels.length||1),i=this.options.startAngle||0;return en(t*n+Nn(i))}getDistanceFromCenterForValue(t){if(vt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(vt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return H3(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-ee+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),rP(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,a=this._pointLabels.length;let l,u,h;if(n.pointLabels.display&&j3(this,a),s.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),v=s.setContext(g),x=r.setContext(g);W3(this,v,u,a,x)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const f=i.setContext(this.getPointLabelContext(l)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),h=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const h=i.setContext(this.getContext(u)),f=ce(h.font);if(r=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){t.font=f.string,a=t.measureText(l.label).width,t.fillStyle=h.backdropColor;const p=Ie(h.backdropPadding);t.fillRect(-a/2-p.left,-r-f.size/2-p.top,a+p.width,f.size+p.height)}dr(t,l.label,0,-r,f,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),t.restore()}drawTitle(){}}Z(Ca,"id","radialLinear"),Z(Ca,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Jh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Z(Ca,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Z(Ca,"descriptors",{angleLines:{_fallback:"grid"}});const sd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ve=Object.keys(sd);function Sw(e,t){return e-t}function Cw(e,t){if(vt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),Xt(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(bo(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function kw(e,t,n,i){const s=Ve.length;for(let r=Ve.indexOf(e);r<s-1;++r){const a=sd[Ve[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(l*a.size))<=i)return Ve[r]}return Ve[s-1]}function V3(e,t,n,i,s){for(let r=Ve.length-1;r>=Ve.indexOf(n);r--){const a=Ve[r];if(sd[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return Ve[n?Ve.indexOf(n):0]}function U3(e){for(let t=Ve.indexOf(e)+1,n=Ve.length;t<n;++t)if(sd[Ve[t]].common)return Ve[t]}function Ew(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=h_(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function $3(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),a=t[t.length-1].value;let l,u;for(l=r;l<=a;l=+s.add(l,1,i))u=n[l],u>=0&&(t[u].major=!0);return t}function Pw(e,t,n){const i=[],s={},r=t.length;let a,l;for(a=0;a<r;++a)l=t[a],s[l]=a,i.push({value:l,major:!1});return r===0||!n?i:$3(e,i,s,n)}class Tl extends gr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new Jz._date(t.adapters.date);s.init(n),Ba(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Cw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!l&&!isNaN(h.max)&&(r=Math.max(r,h.max))}(!a||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=Xt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Xt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,l=CF(s,r,a);return this._unit=n.unit||(i.autoSkip?kw(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):V3(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:U3(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),Pw(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=me(n,0,a),i=me(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||kw(r.minUnit,n,i,this._getLabelCapacity(n)),l=lt(s.ticks.stepSize,1),u=a==="week"?r.isoWeekday:!1,h=bo(u)||u===!0,f={};let p=n,g,v;if(h&&(p=+t.startOf(p,"isoWeek",u)),p=+t.startOf(p,h?"day":a),t.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(g=p,v=0;g<i;g=+t.add(g,l,a),v++)Ew(f,g,x);return(g===i||s.bounds==="ticks"||v===1)&&Ew(f,g,x),Object.keys(f).sort(Sw).map(y=>+y)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return Nt(a,[t,n,i],this);const l=r.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&l[u],p=h&&l[h],g=i[n],v=h&&p&&g&&g.major;return this._adapter.format(t,s||(v?p:f))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Nn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*r+l*a,h:i*a+l*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Pw(this,[t],this._majorUnit),s),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Cw(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return vE(t.sort(Sw))}}Z(Tl,"id","time"),Z(Tl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kc(e,t,n){let i=0,s=e.length-1,r,a,l,u;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=vi(e,"pos",t)),{pos:r,time:l}=e[i],{pos:a,time:u}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=vi(e,"time",t)),{time:r,pos:l}=e[i],{time:a,pos:u}=e[s]);const h=a-r;return h?l+(u-l)*(t-r)/h:l}class xm extends Tl{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Kc(n,this.min),this._tableRange=Kc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let a,l,u,h,f;for(a=0,l=t.length;a<l;++a)h=t[a],h>=n&&h<=i&&s.push(h);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)f=s[a+1],u=s[a-1],h=s[a],Math.round((f+u)/2)!==h&&r.push({time:h,pos:a/(l-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Kc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Kc(this._table,i*this._tableRange+this._minPos,!0)}}Z(xm,"id","timeseries"),Z(xm,"defaults",Tl.defaults);var Z3=Object.freeze({__proto__:null,CategoryScale:gm,LinearScale:_m,LogarithmicScale:vm,RadialLinearScale:Ca,TimeScale:Tl,TimeSeriesScale:xm});const G3=[Xz,Tj,S3,Z3];di.register(...G3);const Ao=O.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ao.displayName="Card";const K3=O.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",e),...t}));K3.displayName="CardHeader";const Y3=O.forwardRef(({className:e,...t},n)=>E.jsx("h3",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Y3.displayName="CardTitle";const q3=O.forwardRef(({className:e,...t},n)=>E.jsx("p",{ref:n,className:Xe("text-sm text-muted-foreground",e),...t}));q3.displayName="CardDescription";const Ro=O.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:Xe("p-6 pt-0",e),...t}));Ro.displayName="CardContent";const Q3=O.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",e),...t}));Q3.displayName="CardFooter";function Yc({type:e,value:t,historicalData:n,isDarkMode:i}){const s=O.useRef(null),r=O.useRef(null),{label:a,icon:l,color:u,iconColor:h,unit:f}=M2[e],p=I2(e,t);return O.useEffect(()=>{if(s.current){const g=s.current.getContext("2d");g&&(r.current&&r.current.destroy(),r.current=new di(g,{type:"line",data:{labels:Array(10).fill(""),datasets:[{data:n,borderColor:u,backgroundColor:T2(u,.1),fill:!0,tension:.4,borderWidth:2,pointRadius:0,pointHitRadius:5,pointHoverRadius:3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{x:{display:!1},y:{display:!1}},animation:{duration:1e3}}}))}return()=>{r.current&&r.current.destroy()}},[n,u]),O.useEffect(()=>{r.current&&(r.current.options.plugins.tooltip.backgroundColor=i?"#374151":"#ffffff",r.current.options.plugins.tooltip.titleColor=i?"#ffffff":"#1e293b",r.current.options.plugins.tooltip.bodyColor=i?"#d1d5db":"#475569",r.current.update())},[i]),E.jsx(Ao,{className:"transition-all duration-300 hover:shadow-md overflow-hidden",children:E.jsxs(Ro,{className:"p-0",children:[E.jsxs("div",{className:"px-4 pt-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:`material-icons ${h} mr-2`,children:l}),E.jsx("h3",{className:"text-sm font-semibold",children:a})]}),E.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",children:f})]}),E.jsxs("div",{className:"mt-3",children:[E.jsxs("div",{className:"flex items-baseline",children:[E.jsx("span",{className:"text-3xl font-bold",children:t.toFixed(1)}),E.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-1",children:f==="°C"?"degrees":f==="ppm"?"ppm":"percent"})]}),E.jsxs("div",{className:"flex items-center mt-1",children:[E.jsx("span",{className:`material-icons text-xs mr-1 ${p.color}`,children:p.icon}),E.jsx("span",{className:`text-xs ${p.color}`,children:p.text})]})]})]}),E.jsx("div",{className:"px-2 pt-3 pb-2 h-[60px]",children:E.jsx("canvas",{ref:s,height:"60"})})]})})}function X3({location:e,onToggleTheme:t,isDarkMode:n}){const[i,s]=xC();return E.jsxs("aside",{className:"hidden md:flex md:w-64 flex-col fixed h-full bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 transition-all duration-300 shadow-sm z-10",children:[E.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("span",{className:"material-icons text-primary-600 dark:text-primary-400",children:"eco"}),E.jsx("h1",{className:"text-xl font-semibold text-primary-700 dark:text-primary-300",children:"AgriTrack"})]}),E.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Smart Farming Dashboard"})]}),E.jsxs("nav",{className:"flex-1 overflow-y-auto p-4",children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("h2",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Monitoring"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>{r.preventDefault(),s("/")},className:`flex items-center px-3 py-2 text-sm rounded-lg ${i==="/"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"dashboard"}),"Dashboard"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>{r.preventDefault(),s("/map")},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${i==="/map"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"location_on"}),"Farm Map"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>{r.preventDefault(),s("/analytics")},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${i==="/analytics"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"analytics"}),"Analytics"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>{r.preventDefault(),s("/devices")},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${i==="/devices"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"settings_input_component"}),"Devices"]})})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("h2",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Controls"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>{r.preventDefault(),s("/irrigation")},className:`flex items-center px-3 py-2 text-sm rounded-lg ${i==="/irrigation"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"water_drop"}),"Irrigation"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>{r.preventDefault(),s("/schedule")},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${i==="/schedule"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"schedule"}),"Scheduling"]})})]})]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"System"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>{r.preventDefault(),s("/settings")},className:`flex items-center px-3 py-2 text-sm rounded-lg ${i==="/settings"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"settings"}),"Settings"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:r=>r.preventDefault(),className:"flex items-center px-3 py-2 text-sm rounded-lg text-slate-700 dark:text-slate-300 font-medium mt-1 hover:bg-slate-100 dark:hover:bg-slate-700/50",children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"help_outline"}),"Help"]})})]})]})]}),E.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"material-icons text-slate-400 mr-2 text-xs",children:"location_on"}),E.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:[e.latitude.toFixed(2),", ",e.longitude.toFixed(2)]})]}),E.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:E.jsx("span",{className:"material-icons text-sm",children:n?"light_mode":"dark_mode"})})]})})]})}function J3({isOpen:e,onClose:t,location:n,onToggleTheme:i,isDarkMode:s}){const[r,a]=xC(),l=O.useRef(null);return O.useEffect(()=>{function u(h){l.current&&!l.current.contains(h.target)&&e&&t()}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[e,t]),E.jsx("div",{className:`fixed inset-0 bg-slate-800 bg-opacity-50 z-20 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,children:E.jsxs("div",{ref:l,className:`w-64 h-full bg-white dark:bg-slate-800 shadow-lg transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,children:[E.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("span",{className:"material-icons text-primary-600 dark:text-primary-400",children:"eco"}),E.jsx("h1",{className:"text-xl font-semibold text-primary-700 dark:text-primary-300",children:"AgriTrack"})]}),E.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Smart Farming Dashboard"})]}),E.jsxs("nav",{className:"flex-1 overflow-y-auto p-4",children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("h2",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Monitoring"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),a("/"),t()},className:`flex items-center px-3 py-2 text-sm rounded-lg ${r==="/"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"dashboard"}),"Dashboard"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),a("/map"),t()},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${r==="/map"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"location_on"}),"Farm Map"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),a("/analytics"),t()},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${r==="/analytics"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"analytics"}),"Analytics"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),a("/devices"),t()},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${r==="/devices"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"settings_input_component"}),"Devices"]})})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("h2",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Controls"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),a("/irrigation"),t()},className:`flex items-center px-3 py-2 text-sm rounded-lg ${r==="/irrigation"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"water_drop"}),"Irrigation"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),a("/schedule"),t()},className:`flex items-center px-3 py-2 text-sm rounded-lg mt-1 ${r==="/schedule"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"schedule"}),"Scheduling"]})})]})]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"System"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),a("/settings"),t()},className:`flex items-center px-3 py-2 text-sm rounded-lg ${r==="/settings"?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"settings"}),"Settings"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",onClick:u=>{u.preventDefault(),t()},className:"flex items-center px-3 py-2 text-sm rounded-lg text-slate-700 dark:text-slate-300 font-medium mt-1 hover:bg-slate-100 dark:hover:bg-slate-700/50",children:[E.jsx("span",{className:"material-icons text-sm mr-3",children:"help_outline"}),"Help"]})})]})]})]}),E.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"material-icons text-slate-400 mr-2 text-xs",children:"location_on"}),E.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:[n.latitude.toFixed(2),", ",n.longitude.toFixed(2)]})]}),E.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:E.jsx("span",{className:"material-icons text-sm",children:s?"light_mode":"dark_mode"})})]})})]})})}function tW({onOpenSidebar:e,onToggleTheme:t,isDarkMode:n}){return E.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 z-10",children:E.jsxs("div",{className:"flex items-center justify-between p-4",children:[E.jsx("button",{onClick:e,className:"text-slate-500 dark:text-slate-400",children:E.jsx("span",{className:"material-icons",children:"menu"})}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("span",{className:"material-icons text-primary-600 dark:text-primary-400",children:"eco"}),E.jsx("h1",{className:"text-lg font-semibold text-primary-700 dark:text-primary-300",children:"AgriTrack"})]}),E.jsx("button",{onClick:t,className:"text-slate-400 dark:text-slate-300",children:E.jsx("span",{className:"material-icons",children:n?"light_mode":"dark_mode"})})]})})}function eW({rainStatus:e}){return E.jsx(Ao,{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:E.jsx(Ro,{className:"p-4",children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Weather Condition"}),E.jsxs("div",{className:"flex items-center mt-2",children:[E.jsx("span",{id:"rain-indicator",className:`material-icons text-3xl ${e?"text-blue-500":"text-yellow-500"}`,children:e?"water_drop":"wb_sunny"}),E.jsxs("div",{className:"ml-3",children:[E.jsx("p",{className:"text-lg font-semibold dark:text-white",children:e?"Rainy":"Clear"}),E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e?"Rain detected by sensors":"No rain detected"})]})]})]}),e&&E.jsx("div",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded-full text-xs font-medium",children:"Rain Detected"})]})})})}const nW="modulepreload",iW=function(e){return"/"+e},Tw={},sW=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=iW(u),u in Tw)return;Tw[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":nW,h||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})};function rW({latitude:e,longitude:t}){const n=O.useRef(null),i=O.useRef(null),s=O.useRef(null),[r,a]=O.useState(!1);return O.useEffect(()=>(n.current&&!i.current&&sW(()=>Promise.resolve().then(()=>y5),void 0).then(l=>{setTimeout(()=>{try{if(!n.current)return;i.current=l.map(n.current,{zoomControl:!1,attributionControl:!1,dragging:!1,scrollWheelZoom:!1,touchZoom:!1,doubleClickZoom:!1,boxZoom:!1,keyboard:!1}).setView([e||0,t||0],13),l.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{maxZoom:19,subdomains:"abcd"}).addTo(i.current);const u=l.divIcon({className:"farm-marker",html:'<span class="material-icons text-primary-600 bg-white rounded-full p-1 shadow-sm" style="font-size: 20px;">agriculture</span>',iconSize:[26,26],iconAnchor:[13,13]});s.current=l.marker([e||0,t||0],{icon:u}).addTo(i.current),l.circle([e||0,t||0],{color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.1,radius:200}).addTo(i.current),a(!0)}catch(u){console.error("Error initializing map:",u)}},200)}),i.current&&s.current&&(s.current.setLatLng([e,t]),i.current.setView([e,t],13)),()=>{i.current&&(i.current.remove(),i.current=null,s.current=null,a(!1))}),[e,t]),E.jsx(Ao,{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:E.jsxs(Ro,{className:"p-4",children:[E.jsx("h2",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-3",children:"Farm Location"}),E.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-700",style:{zIndex:0},children:[E.jsx("div",{ref:n,className:"w-full h-full z-0",style:{zIndex:0}}),!r&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx("span",{className:"material-icons animate-spin text-primary-500",children:"sync"})})]}),E.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[E.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[E.jsxs("span",{children:["Lat: ",E.jsx("span",{className:"font-medium",children:e.toFixed(4)})]}),E.jsx("span",{className:"mx-2",children:"|"}),E.jsxs("span",{children:["Long: ",E.jsx("span",{className:"font-medium",children:t.toFixed(4)})]})]}),E.jsxs(YL,{href:"/map",className:"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium flex items-center",children:[E.jsx("span",{className:"material-icons text-sm mr-1",children:"location_on"}),"View Map"]})]})]})})}function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Mw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oP(...e){return t=>{let n=!1;const i=e.map(s=>{const r=Mw(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():Mw(e[s],null)}}}}function bs(...e){return O.useCallback(oP(...e),e)}function S_(e,t=[]){let n=[];function i(r,a){const l=O.createContext(a),u=n.length;n=[...n,a];const h=p=>{var w;const{scope:g,children:v,...x}=p,y=((w=g==null?void 0:g[e])==null?void 0:w[u])||l,S=O.useMemo(()=>x,Object.values(x));return E.jsx(y.Provider,{value:S,children:v})};h.displayName=r+"Provider";function f(p,g){var y;const v=((y=g==null?void 0:g[e])==null?void 0:y[u])||l,x=O.useContext(v);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${r}\``)}return[h,f]}const s=()=>{const r=n.map(a=>O.createContext(a));return function(l){const u=(l==null?void 0:l[e])||r;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[i,oW(s,...t)]}function oW(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const a=i.reduce((l,{useScope:u,scopeName:h})=>{const p=u(r)[`__scope${h}`];return{...l,...p}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Ti(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function aP({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,s]=aW({defaultProp:t,onChange:n}),r=e!==void 0,a=r?e:i,l=Ti(n),u=O.useCallback(h=>{if(r){const p=typeof h=="function"?h(e):h;p!==e&&l(p)}else s(h)},[r,e,s,l]);return[a,u]}function aW({defaultProp:e,onChange:t}){const n=O.useState(e),[i]=n,s=O.useRef(i),r=Ti(t);return O.useEffect(()=>{s.current!==i&&(r(i),s.current=i)},[i,s,r]),n}function lW(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ml=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{};function cW(e){const[t,n]=O.useState(void 0);return Ml(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let a,l;if("borderBoxSize"in r){const u=r.borderBoxSize,h=Array.isArray(u)?u[0]:u;a=h.inlineSize,l=h.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var xh=O.forwardRef((e,t)=>{const{children:n,...i}=e,s=O.Children.toArray(n),r=s.find(hW);if(r){const a=r.props.children,l=s.map(u=>u===r?O.Children.count(a)>1?O.Children.only(null):O.isValidElement(a)?a.props.children:null:u);return E.jsx(wm,{...i,ref:t,children:O.isValidElement(a)?O.cloneElement(a,void 0,l):null})}return E.jsx(wm,{...i,ref:t,children:n})});xh.displayName="Slot";var wm=O.forwardRef((e,t)=>{const{children:n,...i}=e;if(O.isValidElement(n)){const s=fW(n),r=dW(i,n.props);return n.type!==O.Fragment&&(r.ref=t?oP(t,s):s),O.cloneElement(n,r)}return O.Children.count(n)>1?O.Children.only(null):null});wm.displayName="SlotClone";var uW=({children:e})=>E.jsx(E.Fragment,{children:e});function hW(e){return O.isValidElement(e)&&e.type===uW}function dW(e,t){const n={...t};for(const i in t){const s=e[i],r=t[i];/^on[A-Z]/.test(i)?s&&r?n[i]=(...l)=>{r(...l),s(...l)}:s&&(n[i]=s):i==="style"?n[i]={...s,...r}:i==="className"&&(n[i]=[s,r].filter(Boolean).join(" "))}return{...e,...n}}function fW(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yn=pW.reduce((e,t)=>{const n=O.forwardRef((i,s)=>{const{asChild:r,...a}=i,l=r?xh:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lP(e,t){e&&Fh.flushSync(()=>e.dispatchEvent(t))}var C_="Switch",[mW,k5]=S_(C_),[gW,_W]=mW(C_),cP=O.forwardRef((e,t)=>{const{__scopeSwitch:n,name:i,checked:s,defaultChecked:r,required:a,disabled:l,value:u="on",onCheckedChange:h,form:f,...p}=e,[g,v]=O.useState(null),x=bs(t,k=>v(k)),y=O.useRef(!1),S=g?f||!!g.closest("form"):!0,[w=!1,b]=aP({prop:s,defaultProp:r,onChange:h});return E.jsxs(gW,{scope:n,checked:w,disabled:l,children:[E.jsx(yn.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":dP(w),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:x,onClick:Ue(e.onClick,k=>{b(P=>!P),S&&(y.current=k.isPropagationStopped(),y.current||k.stopPropagation())})}),S&&E.jsx(vW,{control:g,bubbles:!y.current,name:i,value:u,checked:w,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});cP.displayName=C_;var uP="SwitchThumb",hP=O.forwardRef((e,t)=>{const{__scopeSwitch:n,...i}=e,s=_W(uP,n);return E.jsx(yn.span,{"data-state":dP(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})});hP.displayName=uP;var vW=e=>{const{control:t,checked:n,bubbles:i=!0,...s}=e,r=O.useRef(null),a=lW(n),l=cW(t);return O.useEffect(()=>{const u=r.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&p){const g=new Event("click",{bubbles:i});p.call(u,n),u.dispatchEvent(g)}},[a,n,i]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:r,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dP(e){return e?"checked":"unchecked"}var fP=cP,yW=hP;const pP=O.forwardRef(({className:e,...t},n)=>E.jsx(fP,{className:Xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:E.jsx(yW,{className:Xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));pP.displayName=fP.displayName;function Hf({pumpId:e,pumpName:t,pumpStatus:n=!1,onStatusChange:i}){const s=async r=>{try{await i(e,r)}catch(a){console.error("Error toggling pump:",a)}};return E.jsx(Ao,{children:E.jsx(Ro,{className:"p-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("span",{className:`material-icons ${n?"text-green-500":"text-slate-400"}`,children:"water_drop"}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium",children:t}),E.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",n?"Active":"Inactive"]})]})]}),E.jsx(pP,{checked:n,onCheckedChange:s})]})})})}function xW({alert:e}){const{bg:t,border:n,icon:i,iconColor:s,textColor:r,titleColor:a}=L2(e.type);return E.jsxs("div",{className:`flex items-start p-3 mb-2 rounded-lg border ${t} ${n}`,children:[E.jsx("span",{className:`material-icons ${s} mr-3`,children:i}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("h3",{className:`font-semibold ${a}`,children:e.title}),E.jsx("span",{className:`text-xs ${r}`,children:e.timestamp})]}),E.jsx("p",{className:`text-sm ${r} mt-1`,children:e.message})]})]})}function wW({alerts:e}){return E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Recent Alerts"}),E.jsxs("button",{className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium flex items-center",children:[E.jsx("span",{className:"material-icons text-sm mr-1",children:"notifications"}),"View All"]})]}),E.jsx(Ao,{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:E.jsx(Ro,{className:"p-4",children:e.length>0?E.jsx("div",{children:e.map(t=>E.jsx(xW,{alert:t},t.id))}):E.jsxs("div",{className:"text-center p-6 text-slate-500 dark:text-slate-400",children:[E.jsx("span",{className:"material-icons text-slate-300 dark:text-slate-600 text-4xl mb-2",children:"notifications_off"}),E.jsx("p",{children:"No alerts at this time"})]})})})]})}function bW(){const[e,t]=O.useState(!1),{data:n,isConnected:i,isLoading:s,lastUpdated:r,historicalData:a,alerts:l,updatePumpStatus:u,isDarkMode:h,toggleTheme:f}=F2(),{sensors:p,location:g}=n;return E.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-white transition-colors duration-300",children:[E.jsx(X3,{location:g,onToggleTheme:f,isDarkMode:h}),E.jsx(tW,{onOpenSidebar:()=>t(!0),onToggleTheme:f,isDarkMode:h}),E.jsx(J3,{isOpen:e,onClose:()=>t(!1),location:g,onToggleTheme:f,isDarkMode:h}),E.jsxs("main",{className:"flex-1 overflow-y-auto pt-16 md:pt-0 md:pl-64",children:[E.jsx("div",{className:"px-4 md:px-6 pt-4 md:pt-6 mb-6",children:E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Farm Dashboard"}),E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]}),E.jsxs("div",{className:"mt-4 md:mt-0 flex items-center",children:[E.jsxs("div",{className:"flex items-center mr-4",children:[E.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${i?"bg-green-500":s?"bg-yellow-500":"bg-red-500"}`}),E.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:i?"Connected":s?"Connecting":"Disconnected"})]}),E.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-md text-sm font-medium hover:bg-primary-100 dark:hover:bg-primary-900/50",children:[E.jsx("span",{className:"material-icons text-sm mr-1",children:"refresh"}),"Refresh"]})]})]})}),E.jsxs("div",{className:"px-4 md:px-6 pb-8",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[E.jsx(eW,{rainStatus:p.rain}),E.jsx("div",{className:"md:col-span-2",children:E.jsx(rW,{latitude:g.latitude,longitude:g.longitude})})]}),E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Sensor Readings"}),E.jsxs("button",{className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium flex items-center",children:[E.jsx("span",{className:"material-icons text-sm mr-1",children:"history"}),"View History"]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[E.jsx(Yc,{type:"temperature",value:p.temperature,historicalData:a.temperature,isDarkMode:h}),E.jsx(Yc,{type:"humidity",value:p.humidity,historicalData:a.humidity,isDarkMode:h}),E.jsx(Yc,{type:"soilMoisture",value:p.soilMoisture,historicalData:a.soilMoisture,isDarkMode:h}),E.jsx(Yc,{type:"airQuality",value:p.airQuality,historicalData:a.airQuality,isDarkMode:h})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Irrigation Control"}),E.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-full text-xs font-medium",children:"Auto Mode: Off"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(Hf,{pumpId:"pump1",pumpName:"Main Water Pump",pumpStatus:p.pump1,onStatusChange:u}),E.jsx(Hf,{pumpId:"pump2",pumpName:"Secondary Water Pump",pumpStatus:p.pump2,onStatusChange:u}),E.jsx(Hf,{pumpId:"pump3",pumpName:"Backup Water Pump",pumpStatus:p.pump3,onStatusChange:u})]})]}),E.jsx(wW,{alerts:l})]})]})]})}const SW=1,CW=1e6;let Vf=0;function kW(){return Vf=(Vf+1)%Number.MAX_SAFE_INTEGER,Vf.toString()}const Uf=new Map,Iw=e=>{if(Uf.has(e))return;const t=setTimeout(()=>{Uf.delete(e),Ua({type:"REMOVE_TOAST",toastId:e})},CW);Uf.set(e,t)},EW=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,SW)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Iw(n):e.toasts.forEach(i=>{Iw(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},wu=[];let bu={toasts:[]};function Ua(e){bu=EW(bu,e),wu.forEach(t=>{t(bu)})}function PW({...e}){const t=kW(),n=s=>Ua({type:"UPDATE_TOAST",toast:{...s,id:t}}),i=()=>Ua({type:"DISMISS_TOAST",toastId:t});return Ua({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||i()}}}),{id:t,dismiss:i,update:n}}function TW(){const[e,t]=O.useState(bu);return O.useEffect(()=>(wu.push(t),()=>{const n=wu.indexOf(t);n>-1&&wu.splice(n,1)}),[e]),{...e,toast:PW,dismiss:n=>Ua({type:"DISMISS_TOAST",toastId:n})}}function MW(e){const t=e+"CollectionProvider",[n,i]=S_(t),[s,r]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:y}=v,S=Bi.useRef(null),w=Bi.useRef(new Map).current;return E.jsx(s,{scope:x,itemMap:w,collectionRef:S,children:y})};a.displayName=t;const l=e+"CollectionSlot",u=Bi.forwardRef((v,x)=>{const{scope:y,children:S}=v,w=r(l,y),b=bs(x,w.collectionRef);return E.jsx(xh,{ref:b,children:S})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=Bi.forwardRef((v,x)=>{const{scope:y,children:S,...w}=v,b=Bi.useRef(null),k=bs(x,b),P=r(h,y);return Bi.useEffect(()=>(P.itemMap.set(b,{ref:b,...w}),()=>void P.itemMap.delete(b))),E.jsx(xh,{[f]:"",ref:k,children:S})});p.displayName=h;function g(v){const x=r(e+"CollectionConsumer",v);return Bi.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const w=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((P,M)=>w.indexOf(P.ref.current)-w.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,i]}function IW(e,t=globalThis==null?void 0:globalThis.document){const n=Ti(e);O.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var LW="DismissableLayer",bm="dismissableLayer.update",NW="dismissableLayer.pointerDownOutside",OW="dismissableLayer.focusOutside",Lw,mP=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gP=O.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,onDismiss:l,...u}=e,h=O.useContext(mP),[f,p]=O.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=O.useState({}),x=bs(t,N=>p(N)),y=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(S),b=f?y.indexOf(f):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,P=b>=w,M=RW(N=>{const A=N.target,j=[...h.branches].some(V=>V.contains(A));!P||j||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},g),I=DW(N=>{const A=N.target;[...h.branches].some(V=>V.contains(A))||(r==null||r(N),a==null||a(N),N.defaultPrevented||l==null||l())},g);return IW(N=>{b===h.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},g),O.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Lw=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Nw(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Lw)}},[f,g,n,h]),O.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Nw())},[f,h]),O.useEffect(()=>{const N=()=>v({});return document.addEventListener(bm,N),()=>document.removeEventListener(bm,N)},[]),E.jsx(yn.div,{...u,ref:x,style:{pointerEvents:k?P?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,M.onPointerDownCapture)})});gP.displayName=LW;var AW="DismissableLayerBranch",_P=O.forwardRef((e,t)=>{const n=O.useContext(mP),i=O.useRef(null),s=bs(t,i);return O.useEffect(()=>{const r=i.current;if(r)return n.branches.add(r),()=>{n.branches.delete(r)}},[n.branches]),E.jsx(yn.div,{...e,ref:s})});_P.displayName=AW;function RW(e,t=globalThis==null?void 0:globalThis.document){const n=Ti(e),i=O.useRef(!1),s=O.useRef(()=>{});return O.useEffect(()=>{const r=l=>{if(l.target&&!i.current){let u=function(){vP(NW,n,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function DW(e,t=globalThis==null?void 0:globalThis.document){const n=Ti(e),i=O.useRef(!1);return O.useEffect(()=>{const s=r=>{r.target&&!i.current&&vP(OW,n,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Nw(){const e=new CustomEvent(bm);document.dispatchEvent(e)}function vP(e,t,n,{discrete:i}){const s=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?lP(s,r):s.dispatchEvent(r)}var FW=gP,zW=_P,BW="Portal",yP=O.forwardRef((e,t)=>{var l;const{container:n,...i}=e,[s,r]=O.useState(!1);Ml(()=>r(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?KI.createPortal(E.jsx(yn.div,{...i,ref:t}),a):null});yP.displayName=BW;function jW(e,t){return O.useReducer((n,i)=>t[n][i]??n,e)}var xP=e=>{const{present:t,children:n}=e,i=WW(t),s=typeof n=="function"?n({present:i.isPresent}):O.Children.only(n),r=bs(i.ref,HW(s));return typeof n=="function"||i.isPresent?O.cloneElement(s,{ref:r}):null};xP.displayName="Presence";function WW(e){const[t,n]=O.useState(),i=O.useRef({}),s=O.useRef(e),r=O.useRef("none"),a=e?"mounted":"unmounted",[l,u]=jW(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const h=qc(i.current);r.current=l==="mounted"?h:"none"},[l]),Ml(()=>{const h=i.current,f=s.current;if(f!==e){const g=r.current,v=qc(h);e?u("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Ml(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,p=v=>{const y=qc(i.current).includes(v.animationName);if(v.target===t&&y&&(u("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=v=>{v.target===t&&(r.current=qc(i.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:O.useCallback(h=>{h&&(i.current=getComputedStyle(h)),n(h)},[])}}function qc(e){return(e==null?void 0:e.animationName)||"none"}function HW(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var VW="VisuallyHidden",k_=O.forwardRef((e,t)=>E.jsx(yn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));k_.displayName=VW;var E_="ToastProvider",[P_,UW,$W]=MW("Toast"),[wP,E5]=S_("Toast",[$W]),[ZW,rd]=wP(E_),bP=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:r=50,children:a}=e,[l,u]=O.useState(null),[h,f]=O.useState(0),p=O.useRef(!1),g=O.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${E_}\`. Expected non-empty \`string\`.`),E.jsx(P_.Provider,{scope:t,children:E.jsx(ZW,{scope:t,label:n,duration:i,swipeDirection:s,swipeThreshold:r,toastCount:h,viewport:l,onViewportChange:u,onToastAdd:O.useCallback(()=>f(v=>v+1),[]),onToastRemove:O.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:a})})};bP.displayName=E_;var SP="ToastViewport",GW=["F8"],Sm="toast.viewportPause",Cm="toast.viewportResume",CP=O.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=GW,label:s="Notifications ({hotkey})",...r}=e,a=rd(SP,n),l=UW(n),u=O.useRef(null),h=O.useRef(null),f=O.useRef(null),p=O.useRef(null),g=bs(t,p,a.onViewportChange),v=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;O.useEffect(()=>{const S=w=>{var k;i.length!==0&&i.every(P=>w[P]||w.code===P)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[i]),O.useEffect(()=>{const S=u.current,w=p.current;if(x&&S&&w){const b=()=>{if(!a.isClosePausedRef.current){const I=new CustomEvent(Sm);w.dispatchEvent(I),a.isClosePausedRef.current=!0}},k=()=>{if(a.isClosePausedRef.current){const I=new CustomEvent(Cm);w.dispatchEvent(I),a.isClosePausedRef.current=!1}},P=I=>{!S.contains(I.relatedTarget)&&k()},M=()=>{S.contains(document.activeElement)||k()};return S.addEventListener("focusin",b),S.addEventListener("focusout",P),S.addEventListener("pointermove",b),S.addEventListener("pointerleave",M),window.addEventListener("blur",b),window.addEventListener("focus",k),()=>{S.removeEventListener("focusin",b),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",b),S.removeEventListener("pointerleave",M),window.removeEventListener("blur",b),window.removeEventListener("focus",k)}}},[x,a.isClosePausedRef]);const y=O.useCallback(({tabbingDirection:S})=>{const b=l().map(k=>{const P=k.ref.current,M=[P,...o5(P)];return S==="forwards"?M:M.reverse()});return(S==="forwards"?b.reverse():b).flat()},[l]);return O.useEffect(()=>{const S=p.current;if(S){const w=b=>{var M,I,N;const k=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!k){const A=document.activeElement,j=b.shiftKey;if(b.target===S&&j){(M=h.current)==null||M.focus();return}const U=y({tabbingDirection:j?"backwards":"forwards"}),bt=U.findIndex(q=>q===A);$f(U.slice(bt+1))?b.preventDefault():j?(I=h.current)==null||I.focus():(N=f.current)==null||N.focus()}};return S.addEventListener("keydown",w),()=>S.removeEventListener("keydown",w)}},[l,y]),E.jsxs(zW,{ref:u,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&E.jsx(km,{ref:h,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});$f(S)}}),E.jsx(P_.Slot,{scope:n,children:E.jsx(yn.ol,{tabIndex:-1,...r,ref:g})}),x&&E.jsx(km,{ref:f,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});$f(S)}})]})});CP.displayName=SP;var kP="ToastFocusProxy",km=O.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...s}=e,r=rd(kP,n);return E.jsx(k_,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var h;const l=a.relatedTarget;!((h=r.viewport)!=null&&h.contains(l))&&i()}})});km.displayName=kP;var od="Toast",KW="toast.swipeStart",YW="toast.swipeMove",qW="toast.swipeCancel",QW="toast.swipeEnd",EP=O.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:s,onOpenChange:r,...a}=e,[l=!0,u]=aP({prop:i,defaultProp:s,onChange:r});return E.jsx(xP,{present:n||l,children:E.jsx(t5,{open:l,...a,ref:t,onClose:()=>u(!1),onPause:Ti(e.onPause),onResume:Ti(e.onResume),onSwipeStart:Ue(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});EP.displayName=od;var[XW,JW]=wP(od,{onClose(){}}),t5=O.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:s,open:r,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:v,...x}=e,y=rd(od,n),[S,w]=O.useState(null),b=bs(t,q=>w(q)),k=O.useRef(null),P=O.useRef(null),M=s||y.duration,I=O.useRef(0),N=O.useRef(M),A=O.useRef(0),{onToastAdd:j,onToastRemove:V}=y,G=Ti(()=>{var st;(S==null?void 0:S.contains(document.activeElement))&&((st=y.viewport)==null||st.focus()),a()}),U=O.useCallback(q=>{!q||q===1/0||(window.clearTimeout(A.current),I.current=new Date().getTime(),A.current=window.setTimeout(G,q))},[G]);O.useEffect(()=>{const q=y.viewport;if(q){const st=()=>{U(N.current),h==null||h()},J=()=>{const ut=new Date().getTime()-I.current;N.current=N.current-ut,window.clearTimeout(A.current),u==null||u()};return q.addEventListener(Sm,J),q.addEventListener(Cm,st),()=>{q.removeEventListener(Sm,J),q.removeEventListener(Cm,st)}}},[y.viewport,M,u,h,U]),O.useEffect(()=>{r&&!y.isClosePausedRef.current&&U(M)},[r,M,y.isClosePausedRef,U]),O.useEffect(()=>(j(),()=>V()),[j,V]);const bt=O.useMemo(()=>S?OP(S):null,[S]);return y.viewport?E.jsxs(E.Fragment,{children:[bt&&E.jsx(e5,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:bt}),E.jsx(XW,{scope:n,onClose:G,children:Fh.createPortal(E.jsx(P_.ItemSlot,{scope:n,children:E.jsx(FW,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||G(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(yn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:Ue(e.onPointerDown,q=>{q.button===0&&(k.current={x:q.clientX,y:q.clientY})}),onPointerMove:Ue(e.onPointerMove,q=>{if(!k.current)return;const st=q.clientX-k.current.x,J=q.clientY-k.current.y,ut=!!P.current,F=["left","right"].includes(y.swipeDirection),K=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,W=F?K(0,st):0,X=F?0:K(0,J),rt=q.pointerType==="touch"?10:2,Pt={x:W,y:X},dt={originalEvent:q,delta:Pt};ut?(P.current=Pt,Qc(YW,p,dt,{discrete:!1})):Ow(Pt,y.swipeDirection,rt)?(P.current=Pt,Qc(KW,f,dt,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(st)>rt||Math.abs(J)>rt)&&(k.current=null)}),onPointerUp:Ue(e.onPointerUp,q=>{const st=P.current,J=q.target;if(J.hasPointerCapture(q.pointerId)&&J.releasePointerCapture(q.pointerId),P.current=null,k.current=null,st){const ut=q.currentTarget,F={originalEvent:q,delta:st};Ow(st,y.swipeDirection,y.swipeThreshold)?Qc(QW,v,F,{discrete:!0}):Qc(qW,g,F,{discrete:!0}),ut.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),e5=e=>{const{__scopeToast:t,children:n,...i}=e,s=rd(od,t),[r,a]=O.useState(!1),[l,u]=O.useState(!1);return s5(()=>a(!0)),O.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),l?null:E.jsx(yP,{asChild:!0,children:E.jsx(k_,{...i,children:r&&E.jsxs(E.Fragment,{children:[s.label," ",n]})})})},n5="ToastTitle",PP=O.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return E.jsx(yn.div,{...i,ref:t})});PP.displayName=n5;var i5="ToastDescription",TP=O.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return E.jsx(yn.div,{...i,ref:t})});TP.displayName=i5;var MP="ToastAction",IP=O.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?E.jsx(NP,{altText:n,asChild:!0,children:E.jsx(T_,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${MP}\`. Expected non-empty \`string\`.`),null)});IP.displayName=MP;var LP="ToastClose",T_=O.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,s=JW(LP,n);return E.jsx(NP,{asChild:!0,children:E.jsx(yn.button,{type:"button",...i,ref:t,onClick:Ue(e.onClick,s.onClose)})})});T_.displayName=LP;var NP=O.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...s}=e;return E.jsx(yn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function OP(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),r5(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",r=i.dataset.radixToastAnnounceExclude==="";if(!s)if(r){const a=i.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...OP(i))}}),t}function Qc(e,t,n,{discrete:i}){const s=n.originalEvent.currentTarget,r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?lP(s,r):s.dispatchEvent(r)}var Ow=(e,t,n=0)=>{const i=Math.abs(e.x),s=Math.abs(e.y),r=i>s;return t==="left"||t==="right"?r&&i>n:!r&&s>n};function s5(e=()=>{}){const t=Ti(e);Ml(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function r5(e){return e.nodeType===e.ELEMENT_NODE}function o5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $f(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var a5=bP,AP=CP,RP=EP,DP=PP,FP=TP,zP=IP,BP=T_;const Aw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rw=iE,l5=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return Rw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:r}=t,a=Object.keys(s).map(h=>{const f=n==null?void 0:n[h],p=r==null?void 0:r[h];if(f===null)return null;const g=Aw(f)||Aw(p);return s[h][g]}),l=n&&Object.entries(n).reduce((h,f)=>{let[p,g]=f;return g===void 0||(h[p]=g),h},{}),u=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(x=>{let[y,S]=x;return Array.isArray(S)?S.includes({...r,...l}[y]):{...r,...l}[y]===S})?[...h,p,g]:h},[]);return Rw(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jP=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...l},u)=>O.createElement("svg",{ref:u,...u5,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:jP("lucide",s),...l},[...a.map(([h,f])=>O.createElement(h,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=(e,t)=>{const n=O.forwardRef(({className:i,...s},r)=>O.createElement(h5,{ref:r,iconNode:t,className:jP(`lucide-${c5(e)}`,i),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=d5("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p5=a5,WP=O.forwardRef(({className:e,...t},n)=>E.jsx(AP,{ref:n,className:Xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WP.displayName=AP.displayName;const m5=l5("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HP=O.forwardRef(({className:e,variant:t,...n},i)=>E.jsx(RP,{ref:i,className:Xe(m5({variant:t}),e),...n}));HP.displayName=RP.displayName;const g5=O.forwardRef(({className:e,...t},n)=>E.jsx(zP,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));g5.displayName=zP.displayName;const VP=O.forwardRef(({className:e,...t},n)=>E.jsx(BP,{ref:n,className:Xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:E.jsx(f5,{className:"h-4 w-4"})}));VP.displayName=BP.displayName;const UP=O.forwardRef(({className:e,...t},n)=>E.jsx(DP,{ref:n,className:Xe("text-sm font-semibold",e),...t}));UP.displayName=DP.displayName;const $P=O.forwardRef(({className:e,...t},n)=>E.jsx(FP,{ref:n,className:Xe("text-sm opacity-90",e),...t}));$P.displayName=FP.displayName;function _5(){const{toasts:e}=TW();return E.jsxs(p5,{children:[e.map(function({id:t,title:n,description:i,action:s,...r}){return E.jsxs(HP,{...r,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(UP,{children:n}),i&&E.jsx($P,{children:i})]}),s,E.jsx(VP,{})]},t)}),E.jsx(WP,{})]})}function v5(){return E.jsx(yL,{client:j2,children:E.jsxs(D2,{children:[E.jsx(bC,{children:E.jsx(qL,{children:E.jsx(KL,{path:"/",component:bW})})}),E.jsx(_5,{})]})})}var Em={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(w1,function(n){var i="1.9.4";function s(o){var c,d,m,_;for(d=1,m=arguments.length;d<m;d++){_=arguments[d];for(c in _)o[c]=_[c]}return o}var r=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function a(o,c){var d=Array.prototype.slice;if(o.bind)return o.bind.apply(o,d.call(arguments,1));var m=d.call(arguments,2);return function(){return o.apply(c,m.length?m.concat(d.call(arguments)):arguments)}}var l=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function h(o,c,d){var m,_,C,T;return T=function(){m=!1,_&&(C.apply(d,_),_=!1)},C=function(){m?_=arguments:(o.apply(d,arguments),setTimeout(T,c),m=!0)},C}function f(o,c,d){var m=c[1],_=c[0],C=m-_;return o===m&&d?o:((o-_)%C+C)%C+_}function p(){return!1}function g(o,c){if(c===!1)return o;var d=Math.pow(10,c===void 0?6:c);return Math.round(o*d)/d}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function x(o){return v(o).split(/\s+/)}function y(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?r(o.options):{});for(var d in c)o.options[d]=c[d];return o.options}function S(o,c,d){var m=[];for(var _ in o)m.push(encodeURIComponent(d?_.toUpperCase():_)+"="+encodeURIComponent(o[_]));return(!c||c.indexOf("?")===-1?"?":"&")+m.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function b(o,c){return o.replace(w,function(d,m){var _=c[m];if(_===void 0)throw new Error("No value provided for variable "+d);return typeof _=="function"&&(_=_(c)),_})}var k=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function P(o,c){for(var d=0;d<o.length;d++)if(o[d]===c)return d;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var N=0;function A(o){var c=+new Date,d=Math.max(0,16-(c-N));return N=c+d,window.setTimeout(o,d)}var j=window.requestAnimationFrame||I("RequestAnimationFrame")||A,V=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function G(o,c,d){if(d&&j===A)o.call(c);else return j.call(window,a(o,c))}function U(o){o&&V.call(window,o)}var bt={__proto__:null,extend:s,create:r,bind:a,get lastId(){return l},stamp:u,throttle:h,wrapNum:f,falseFn:p,formatNum:g,trim:v,splitWords:x,setOptions:y,getParamString:S,template:b,isArray:k,indexOf:P,emptyImageUrl:M,requestFn:j,cancelFn:V,requestAnimFrame:G,cancelAnimFrame:U};function q(){}q.extend=function(o){var c=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=c.__super__=this.prototype,m=r(d);m.constructor=c,c.prototype=m;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(c[_]=this[_]);return o.statics&&s(c,o.statics),o.includes&&(st(o.includes),s.apply(null,[m].concat(o.includes))),s(m,o),delete m.statics,delete m.includes,m.options&&(m.options=d.options?r(d.options):{},s(m.options,o.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,T=m._initHooks.length;C<T;C++)m._initHooks[C].call(this)}},c},q.include=function(o){var c=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},q.mergeOptions=function(o){return s(this.prototype.options,o),this},q.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),d=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function st(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=k(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(o,c,d){if(typeof o=="object")for(var m in o)this._on(m,o[m],c);else{o=x(o);for(var _=0,C=o.length;_<C;_++)this._on(o[_],c,d)}return this},off:function(o,c,d){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var m in o)this._off(m,o[m],c);else{o=x(o);for(var _=arguments.length===1,C=0,T=o.length;C<T;C++)_?this._off(o[C]):this._off(o[C],c,d)}return this},_on:function(o,c,d,m){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,d)===!1){d===this&&(d=void 0);var _={fn:c,ctx:d};m&&(_.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(_)}},_off:function(o,c,d){var m,_,C;if(this._events&&(m=this._events[o],!!m)){if(arguments.length===1){if(this._firingCount)for(_=0,C=m.length;_<C;_++)m[_].fn=p;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var T=this._listens(o,c,d);if(T!==!1){var R=m[T];this._firingCount&&(R.fn=p,this._events[o]=m=m.slice()),m.splice(T,1)}}},fire:function(o,c,d){if(!this.listens(o,d))return this;var m=s({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var _=this._events[o];if(_){this._firingCount=this._firingCount+1||1;for(var C=0,T=_.length;C<T;C++){var R=_[C],D=R.fn;R.once&&this.off(o,D,R.ctx),D.call(R.ctx||this,m)}this._firingCount--}}return d&&this._propagateEvent(m),this},listens:function(o,c,d,m){typeof o!="string"&&console.warn('"string" type argument expected');var _=c;typeof c!="function"&&(m=!!c,_=void 0,d=void 0);var C=this._events&&this._events[o];if(C&&C.length&&this._listens(o,_,d)!==!1)return!0;if(m){for(var T in this._eventParents)if(this._eventParents[T].listens(o,c,d,m))return!0}return!1},_listens:function(o,c,d){if(!this._events)return!1;var m=this._events[o]||[];if(!c)return!!m.length;d===this&&(d=void 0);for(var _=0,C=m.length;_<C;_++)if(m[_].fn===c&&m[_].ctx===d)return _;return!1},once:function(o,c,d){if(typeof o=="object")for(var m in o)this._on(m,o[m],c,!0);else{o=x(o);for(var _=0,C=o.length;_<C;_++)this._on(o[_],c,d,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var ut=q.extend(J);function F(o,c,d){this.x=d?Math.round(o):o,this.y=d?Math.round(c):c}var K=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(o){return this.clone()._add(W(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(W(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new F(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new F(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(o){o=W(o);var c=o.x-this.x,d=o.y-this.y;return Math.sqrt(c*c+d*d)},equals:function(o){return o=W(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=W(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function W(o,c,d){return o instanceof F?o:k(o)?new F(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new F(o.x,o.y):new F(o,c,d)}function X(o,c){if(o)for(var d=c?[o,c]:o,m=0,_=d.length;m<_;m++)this.extend(d[m])}X.prototype={extend:function(o){var c,d;if(!o)return this;if(o instanceof F||typeof o[0]=="number"||"x"in o)c=d=W(o);else if(o=rt(o),c=o.min,d=o.max,!c||!d)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=d.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(o){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,d;return typeof o[0]=="number"||o instanceof F?o=W(o):o=rt(o),o instanceof X?(c=o.min,d=o.max):c=d=o,c.x>=this.min.x&&d.x<=this.max.x&&c.y>=this.min.y&&d.y<=this.max.y},intersects:function(o){o=rt(o);var c=this.min,d=this.max,m=o.min,_=o.max,C=_.x>=c.x&&m.x<=d.x,T=_.y>=c.y&&m.y<=d.y;return C&&T},overlaps:function(o){o=rt(o);var c=this.min,d=this.max,m=o.min,_=o.max,C=_.x>c.x&&m.x<d.x,T=_.y>c.y&&m.y<d.y;return C&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,d=this.max,m=Math.abs(c.x-d.x)*o,_=Math.abs(c.y-d.y)*o;return rt(W(c.x-m,c.y-_),W(d.x+m,d.y+_))},equals:function(o){return o?(o=rt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function rt(o,c){return!o||o instanceof X?o:new X(o,c)}function Pt(o,c){if(o)for(var d=c?[o,c]:o,m=0,_=d.length;m<_;m++)this.extend(d[m])}Pt.prototype={extend:function(o){var c=this._southWest,d=this._northEast,m,_;if(o instanceof ft)m=o,_=o;else if(o instanceof Pt){if(m=o._southWest,_=o._northEast,!m||!_)return this}else return o?this.extend(et(o)||dt(o)):this;return!c&&!d?(this._southWest=new ft(m.lat,m.lng),this._northEast=new ft(_.lat,_.lng)):(c.lat=Math.min(m.lat,c.lat),c.lng=Math.min(m.lng,c.lng),d.lat=Math.max(_.lat,d.lat),d.lng=Math.max(_.lng,d.lng)),this},pad:function(o){var c=this._southWest,d=this._northEast,m=Math.abs(c.lat-d.lat)*o,_=Math.abs(c.lng-d.lng)*o;return new Pt(new ft(c.lat-m,c.lng-_),new ft(d.lat+m,d.lng+_))},getCenter:function(){return new ft((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ft(this.getNorth(),this.getWest())},getSouthEast:function(){return new ft(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ft||"lat"in o?o=et(o):o=dt(o);var c=this._southWest,d=this._northEast,m,_;return o instanceof Pt?(m=o.getSouthWest(),_=o.getNorthEast()):m=_=o,m.lat>=c.lat&&_.lat<=d.lat&&m.lng>=c.lng&&_.lng<=d.lng},intersects:function(o){o=dt(o);var c=this._southWest,d=this._northEast,m=o.getSouthWest(),_=o.getNorthEast(),C=_.lat>=c.lat&&m.lat<=d.lat,T=_.lng>=c.lng&&m.lng<=d.lng;return C&&T},overlaps:function(o){o=dt(o);var c=this._southWest,d=this._northEast,m=o.getSouthWest(),_=o.getNorthEast(),C=_.lat>c.lat&&m.lat<d.lat,T=_.lng>c.lng&&m.lng<d.lng;return C&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=dt(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function dt(o,c){return o instanceof Pt?o:new Pt(o,c)}function ft(o,c,d){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,d!==void 0&&(this.alt=+d)}ft.prototype={equals:function(o,c){if(!o)return!1;o=et(o);var d=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return d<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Oi.distance(this,et(o))},wrap:function(){return Oi.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,d=c/Math.cos(Math.PI/180*this.lat);return dt([this.lat-c,this.lng-d],[this.lat+c,this.lng+d])},clone:function(){return new ft(this.lat,this.lng,this.alt)}};function et(o,c,d){return o instanceof ft?o:k(o)&&typeof o[0]!="object"?o.length===3?new ft(o[0],o[1],o[2]):o.length===2?new ft(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ft(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new ft(o,c,d)}var Be={latLngToPoint:function(o,c){var d=this.projection.project(o),m=this.scale(c);return this.transformation._transform(d,m)},pointToLatLng:function(o,c){var d=this.scale(c),m=this.transformation.untransform(o,d);return this.projection.unproject(m)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,d=this.scale(o),m=this.transformation.transform(c.min,d),_=this.transformation.transform(c.max,d);return new X(m,_)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?f(o.lng,this.wrapLng,!0):o.lng,d=this.wrapLat?f(o.lat,this.wrapLat,!0):o.lat,m=o.alt;return new ft(d,c,m)},wrapLatLngBounds:function(o){var c=o.getCenter(),d=this.wrapLatLng(c),m=c.lat-d.lat,_=c.lng-d.lng;if(m===0&&_===0)return o;var C=o.getSouthWest(),T=o.getNorthEast(),R=new ft(C.lat-m,C.lng-_),D=new ft(T.lat-m,T.lng-_);return new Pt(R,D)}},Oi=s({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var d=Math.PI/180,m=o.lat*d,_=c.lat*d,C=Math.sin((c.lat-o.lat)*d/2),T=Math.sin((c.lng-o.lng)*d/2),R=C*C+Math.cos(m)*Math.cos(_)*T*T,D=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*D}}),L_=6378137,ad={R:L_,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,d=this.MAX_LATITUDE,m=Math.max(Math.min(d,o.lat),-d),_=Math.sin(m*c);return new F(this.R*o.lng*c,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(o){var c=180/Math.PI;return new ft((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=L_*Math.PI;return new X([-o,-o],[o,o])}()};function ld(o,c,d,m){if(k(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=d,this._d=m}ld.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new F((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Do(o,c,d,m){return new ld(o,c,d,m)}var cd=s({},Oi,{code:"EPSG:3857",projection:ad,transformation:function(){var o=.5/(Math.PI*ad.R);return Do(o,.5,-o,.5)}()}),YP=s({},cd,{code:"EPSG:900913"});function N_(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function O_(o,c){var d="",m,_,C,T,R,D;for(m=0,C=o.length;m<C;m++){for(R=o[m],_=0,T=R.length;_<T;_++)D=R[_],d+=(_?"L":"M")+D.x+" "+D.y;d+=c?tt.svg?"z":"x":""}return d||"M0 0"}var ud=document.documentElement.style,Gl="ActiveXObject"in window,qP=Gl&&!document.addEventListener,A_="msLaunchUri"in navigator&&!("documentMode"in document),hd=zn("webkit"),R_=zn("android"),D_=zn("android 2")||zn("android 3"),QP=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),XP=R_&&zn("Google")&&QP<537&&!("AudioNode"in window),dd=!!window.opera,F_=!A_&&zn("chrome"),z_=zn("gecko")&&!hd&&!dd&&!Gl,JP=!F_&&zn("safari"),B_=zn("phantom"),j_="OTransition"in ud,tT=navigator.platform.indexOf("Win")===0,W_=Gl&&"transition"in ud,fd="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!D_,H_="MozPerspective"in ud,eT=!window.L_DISABLE_3D&&(W_||fd||H_)&&!j_&&!B_,Fo=typeof orientation<"u"||zn("mobile"),nT=Fo&&hd,iT=Fo&&fd,V_=!window.PointerEvent&&window.MSPointerEvent,U_=!!(window.PointerEvent||V_),$_="ontouchstart"in window||!!window.TouchEvent,sT=!window.L_NO_TOUCH&&($_||U_),rT=Fo&&dd,oT=Fo&&z_,aT=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lT=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",p,c),window.removeEventListener("testPassiveEventSupport",p,c)}catch{}return o}(),cT=function(){return!!document.createElement("canvas").getContext}(),pd=!!(document.createElementNS&&N_("svg").createSVGRect),uT=!!pd&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),hT=!pd&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),dT=navigator.platform.indexOf("Mac")===0,fT=navigator.platform.indexOf("Linux")===0;function zn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var tt={ie:Gl,ielt9:qP,edge:A_,webkit:hd,android:R_,android23:D_,androidStock:XP,opera:dd,chrome:F_,gecko:z_,safari:JP,phantom:B_,opera12:j_,win:tT,ie3d:W_,webkit3d:fd,gecko3d:H_,any3d:eT,mobile:Fo,mobileWebkit:nT,mobileWebkit3d:iT,msPointer:V_,pointer:U_,touch:sT,touchNative:$_,mobileOpera:rT,mobileGecko:oT,retina:aT,passiveEvents:lT,canvas:cT,svg:pd,vml:hT,inlineSvg:uT,mac:dT,linux:fT},Z_=tt.msPointer?"MSPointerDown":"pointerdown",G_=tt.msPointer?"MSPointerMove":"pointermove",K_=tt.msPointer?"MSPointerUp":"pointerup",Y_=tt.msPointer?"MSPointerCancel":"pointercancel",md={touchstart:Z_,touchmove:G_,touchend:K_,touchcancel:Y_},q_={touchstart:yT,touchmove:Kl,touchend:Kl,touchcancel:Kl},_r={},Q_=!1;function pT(o,c,d){return c==="touchstart"&&vT(),q_[c]?(d=q_[c].bind(this,d),o.addEventListener(md[c],d,!1),d):(console.warn("wrong event specified:",c),p)}function mT(o,c,d){if(!md[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(md[c],d,!1)}function gT(o){_r[o.pointerId]=o}function _T(o){_r[o.pointerId]&&(_r[o.pointerId]=o)}function X_(o){delete _r[o.pointerId]}function vT(){Q_||(document.addEventListener(Z_,gT,!0),document.addEventListener(G_,_T,!0),document.addEventListener(K_,X_,!0),document.addEventListener(Y_,X_,!0),Q_=!0)}function Kl(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var d in _r)c.touches.push(_r[d]);c.changedTouches=[c],o(c)}}function yT(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&_e(c),Kl(o,c)}function xT(o){var c={},d,m;for(m in o)d=o[m],c[m]=d&&d.bind?d.bind(o):d;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var wT=200;function bT(o,c){o.addEventListener("dblclick",c);var d=0,m;function _(C){if(C.detail!==1){m=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var T=iv(C);if(!(T.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!T.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var R=Date.now();R-d<=wT?(m++,m===2&&c(xT(C))):m=1,d=R}}}return o.addEventListener("click",_),{dblclick:c,simDblclick:_}}function ST(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var gd=Ql(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zo=Ql(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),J_=zo==="webkitTransition"||zo==="OTransition"?zo+"End":"transitionend";function tv(o){return typeof o=="string"?document.getElementById(o):o}function Bo(o,c){var d=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!d||d==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(o,null);d=m?m[c]:null}return d==="auto"?null:d}function Ct(o,c,d){var m=document.createElement(o);return m.className=c||"",d&&d.appendChild(m),m}function $t(o){var c=o.parentNode;c&&c.removeChild(o)}function Yl(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function vr(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function yr(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function _d(o,c){if(o.classList!==void 0)return o.classList.contains(c);var d=ql(o);return d.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(d)}function ht(o,c){if(o.classList!==void 0)for(var d=x(c),m=0,_=d.length;m<_;m++)o.classList.add(d[m]);else if(!_d(o,c)){var C=ql(o);vd(o,(C?C+" ":"")+c)}}function Jt(o,c){o.classList!==void 0?o.classList.remove(c):vd(o,v((" "+ql(o)+" ").replace(" "+c+" "," ")))}function vd(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function ql(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function ln(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&CT(o,c)}function CT(o,c){var d=!1,m="DXImageTransform.Microsoft.Alpha";try{d=o.filters.item(m)}catch{if(c===1)return}c=Math.round(c*100),d?(d.Enabled=c!==100,d.Opacity=c):o.style.filter+=" progid:"+m+"(opacity="+c+")"}function Ql(o){for(var c=document.documentElement.style,d=0;d<o.length;d++)if(o[d]in c)return o[d];return!1}function Ps(o,c,d){var m=c||new F(0,0);o.style[gd]=(tt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(d?" scale("+d+")":"")}function ne(o,c){o._leaflet_pos=c,tt.any3d?Ps(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function Ts(o){return o._leaflet_pos||new F(0,0)}var jo,Wo,yd;if("onselectstart"in document)jo=function(){ot(window,"selectstart",_e)},Wo=function(){Lt(window,"selectstart",_e)};else{var Ho=Ql(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);jo=function(){if(Ho){var o=document.documentElement.style;yd=o[Ho],o[Ho]="none"}},Wo=function(){Ho&&(document.documentElement.style[Ho]=yd,yd=void 0)}}function xd(){ot(window,"dragstart",_e)}function wd(){Lt(window,"dragstart",_e)}var Xl,bd;function Sd(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Jl(),Xl=o,bd=o.style.outlineStyle,o.style.outlineStyle="none",ot(window,"keydown",Jl))}function Jl(){Xl&&(Xl.style.outlineStyle=bd,Xl=void 0,bd=void 0,Lt(window,"keydown",Jl))}function ev(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Cd(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var kT={__proto__:null,TRANSFORM:gd,TRANSITION:zo,TRANSITION_END:J_,get:tv,getStyle:Bo,create:Ct,remove:$t,empty:Yl,toFront:vr,toBack:yr,hasClass:_d,addClass:ht,removeClass:Jt,setClass:vd,getClass:ql,setOpacity:ln,testProp:Ql,setTransform:Ps,setPosition:ne,getPosition:Ts,get disableTextSelection(){return jo},get enableTextSelection(){return Wo},disableImageDrag:xd,enableImageDrag:wd,preventOutline:Sd,restoreOutline:Jl,getSizedParentNode:ev,getScale:Cd};function ot(o,c,d,m){if(c&&typeof c=="object")for(var _ in c)Ed(o,_,c[_],d);else{c=x(c);for(var C=0,T=c.length;C<T;C++)Ed(o,c[C],d,m)}return this}var Bn="_leaflet_events";function Lt(o,c,d,m){if(arguments.length===1)nv(o),delete o[Bn];else if(c&&typeof c=="object")for(var _ in c)Pd(o,_,c[_],d);else if(c=x(c),arguments.length===2)nv(o,function(R){return P(c,R)!==-1});else for(var C=0,T=c.length;C<T;C++)Pd(o,c[C],d,m);return this}function nv(o,c){for(var d in o[Bn]){var m=d.split(/\d/)[0];(!c||c(m))&&Pd(o,m,null,null,d)}}var kd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ed(o,c,d,m){var _=c+u(d)+(m?"_"+u(m):"");if(o[Bn]&&o[Bn][_])return this;var C=function(R){return d.call(m||o,R||window.event)},T=C;!tt.touchNative&&tt.pointer&&c.indexOf("touch")===0?C=pT(o,c,C):tt.touch&&c==="dblclick"?C=bT(o,C):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(kd[c]||c,C,tt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(C=function(R){R=R||window.event,Md(o,R)&&T(R)},o.addEventListener(kd[c],C,!1)):o.addEventListener(c,T,!1):o.attachEvent("on"+c,C),o[Bn]=o[Bn]||{},o[Bn][_]=C}function Pd(o,c,d,m,_){_=_||c+u(d)+(m?"_"+u(m):"");var C=o[Bn]&&o[Bn][_];if(!C)return this;!tt.touchNative&&tt.pointer&&c.indexOf("touch")===0?mT(o,c,C):tt.touch&&c==="dblclick"?ST(o,C):"removeEventListener"in o?o.removeEventListener(kd[c]||c,C,!1):o.detachEvent("on"+c,C),o[Bn][_]=null}function Ms(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Td(o){return Ed(o,"wheel",Ms),this}function Vo(o){return ot(o,"mousedown touchstart dblclick contextmenu",Ms),o._leaflet_disable_click=!0,this}function _e(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Is(o){return _e(o),Ms(o),this}function iv(o){if(o.composedPath)return o.composedPath();for(var c=[],d=o.target;d;)c.push(d),d=d.parentNode;return c}function sv(o,c){if(!c)return new F(o.clientX,o.clientY);var d=Cd(c),m=d.boundingClientRect;return new F((o.clientX-m.left)/d.x-c.clientLeft,(o.clientY-m.top)/d.y-c.clientTop)}var ET=tt.linux&&tt.chrome?window.devicePixelRatio:tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rv(o){return tt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ET:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Md(o,c){var d=c.relatedTarget;if(!d)return!0;try{for(;d&&d!==o;)d=d.parentNode}catch{return!1}return d!==o}var PT={__proto__:null,on:ot,off:Lt,stopPropagation:Ms,disableScrollPropagation:Td,disableClickPropagation:Vo,preventDefault:_e,stop:Is,getPropagationPath:iv,getMousePosition:sv,getWheelDelta:rv,isExternalTarget:Md,addListener:ot,removeListener:Lt},ov=ut.extend({run:function(o,c,d,m){this.stop(),this._el=o,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Ts(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,d=this._duration*1e3;c<d?this._runFrame(this._easeOut(c/d),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var d=this._startPos.add(this._offset.multiplyBy(o));c&&d._round(),ne(this._el,d),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),wt=ut.extend({options:{crs:cd,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=y(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(et(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zo&&tt.any3d&&!tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,J_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,d){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(et(o),c,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=s({animate:d.animate},d.zoom),d.pan=s({animate:d.animate,duration:d.duration},d.pan));var m=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,d.zoom):this._tryAnimatedPan(o,d.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,d.pan&&d.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,d){var m=this.getZoomScale(c),_=this.getSize().divideBy(2),C=o instanceof F?o:this.latLngToContainerPoint(o),T=C.subtract(_).multiplyBy(1-1/m),R=this.containerPointToLatLng(_.add(T));return this.setView(R,c,{zoom:d})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():dt(o);var d=W(c.paddingTopLeft||c.padding||[0,0]),m=W(c.paddingBottomRight||c.padding||[0,0]),_=this.getBoundsZoom(o,!1,d.add(m));if(_=typeof c.maxZoom=="number"?Math.min(c.maxZoom,_):_,_===1/0)return{center:o.getCenter(),zoom:_};var C=m.subtract(d).divideBy(2),T=this.project(o.getSouthWest(),_),R=this.project(o.getNorthEast(),_),D=this.unproject(T.add(R).divideBy(2).add(C),_);return{center:D,zoom:_}},fitBounds:function(o,c){if(o=dt(o),!o.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(o,c);return this.setView(d.center,d.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=W(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ov,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){ht(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,d,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,d){if(d=d||{},d.animate===!1||!tt.any3d)return this.setView(o,c,d);this._stop();var m=this.project(this.getCenter()),_=this.project(o),C=this.getSize(),T=this._zoom;o=et(o),c=c===void 0?T:c;var R=Math.max(C.x,C.y),D=R*this.getZoomScale(T,c),B=_.distanceTo(m)||1,Y=1.42,nt=Y*Y;function pt(ie){var hc=ie?-1:1,m1=ie?D:R,g1=D*D-R*R+hc*nt*nt*B*B,_1=2*m1*nt*B,jd=g1/_1,jv=Math.sqrt(jd*jd+1)-jd,v1=jv<1e-9?-18:Math.log(jv);return v1}function Le(ie){return(Math.exp(ie)-Math.exp(-ie))/2}function ue(ie){return(Math.exp(ie)+Math.exp(-ie))/2}function un(ie){return Le(ie)/ue(ie)}var je=pt(0);function kr(ie){return R*(ue(je)/ue(je+Y*ie))}function h1(ie){return R*(ue(je)*un(je+Y*ie)-Le(je))/nt}function d1(ie){return 1-Math.pow(1-ie,1.5)}var f1=Date.now(),zv=(pt(1)-je)/Y,p1=d.duration?1e3*d.duration:1e3*zv*.8;function Bv(){var ie=(Date.now()-f1)/p1,hc=d1(ie)*zv;ie<=1?(this._flyToFrame=G(Bv,this),this._move(this.unproject(m.add(_.subtract(m).multiplyBy(h1(hc)/B)),T),this.getScaleZoom(R/kr(hc),T),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Bv.call(this),this},flyToBounds:function(o,c){var d=this._getBoundsCenterZoom(o,c);return this.flyTo(d.center,d.zoom,c)},setMaxBounds:function(o){return o=dt(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var d=this.getCenter(),m=this._limitCenter(d,this._zoom,dt(o));return d.equals(m)||this.panTo(m,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var d=W(c.paddingTopLeft||c.padding||[0,0]),m=W(c.paddingBottomRight||c.padding||[0,0]),_=this.project(this.getCenter()),C=this.project(o),T=this.getPixelBounds(),R=rt([T.min.add(d),T.max.subtract(m)]),D=R.getSize();if(!R.contains(C)){this._enforcingBounds=!0;var B=C.subtract(R.getCenter()),Y=R.extend(C).getSize().subtract(D);_.x+=B.x<0?-Y.x:Y.x,_.y+=B.y<0?-Y.y:Y.y,this.panTo(this.unproject(_),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),m=c.divideBy(2).round(),_=d.divideBy(2).round(),C=m.subtract(_);return!C.x&&!C.y?this:(o.animate&&o.pan?this.panBy(C):(o.pan&&this._rawPanBy(C),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=a(this._handleGeolocationResponse,this),d=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,d,o):navigator.geolocation.getCurrentPosition(c,d,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,d=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,d=o.coords.longitude,m=new ft(c,d),_=m.toBounds(o.coords.accuracy*2),C=this._locateOptions;if(C.setView){var T=this.getBoundsZoom(_);this.setView(m,C.maxZoom?Math.min(T,C.maxZoom):T)}var R={latlng:m,bounds:_,timestamp:o.timestamp};for(var D in o.coords)typeof o.coords[D]=="number"&&(R[D]=o.coords[D]);this.fire("locationfound",R)}},addHandler:function(o,c){if(!c)return this;var d=this[o]=new c(this);return this._handlers.push(d),this.options[o]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)$t(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var d="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),m=Ct("div",d,c||this._mapPane);return o&&(this._panes[o]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),d=this.unproject(o.getTopRight());return new Pt(c,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,d){o=dt(o),d=W(d||[0,0]);var m=this.getZoom()||0,_=this.getMinZoom(),C=this.getMaxZoom(),T=o.getNorthWest(),R=o.getSouthEast(),D=this.getSize().subtract(d),B=rt(this.project(R,m),this.project(T,m)).getSize(),Y=tt.any3d?this.options.zoomSnap:1,nt=D.x/B.x,pt=D.y/B.y,Le=c?Math.max(nt,pt):Math.min(nt,pt);return m=this.getScaleZoom(Le,m),Y&&(m=Math.round(m/(Y/100))*(Y/100),m=c?Math.ceil(m/Y)*Y:Math.floor(m/Y)*Y),Math.max(_,Math.min(C,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var d=this._getTopLeftPoint(o,c);return new X(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var d=this.options.crs;return c=c===void 0?this._zoom:c,d.scale(o)/d.scale(c)},getScaleZoom:function(o,c){var d=this.options.crs;c=c===void 0?this._zoom:c;var m=d.zoom(o*d.scale(c));return isNaN(m)?1/0:m},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(et(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(W(o),c)},layerPointToLatLng:function(o){var c=W(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(et(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(et(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(dt(o))},distance:function(o,c){return this.options.crs.distance(et(o),et(c))},containerPointToLayerPoint:function(o){return W(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return W(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(W(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(et(o)))},mouseEventToContainerPoint:function(o){return sv(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=tv(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&tt.any3d,ht(o,"leaflet-container"+(tt.touch?" leaflet-touch":"")+(tt.retina?" leaflet-retina":"")+(tt.ielt9?" leaflet-oldie":"")+(tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Bo(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ne(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ht(o.markerPane,"leaflet-zoom-hide"),ht(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,d){ne(this._mapPane,new F(0,0));var m=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var _=this._zoom!==c;this._moveStart(_,d)._move(o,c)._moveEnd(_),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,d,m){c===void 0&&(c=this._zoom);var _=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),m?d&&d.pinch&&this.fire("zoom",d):((_||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ne(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var c=o?Lt:ot;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),tt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var d=[],m,_=c==="mouseout"||c==="mouseover",C=o.target||o.srcElement,T=!1;C;){if(m=this._targets[u(C)],m&&(c==="click"||c==="preclick")&&this._draggableMoved(m)){T=!0;break}if(m&&m.listens(c,!0)&&(_&&!Md(C,o)||(d.push(m),_))||C===this._container)break;C=C.parentNode}return!d.length&&!T&&!_&&this.listens(c,!0)&&(d=[this]),d},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var d=o.type;d==="mousedown"&&Sd(c),this._fireDOMEvent(o,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,d){if(o.type==="click"){var m=s({},o);m.type="preclick",this._fireDOMEvent(m,m.type,d)}var _=this._findEventTargets(o,c);if(d){for(var C=[],T=0;T<d.length;T++)d[T].listens(c,!0)&&C.push(d[T]);_=C.concat(_)}if(_.length){c==="contextmenu"&&_e(o);var R=_[0],D={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var B=R.getLatLng&&(!R._radius||R._radius<=10);D.containerPoint=B?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(o),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=B?R.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(T=0;T<_.length;T++)if(_[T].fire(c,D,!0),D.originalEvent._stopped||_[T].options.bubblingMouseEvents===!1&&P(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return Ts(this._mapPane)||new F(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var d=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var d=this.getSize()._divideBy(2);return this.project(o,c)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,d){var m=this._getNewPixelOrigin(d,c);return this.project(o,c)._subtract(m)},_latLngBoundsToNewLayerBounds:function(o,c,d){var m=this._getNewPixelOrigin(d,c);return rt([this.project(o.getSouthWest(),c)._subtract(m),this.project(o.getNorthWest(),c)._subtract(m),this.project(o.getSouthEast(),c)._subtract(m),this.project(o.getNorthEast(),c)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,d){if(!d)return o;var m=this.project(o,c),_=this.getSize().divideBy(2),C=new X(m.subtract(_),m.add(_)),T=this._getBoundsOffset(C,d,c);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?o:this.unproject(m.add(T),c)},_limitOffset:function(o,c){if(!c)return o;var d=this.getPixelBounds(),m=new X(d.min.add(o),d.max.add(o));return o.add(this._getBoundsOffset(m,c))},_getBoundsOffset:function(o,c,d){var m=rt(this.project(c.getNorthEast(),d),this.project(c.getSouthWest(),d)),_=m.min.subtract(o.min),C=m.max.subtract(o.max),T=this._rebound(_.x,-C.x),R=this._rebound(_.y,-C.y);return new F(T,R)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),d=this.getMaxZoom(),m=tt.any3d?this.options.zoomSnap:1;return m&&(o=Math.round(o/m)*m),Math.max(c,Math.min(d,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var d=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,c),!0)},_createAnimProxy:function(){var o=this._proxy=Ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var d=gd,m=this._proxy.style[d];Ps(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),m===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Ps(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(c),_=this._getCenterOffset(o)._divideBy(1-1/m);return d.animate!==!0&&!this.getSize().contains(_)?!1:(G(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,d,m){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,ht(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function TT(o,c){return new wt(o,c)}var xn=q.extend({options:{position:"topright"},initialize:function(o){y(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),d=this.getPosition(),m=o._controlCorners[d];return ht(c,"leaflet-control"),d.indexOf("bottom")!==-1?m.insertBefore(c,m.firstChild):m.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Uo=function(o){return new xn(o)};wt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",d=this._controlContainer=Ct("div",c+"control-container",this._container);function m(_,C){var T=c+_+" "+c+C;o[_+C]=Ct("div",T,d)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)$t(this._controlCorners[o]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var av=xn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,d,m){return d<m?-1:m<d?1:0}},initialize:function(o,c,d){y(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in o)this._addLayer(o[m],m);for(m in c)this._addLayer(c[m],m,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return xn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){ht(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ht(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=Ct("div",o),d=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Vo(c),Td(c);var m=this._section=Ct("section",o+"-list");d&&(this._map.on("click",this.collapse,this),ot(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Ct("a",o+"-toggle",c);_.href="#",_.title="Layers",_.setAttribute("role","button"),ot(_,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){_e(C),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Ct("div",o+"-base",m),this._separator=Ct("div",o+"-separator",m),this._overlaysList=Ct("div",o+"-overlays",m),c.appendChild(m)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,d){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:d}),this.options.sortLayers&&this._layers.sort(a(function(m,_){return this.options.sortFunction(m.layer,_.layer,m.name,_.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yl(this._baseLayersList),Yl(this._overlaysList),this._layerControlInputs=[];var o,c,d,m,_=0;for(d=0;d<this._layers.length;d++)m=this._layers[d],this._addItem(m),c=c||m.overlay,o=o||!m.overlay,_+=m.overlay?0:1;return this.options.hideSingleBase&&(o=o&&_>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(u(o.target)),d=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;d&&this._map.fire(d,c)},_createRadioElement:function(o,c){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=d,m.firstChild},_addItem:function(o){var c=document.createElement("label"),d=this._map.hasLayer(o.layer),m;o.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=d):m=this._createRadioElement("leaflet-base-layers_"+u(this),d),this._layerControlInputs.push(m),m.layerId=u(o.layer),ot(m,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+o.name;var C=document.createElement("span");c.appendChild(C),C.appendChild(m),C.appendChild(_);var T=o.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,d,m=[],_=[];this._handlingClick=!0;for(var C=o.length-1;C>=0;C--)c=o[C],d=this._getLayer(c.layerId).layer,c.checked?m.push(d):c.checked||_.push(d);for(C=0;C<_.length;C++)this._map.hasLayer(_[C])&&this._map.removeLayer(_[C]);for(C=0;C<m.length;C++)this._map.hasLayer(m[C])||this._map.addLayer(m[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,d,m=this._map.getZoom(),_=o.length-1;_>=0;_--)c=o[_],d=this._getLayer(c.layerId).layer,c.disabled=d.options.minZoom!==void 0&&m<d.options.minZoom||d.options.maxZoom!==void 0&&m>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ot(o,"click",_e),this.expand();var c=this;setTimeout(function(){Lt(o,"click",_e),c._preventClick=!1})}}),MT=function(o,c,d){return new av(o,c,d)},Id=xn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",d=Ct("div",c+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,c+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,c+"-out",d,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,d,m,_){var C=Ct("a",d,m);return C.innerHTML=o,C.href="#",C.title=c,C.setAttribute("role","button"),C.setAttribute("aria-label",c),Vo(C),ot(C,"click",Is),ot(C,"click",_,this),ot(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";Jt(this._zoomInButton,c),Jt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ht(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ht(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});wt.mergeOptions({zoomControl:!0}),wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Id,this.addControl(this.zoomControl))});var IT=function(o){return new Id(o)},lv=xn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",d=Ct("div",c),m=this.options;return this._addScales(m,c+"-line",d),o.on(m.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),d},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,d){o.metric&&(this._mScale=Ct("div",c,d)),o.imperial&&(this._iScale=Ct("div",c,d))},_update:function(){var o=this._map,c=o.getSize().y/2,d=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(d)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),d=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,d,c/o)},_updateImperial:function(o){var c=o*3.2808399,d,m,_;c>5280?(d=c/5280,m=this._getRoundNum(d),this._updateScale(this._iScale,m+" mi",m/d)):(_=this._getRoundNum(c),this._updateScale(this._iScale,_+" ft",_/c))},_updateScale:function(o,c,d){o.style.width=Math.round(this.options.maxWidth*d)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),d=o/c;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,c*d}}),LT=function(o){return new lv(o)},NT='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ld=xn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tt.inlineSvg?NT+" ":"")+"Leaflet</a>"},initialize:function(o){y(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ct("div","leaflet-control-attribution"),Vo(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var d=[];this.options.prefix&&d.push(this.options.prefix),o.length&&d.push(o.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});wt.mergeOptions({attributionControl:!0}),wt.addInitHook(function(){this.options.attributionControl&&new Ld().addTo(this)});var OT=function(o){return new Ld(o)};xn.Layers=av,xn.Zoom=Id,xn.Scale=lv,xn.Attribution=Ld,Uo.layers=MT,Uo.zoom=IT,Uo.scale=LT,Uo.attribution=OT;var jn=q.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jn.addTo=function(o,c){return o.addHandler(c,this),this};var AT={Events:J},cv=tt.touch?"touchstart mousedown":"mousedown",Ai=ut.extend({options:{clickTolerance:3},initialize:function(o,c,d,m){y(this,m),this._element=o,this._dragStartTarget=c||o,this._preventOutline=d},enable:function(){this._enabled||(ot(this._dragStartTarget,cv,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ai._dragging===this&&this.finishDrag(!0),Lt(this._dragStartTarget,cv,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!_d(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ai._dragging===this&&this.finishDrag();return}if(!(Ai._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ai._dragging=this,this._preventOutline&&Sd(this._element),xd(),jo(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,d=ev(this._element);this._startPoint=new F(c.clientX,c.clientY),this._startPos=Ts(this._element),this._parentScale=Cd(d);var m=o.type==="mousedown";ot(document,m?"mousemove":"touchmove",this._onMove,this),ot(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,d=new F(c.clientX,c.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,_e(o),this._moved||(this.fire("dragstart"),this._moved=!0,ht(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ht(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ne(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lt(document,"mousemove touchmove",this._onMove,this),Lt(document,"mouseup touchend touchcancel",this._onUp,this),wd(),Wo();var c=this._moved&&this._moving;this._moving=!1,Ai._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function uv(o,c,d){var m,_=[1,4,2,8],C,T,R,D,B,Y,nt,pt;for(C=0,Y=o.length;C<Y;C++)o[C]._code=Ls(o[C],c);for(R=0;R<4;R++){for(nt=_[R],m=[],C=0,Y=o.length,T=Y-1;C<Y;T=C++)D=o[C],B=o[T],D._code&nt?B._code&nt||(pt=tc(B,D,nt,c,d),pt._code=Ls(pt,c),m.push(pt)):(B._code&nt&&(pt=tc(B,D,nt,c,d),pt._code=Ls(pt,c),m.push(pt)),m.push(D));o=m}return o}function hv(o,c){var d,m,_,C,T,R,D,B,Y;if(!o||o.length===0)throw new Error("latlngs not passed");cn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var nt=et([0,0]),pt=dt(o),Le=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());Le<1700&&(nt=Nd(o));var ue=o.length,un=[];for(d=0;d<ue;d++){var je=et(o[d]);un.push(c.project(et([je.lat-nt.lat,je.lng-nt.lng])))}for(R=D=B=0,d=0,m=ue-1;d<ue;m=d++)_=un[d],C=un[m],T=_.y*C.x-C.y*_.x,D+=(_.x+C.x)*T,B+=(_.y+C.y)*T,R+=T*3;R===0?Y=un[0]:Y=[D/R,B/R];var kr=c.unproject(W(Y));return et([kr.lat+nt.lat,kr.lng+nt.lng])}function Nd(o){for(var c=0,d=0,m=0,_=0;_<o.length;_++){var C=et(o[_]);c+=C.lat,d+=C.lng,m++}return et([c/m,d/m])}var RT={__proto__:null,clipPolygon:uv,polygonCenter:hv,centroid:Nd};function dv(o,c){if(!c||!o.length)return o.slice();var d=c*c;return o=zT(o,d),o=FT(o,d),o}function fv(o,c,d){return Math.sqrt($o(o,c,d,!0))}function DT(o,c,d){return $o(o,c,d)}function FT(o,c){var d=o.length,m=typeof Uint8Array<"u"?Uint8Array:Array,_=new m(d);_[0]=_[d-1]=1,Od(o,_,c,0,d-1);var C,T=[];for(C=0;C<d;C++)_[C]&&T.push(o[C]);return T}function Od(o,c,d,m,_){var C=0,T,R,D;for(R=m+1;R<=_-1;R++)D=$o(o[R],o[m],o[_],!0),D>C&&(T=R,C=D);C>d&&(c[T]=1,Od(o,c,d,m,T),Od(o,c,d,T,_))}function zT(o,c){for(var d=[o[0]],m=1,_=0,C=o.length;m<C;m++)BT(o[m],o[_])>c&&(d.push(o[m]),_=m);return _<C-1&&d.push(o[C-1]),d}var pv;function mv(o,c,d,m,_){var C=m?pv:Ls(o,d),T=Ls(c,d),R,D,B;for(pv=T;;){if(!(C|T))return[o,c];if(C&T)return!1;R=C||T,D=tc(o,c,R,d,_),B=Ls(D,d),R===C?(o=D,C=B):(c=D,T=B)}}function tc(o,c,d,m,_){var C=c.x-o.x,T=c.y-o.y,R=m.min,D=m.max,B,Y;return d&8?(B=o.x+C*(D.y-o.y)/T,Y=D.y):d&4?(B=o.x+C*(R.y-o.y)/T,Y=R.y):d&2?(B=D.x,Y=o.y+T*(D.x-o.x)/C):d&1&&(B=R.x,Y=o.y+T*(R.x-o.x)/C),new F(B,Y,_)}function Ls(o,c){var d=0;return o.x<c.min.x?d|=1:o.x>c.max.x&&(d|=2),o.y<c.min.y?d|=4:o.y>c.max.y&&(d|=8),d}function BT(o,c){var d=c.x-o.x,m=c.y-o.y;return d*d+m*m}function $o(o,c,d,m){var _=c.x,C=c.y,T=d.x-_,R=d.y-C,D=T*T+R*R,B;return D>0&&(B=((o.x-_)*T+(o.y-C)*R)/D,B>1?(_=d.x,C=d.y):B>0&&(_+=T*B,C+=R*B)),T=o.x-_,R=o.y-C,m?T*T+R*R:new F(_,C)}function cn(o){return!k(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function gv(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),cn(o)}function _v(o,c){var d,m,_,C,T,R,D,B;if(!o||o.length===0)throw new Error("latlngs not passed");cn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Y=et([0,0]),nt=dt(o),pt=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());pt<1700&&(Y=Nd(o));var Le=o.length,ue=[];for(d=0;d<Le;d++){var un=et(o[d]);ue.push(c.project(et([un.lat-Y.lat,un.lng-Y.lng])))}for(d=0,m=0;d<Le-1;d++)m+=ue[d].distanceTo(ue[d+1])/2;if(m===0)B=ue[0];else for(d=0,C=0;d<Le-1;d++)if(T=ue[d],R=ue[d+1],_=T.distanceTo(R),C+=_,C>m){D=(C-m)/_,B=[R.x-D*(R.x-T.x),R.y-D*(R.y-T.y)];break}var je=c.unproject(W(B));return et([je.lat+Y.lat,je.lng+Y.lng])}var jT={__proto__:null,simplify:dv,pointToSegmentDistance:fv,closestPointOnSegment:DT,clipSegment:mv,_getEdgeIntersection:tc,_getBitCode:Ls,_sqClosestPointOnSegment:$o,isFlat:cn,_flat:gv,polylineCenter:_v},Ad={project:function(o){return new F(o.lng,o.lat)},unproject:function(o){return new ft(o.y,o.x)},bounds:new X([-180,-90],[180,90])},Rd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,d=this.R,m=o.lat*c,_=this.R_MINOR/d,C=Math.sqrt(1-_*_),T=C*Math.sin(m),R=Math.tan(Math.PI/4-m/2)/Math.pow((1-T)/(1+T),C/2);return m=-d*Math.log(Math.max(R,1e-10)),new F(o.lng*c*d,m)},unproject:function(o){for(var c=180/Math.PI,d=this.R,m=this.R_MINOR/d,_=Math.sqrt(1-m*m),C=Math.exp(-o.y/d),T=Math.PI/2-2*Math.atan(C),R=0,D=.1,B;R<15&&Math.abs(D)>1e-7;R++)B=_*Math.sin(T),B=Math.pow((1-B)/(1+B),_/2),D=Math.PI/2-2*Math.atan(C*B)-T,T+=D;return new ft(T*c,o.x*c/d)}},WT={__proto__:null,LonLat:Ad,Mercator:Rd,SphericalMercator:ad},HT=s({},Oi,{code:"EPSG:3395",projection:Rd,transformation:function(){var o=.5/(Math.PI*Rd.R);return Do(o,.5,-o,.5)}()}),vv=s({},Oi,{code:"EPSG:4326",projection:Ad,transformation:Do(1/180,1,-1/180,.5)}),VT=s({},Be,{projection:Ad,transformation:Do(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var d=c.lng-o.lng,m=c.lat-o.lat;return Math.sqrt(d*d+m*m)},infinite:!0});Be.Earth=Oi,Be.EPSG3395=HT,Be.EPSG3857=cd,Be.EPSG900913=YP,Be.EPSG4326=vv,Be.Simple=VT;var wn=ut.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var d=this.getEvents();c.on(d,this),this.once("remove",function(){c.off(d,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});wt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=u(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,c){for(var d in this._layers)o.call(c,this._layers[d]);return this},_addLayers:function(o){o=o?k(o)?o:[o]:[];for(var c=0,d=o.length;c<d;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=u(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,d=this._getZoomSpan();for(var m in this._zoomBoundLayers){var _=this._zoomBoundLayers[m].options;o=_.minZoom===void 0?o:Math.min(o,_.minZoom),c=_.maxZoom===void 0?c:Math.max(c,_.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xr=wn.extend({initialize:function(o,c){y(this,c),this._layers={};var d,m;if(o)for(d=0,m=o.length;d<m;d++)this.addLayer(o[d])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),d,m;for(d in this._layers)m=this._layers[d],m[o]&&m[o].apply(m,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var d in this._layers)o.call(c,this._layers[d]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),UT=function(o,c){return new xr(o,c)},ti=xr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),xr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),xr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Pt;for(var c in this._layers){var d=this._layers[c];o.extend(d.getBounds?d.getBounds():d.getLatLng())}return o}}),$T=function(o,c){return new ti(o,c)},wr=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){y(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var d=this._getIconUrl(o);if(!d){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(d,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(m,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(o,c){var d=this.options,m=d[c+"Size"];typeof m=="number"&&(m=[m,m]);var _=W(m),C=W(c==="shadow"&&d.shadowAnchor||d.iconAnchor||_&&_.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(d.className||""),C&&(o.style.marginLeft=-C.x+"px",o.style.marginTop=-C.y+"px"),_&&(o.style.width=_.x+"px",o.style.height=_.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return tt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function ZT(o){return new wr(o)}var Zo=wr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Zo.imagePath!="string"&&(Zo.imagePath=this._detectIconPath()),(this.options.imagePath||Zo.imagePath)+wr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(d,m,_){var C=m.exec(d);return C&&C[_]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ct("div","leaflet-default-icon-path",document.body),c=Bo(o,"background-image")||Bo(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),yv=jn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ai(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ht(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,d=c._map,m=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,C=Ts(c._icon),T=d.getPixelBounds(),R=d.getPixelOrigin(),D=rt(T.min._subtract(R).add(_),T.max._subtract(R).subtract(_));if(!D.contains(C)){var B=W((Math.max(D.max.x,C.x)-D.max.x)/(T.max.x-D.max.x)-(Math.min(D.min.x,C.x)-D.min.x)/(T.min.x-D.min.x),(Math.max(D.max.y,C.y)-D.max.y)/(T.max.y-D.max.y)-(Math.min(D.min.y,C.y)-D.min.y)/(T.min.y-D.min.y)).multiplyBy(m);d.panBy(B,{animate:!1}),this._draggable._newPos._add(B),this._draggable._startPos._add(B),ne(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=G(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,d=c._shadow,m=Ts(c._icon),_=c._map.layerPointToLatLng(m);d&&ne(d,m),c._latlng=_,o.latlng=_,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ec=wn.extend({options:{icon:new Zo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){y(this,c),this._latlng=et(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=et(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=o.icon.createIcon(this._icon),m=!1;d!==this._icon&&(this._icon&&this._removeIcon(),m=!0,o.title&&(d.title=o.title),d.tagName==="IMG"&&(d.alt=o.alt||"")),ht(d,c),o.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(d,"focus",this._panOnFocus,this);var _=o.icon.createShadow(this._shadow),C=!1;_!==this._shadow&&(this._removeShadow(),C=!0),_&&(ht(_,c),_.alt=""),this._shadow=_,o.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&C&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ne(this._icon,o),this._shadow&&ne(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(ht(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yv)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yv(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ln(this._icon,o),this._shadow&&ln(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,d=c.iconSize?W(c.iconSize):W(0,0),m=c.iconAnchor?W(c.iconAnchor):W(0,0);o.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:d.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function GT(o,c){return new ec(o,c)}var Ri=wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return y(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),nc=Ri.extend({options:{fill:!0,radius:10},initialize:function(o,c){y(this,c),this._latlng=et(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=et(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return Ri.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,d=this._clickTolerance(),m=[o+d,c+d];this._pxBounds=new X(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function KT(o,c){return new nc(o,c)}var Dd=nc.extend({initialize:function(o,c,d){if(typeof c=="number"&&(c=s({},d,{radius:c})),y(this,c),this._latlng=et(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Pt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ri.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,d=this._map,m=d.options.crs;if(m.distance===Oi.distance){var _=Math.PI/180,C=this._mRadius/Oi.R/_,T=d.project([c+C,o]),R=d.project([c-C,o]),D=T.add(R).divideBy(2),B=d.unproject(D).lat,Y=Math.acos((Math.cos(C*_)-Math.sin(c*_)*Math.sin(B*_))/(Math.cos(c*_)*Math.cos(B*_)))/_;(isNaN(Y)||Y===0)&&(Y=C/Math.cos(Math.PI/180*c)),this._point=D.subtract(d.getPixelOrigin()),this._radius=isNaN(Y)?0:D.x-d.project([B,o-Y]).x,this._radiusY=D.y-T.y}else{var nt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(nt).x}this._updateBounds()}});function YT(o,c,d){return new Dd(o,c,d)}var ei=Ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){y(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,d=null,m=$o,_,C,T=0,R=this._parts.length;T<R;T++)for(var D=this._parts[T],B=1,Y=D.length;B<Y;B++){_=D[B-1],C=D[B];var nt=m(o,_,C,!0);nt<c&&(c=nt,d=m(o,_,C))}return d&&(d.distance=Math.sqrt(c)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _v(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=et(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Pt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return cn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],d=cn(o),m=0,_=o.length;m<_;m++)d?(c[m]=et(o[m]),this._bounds.extend(c[m])):c[m]=this._convertLatLngs(o[m]);return c},_project:function(){var o=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new F(o,o);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,d){var m=o[0]instanceof ft,_=o.length,C,T;if(m){for(T=[],C=0;C<_;C++)T[C]=this._map.latLngToLayerPoint(o[C]),d.extend(T[C]);c.push(T)}else for(C=0;C<_;C++)this._projectLatlngs(o[C],c,d)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,d,m,_,C,T,R,D;for(d=0,_=0,C=this._rings.length;d<C;d++)for(D=this._rings[d],m=0,T=D.length;m<T-1;m++)R=mv(D[m],D[m+1],o,m,!0),R&&(c[_]=c[_]||[],c[_].push(R[0]),(R[1]!==D[m+1]||m===T-2)&&(c[_].push(R[1]),_++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,d=0,m=o.length;d<m;d++)o[d]=dv(o[d],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var d,m,_,C,T,R,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(d=0,C=this._parts.length;d<C;d++)for(R=this._parts[d],m=0,T=R.length,_=T-1;m<T;_=m++)if(!(!c&&m===0)&&fv(o,R[_],R[m])<=D)return!0;return!1}});function qT(o,c){return new ei(o,c)}ei._flat=gv;var br=ei.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hv(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=ei.prototype._convertLatLngs.call(this,o),d=c.length;return d>=2&&c[0]instanceof ft&&c[0].equals(c[d-1])&&c.pop(),c},_setLatLngs:function(o){ei.prototype._setLatLngs.call(this,o),cn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return cn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,d=new F(c,c);if(o=new X(o.min.subtract(d),o.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,_=this._rings.length,C;m<_;m++)C=uv(this._rings[m],o,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,d,m,_,C,T,R,D,B;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(C=0,D=this._parts.length;C<D;C++)for(d=this._parts[C],T=0,B=d.length,R=B-1;T<B;R=T++)m=d[T],_=d[R],m.y>o.y!=_.y>o.y&&o.x<(_.x-m.x)*(o.y-m.y)/(_.y-m.y)+m.x&&(c=!c);return c||ei.prototype._containsPoint.call(this,o,!0)}});function QT(o,c){return new br(o,c)}var ni=ti.extend({initialize:function(o,c){y(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=k(o)?o:o.features,d,m,_;if(c){for(d=0,m=c.length;d<m;d++)_=c[d],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var C=this.options;if(C.filter&&!C.filter(o))return this;var T=ic(o,C);return T?(T.feature=oc(o),T.defaultOptions=T.options,this.resetStyle(T),C.onEachFeature&&C.onEachFeature(o,T),this.addLayer(T)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function ic(o,c){var d=o.type==="Feature"?o.geometry:o,m=d?d.coordinates:null,_=[],C=c&&c.pointToLayer,T=c&&c.coordsToLatLng||Fd,R,D,B,Y;if(!m&&!d)return null;switch(d.type){case"Point":return R=T(m),xv(C,o,R,c);case"MultiPoint":for(B=0,Y=m.length;B<Y;B++)R=T(m[B]),_.push(xv(C,o,R,c));return new ti(_);case"LineString":case"MultiLineString":return D=sc(m,d.type==="LineString"?0:1,T),new ei(D,c);case"Polygon":case"MultiPolygon":return D=sc(m,d.type==="Polygon"?1:2,T),new br(D,c);case"GeometryCollection":for(B=0,Y=d.geometries.length;B<Y;B++){var nt=ic({geometry:d.geometries[B],type:"Feature",properties:o.properties},c);nt&&_.push(nt)}return new ti(_);case"FeatureCollection":for(B=0,Y=d.features.length;B<Y;B++){var pt=ic(d.features[B],c);pt&&_.push(pt)}return new ti(_);default:throw new Error("Invalid GeoJSON object.")}}function xv(o,c,d,m){return o?o(c,d):new ec(d,m&&m.markersInheritOptions&&m)}function Fd(o){return new ft(o[1],o[0],o[2])}function sc(o,c,d){for(var m=[],_=0,C=o.length,T;_<C;_++)T=c?sc(o[_],c-1,d):(d||Fd)(o[_]),m.push(T);return m}function zd(o,c){return o=et(o),o.alt!==void 0?[g(o.lng,c),g(o.lat,c),g(o.alt,c)]:[g(o.lng,c),g(o.lat,c)]}function rc(o,c,d,m){for(var _=[],C=0,T=o.length;C<T;C++)_.push(c?rc(o[C],cn(o[C])?0:c-1,d,m):zd(o[C],m));return!c&&d&&_.length>0&&_.push(_[0].slice()),_}function Sr(o,c){return o.feature?s({},o.feature,{geometry:c}):oc(c)}function oc(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Bd={toGeoJSON:function(o){return Sr(this,{type:"Point",coordinates:zd(this.getLatLng(),o)})}};ec.include(Bd),Dd.include(Bd),nc.include(Bd),ei.include({toGeoJSON:function(o){var c=!cn(this._latlngs),d=rc(this._latlngs,c?1:0,!1,o);return Sr(this,{type:(c?"Multi":"")+"LineString",coordinates:d})}}),br.include({toGeoJSON:function(o){var c=!cn(this._latlngs),d=c&&!cn(this._latlngs[0]),m=rc(this._latlngs,d?2:c?1:0,!0,o);return c||(m=[m]),Sr(this,{type:(d?"Multi":"")+"Polygon",coordinates:m})}}),xr.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(d){c.push(d.toGeoJSON(o).geometry.coordinates)}),Sr(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var d=c==="GeometryCollection",m=[];return this.eachLayer(function(_){if(_.toGeoJSON){var C=_.toGeoJSON(o);if(d)m.push(C.geometry);else{var T=oc(C);T.type==="FeatureCollection"?m.push.apply(m,T.features):m.push(T)}}}),d?Sr(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function wv(o,c){return new ni(o,c)}var XT=wv,ac=wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,d){this._url=o,this._bounds=dt(c),y(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ht(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&vr(this._image),this},bringToBack:function(){return this._map&&yr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=dt(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:Ct("img");if(ht(c,"leaflet-image-layer"),this._zoomAnimated&&ht(c,"leaflet-zoom-animated"),this.options.className&&ht(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onload=a(this.fire,this,"load"),c.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ps(this._image,d,c)},_reset:function(){var o=this._image,c=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=c.getSize();ne(o,c.min),o.style.width=d.x+"px",o.style.height=d.y+"px"},_updateOpacity:function(){ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),JT=function(o,c,d){return new ac(o,c,d)},bv=ac.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:Ct("video");if(ht(c,"leaflet-image-layer"),this._zoomAnimated&&ht(c,"leaflet-zoom-animated"),this.options.className&&ht(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onloadeddata=a(this.fire,this,"load"),o){for(var d=c.getElementsByTagName("source"),m=[],_=0;_<d.length;_++)m.push(d[_].src);this._url=d.length>0?m:[c.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var T=Ct("source");T.src=this._url[C],c.appendChild(T)}}});function t1(o,c,d){return new bv(o,c,d)}var Sv=ac.extend({_initImage:function(){var o=this._image=this._url;ht(o,"leaflet-image-layer"),this._zoomAnimated&&ht(o,"leaflet-zoom-animated"),this.options.className&&ht(o,this.options.className),o.onselectstart=p,o.onmousemove=p}});function e1(o,c,d){return new Sv(o,c,d)}var Wn=wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof ft||k(o))?(this._latlng=et(o),y(this,c)):(y(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ln(this._container,1),this.bringToFront(),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(ln(this._container,0),this._removeTimeout=setTimeout(a($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=et(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vr(this._container),this},bringToBack:function(){return this._map&&yr(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof ti){c=null;var d=this._source._layers;for(var m in d)if(d[m]._map){c=d[m];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=W(this.options.offset),d=this._getAnchor();this._zoomAnimated?ne(this._container,o.add(d)):c=c.add(o).add(d);var m=this._containerBottom=-c.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=m+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});wt.include({_initOverlay:function(o,c,d,m){var _=c;return _ instanceof o||(_=new o(m).setContent(c)),d&&_.setLatLng(d),_}}),wn.include({_initOverlay:function(o,c,d,m){var _=d;return _ instanceof o?(y(_,m),_._source=this):(_=c&&!m?c:new o(m,this),_.setContent(d)),_}});var lc=Wn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Wn.prototype.openOn.call(this,o)},onAdd:function(o){Wn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ri||this._source.on("preclick",Ms))},onRemove:function(o){Wn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ri||this._source.off("preclick",Ms))},getEvents:function(){var o=Wn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=Ct("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Ct("div",o+"-content-wrapper",c);if(this._contentNode=Ct("div",o+"-content",d),Vo(c),Td(this._contentNode),ot(c,"contextmenu",Ms),this._tipContainer=Ct("div",o+"-tip-container",c),this._tip=Ct("div",o+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Ct("a",o+"-close-button",c);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',ot(m,"click",function(_){_e(_),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var d=o.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),c.width=d+1+"px",c.whiteSpace="",c.height="";var m=o.offsetHeight,_=this.options.maxHeight,C="leaflet-popup-scrolled";_&&m>_?(c.height=_+"px",ht(o,C)):Jt(o,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),d=this._getAnchor();ne(this._container,c.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Bo(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+c,m=this._containerWidth,_=new F(this._containerLeft,-d-this._containerBottom);_._add(Ts(this._container));var C=o.layerPointToContainerPoint(_),T=W(this.options.autoPanPadding),R=W(this.options.autoPanPaddingTopLeft||T),D=W(this.options.autoPanPaddingBottomRight||T),B=o.getSize(),Y=0,nt=0;C.x+m+D.x>B.x&&(Y=C.x+m-B.x+D.x),C.x-Y-R.x<0&&(Y=C.x-R.x),C.y+d+D.y>B.y&&(nt=C.y+d-B.y+D.y),C.y-nt-R.y<0&&(nt=C.y-R.y),(Y||nt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Y,nt]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),n1=function(o,c){return new lc(o,c)};wt.mergeOptions({closePopupOnClick:!0}),wt.include({openPopup:function(o,c,d){return this._initOverlay(lc,o,c,d).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),wn.include({bindPopup:function(o,c){return this._popup=this._initOverlay(lc,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Is(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof Ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var cc=Wn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Wn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Wn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Wn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ct("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,d,m=this._map,_=this._container,C=m.latLngToContainerPoint(m.getCenter()),T=m.layerPointToContainerPoint(o),R=this.options.direction,D=_.offsetWidth,B=_.offsetHeight,Y=W(this.options.offset),nt=this._getAnchor();R==="top"?(c=D/2,d=B):R==="bottom"?(c=D/2,d=0):R==="center"?(c=D/2,d=B/2):R==="right"?(c=0,d=B/2):R==="left"?(c=D,d=B/2):T.x<C.x?(R="right",c=0,d=B/2):(R="left",c=D+(Y.x+nt.x)*2,d=B/2),o=o.subtract(W(c,d,!0)).add(Y).add(nt),Jt(_,"leaflet-tooltip-right"),Jt(_,"leaflet-tooltip-left"),Jt(_,"leaflet-tooltip-top"),Jt(_,"leaflet-tooltip-bottom"),ht(_,"leaflet-tooltip-"+R),ne(_,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ln(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),i1=function(o,c){return new cc(o,c)};wt.include({openTooltip:function(o,c,d){return this._initOverlay(cc,o,c,d).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),wn.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cc,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[c](d),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(ot(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ot(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,d,m;this._tooltip.options.sticky&&o.originalEvent&&(d=this._map.mouseEventToContainerPoint(o.originalEvent),m=this._map.containerPointToLayerPoint(d),c=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(c)}});var Cv=wr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Yl(c),c.appendChild(d.html)):c.innerHTML=d.html!==!1?d.html:"",d.bgPos){var m=W(d.bgPos);c.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function s1(o){return new Cv(o)}wr.Default=Zo;var Go=wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){y(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),$t(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof F?o:new F(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,d=-o(-1/0,1/0),m=0,_=c.length,C;m<_;m++)C=c[m].style.zIndex,c[m]!==this._container&&C&&(d=o(d,+C));isFinite(d)&&(this.options.zIndex=d+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt.ielt9){ln(this._container,this.options.opacity);var o=+new Date,c=!1,d=!1;for(var m in this._tiles){var _=this._tiles[m];if(!(!_.current||!_.loaded)){var C=Math.min(1,(o-_.loaded)/200);ln(_.el,C),C<1?c=!0:(_.active?d=!0:this._onOpaqueTile(_),_.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),c&&(U(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===o?(this._levels[d].el.style.zIndex=c-Math.abs(o-d),this._onUpdateLevel(d)):($t(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var m=this._levels[o],_=this._map;return m||(m=this._levels[o]={},m.el=Ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=c,m.origin=_.project(_.unproject(_.getPixelOrigin()),o).round(),m.zoom=o,this._setZoomTransform(m,_.getCenter(),_.getZoom()),p(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var o,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var m=c.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)$t(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,d,m){var _=Math.floor(o/2),C=Math.floor(c/2),T=d-1,R=new F(+_,+C);R.z=+T;var D=this._tileCoordsToKey(R),B=this._tiles[D];return B&&B.active?(B.retain=!0,!0):(B&&B.loaded&&(B.retain=!0),T>m?this._retainParent(_,C,T,m):!1)},_retainChildren:function(o,c,d,m){for(var _=2*o;_<2*o+2;_++)for(var C=2*c;C<2*c+2;C++){var T=new F(_,C);T.z=d+1;var R=this._tileCoordsToKey(T),D=this._tiles[R];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);d+1<m&&this._retainChildren(_,C,d+1,m)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,d,m){var _=Math.round(c);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var C=this.options.updateWhenZooming&&_!==this._tileZoom;(!m||C)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(o),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var d in this._levels)this._setZoomTransform(this._levels[d],o,c)},_setZoomTransform:function(o,c,d){var m=this._map.getZoomScale(d,o.zoom),_=o.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(c,d)).round();tt.any3d?Ps(o.el,_,m):ne(o.el,_)},_resetGrid:function(){var o=this._map,c=o.options.crs,d=this._tileSize=this.getTileSize(),m=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],m).x/d.x),Math.ceil(o.project([0,c.wrapLng[1]],m).x/d.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],m).y/d.x),Math.ceil(o.project([c.wrapLat[1],0],m).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,d=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),m=c.getZoomScale(d,this._tileZoom),_=c.project(o,this._tileZoom).floor(),C=c.getSize().divideBy(m*2);return new X(_.subtract(C),_.add(C))},_update:function(o){var c=this._map;if(c){var d=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(o),_=this._pxBoundsToTileRange(m),C=_.getCenter(),T=[],R=this.options.keepBuffer,D=new X(_.getBottomLeft().subtract([R,-R]),_.getTopRight().add([R,-R]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var B in this._tiles){var Y=this._tiles[B].coords;(Y.z!==this._tileZoom||!D.contains(new F(Y.x,Y.y)))&&(this._tiles[B].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(o,d);return}for(var nt=_.min.y;nt<=_.max.y;nt++)for(var pt=_.min.x;pt<=_.max.x;pt++){var Le=new F(pt,nt);if(Le.z=this._tileZoom,!!this._isValidTile(Le)){var ue=this._tiles[this._tileCoordsToKey(Le)];ue?ue.current=!0:T.push(Le)}}if(T.sort(function(je,kr){return je.distanceTo(C)-kr.distanceTo(C)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var un=document.createDocumentFragment();for(pt=0;pt<T.length;pt++)this._addTile(T[pt],un);this._level.el.appendChild(un)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var d=this._globalTileRange;if(!c.wrapLng&&(o.x<d.min.x||o.x>d.max.x)||!c.wrapLat&&(o.y<d.min.y||o.y>d.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(o);return dt(this.options.bounds).overlaps(m)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,d=this.getTileSize(),m=o.scaleBy(d),_=m.add(d),C=c.unproject(m,o.z),T=c.unproject(_,o.z);return[C,T]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),d=new Pt(c[0],c[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),d=new F(+c[0],+c[1]);return d.z=+c[2],d},_removeTile:function(o){var c=this._tiles[o];c&&($t(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ht(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=p,o.onmousemove=p,tt.ielt9&&this.options.opacity<1&&ln(o,this.options.opacity)},_addTile:function(o,c){var d=this._getTilePos(o),m=this._tileCoordsToKey(o),_=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(_),this.createTile.length<2&&G(a(this._tileReady,this,o,null,_)),ne(_,d),this._tiles[m]={el:_,coords:o,current:!0},c.appendChild(_),this.fire("tileloadstart",{tile:_,coords:o})},_tileReady:function(o,c,d){c&&this.fire("tileerror",{error:c,tile:d,coords:o});var m=this._tileCoordsToKey(o);d=this._tiles[m],d&&(d.loaded=+new Date,this._map._fadeAnimated?(ln(d.el,0),U(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),c||(ht(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new F(this._wrapX?f(o.x,this._wrapX):o.x,this._wrapY?f(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new X(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function r1(o){return new Go(o)}var Cr=Go.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=y(this,c),c.detectRetina&&tt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var d=document.createElement("img");return ot(d,"load",a(this._tileOnLoad,this,c,d)),ot(d,"error",a(this._tileOnError,this,c,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(o),d},getTileUrl:function(o){var c={r:tt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=d),c["-y"]=d}return b(this._url,s(c,this.options))},_tileOnLoad:function(o,c){tt.ielt9?setTimeout(a(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,d){var m=this.options.errorTileUrl;m&&c.getAttribute("src")!==m&&(c.src=m),o(d,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,d=this.options.zoomReverse,m=this.options.zoomOffset;return d&&(o=c-o),o+m},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=p,c.onerror=p,!c.complete)){c.src=M;var d=this._tiles[o].coords;$t(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:d})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",M),Go.prototype._removeTile.call(this,o)},_tileReady:function(o,c,d){if(!(!this._map||d&&d.getAttribute("src")===M))return Go.prototype._tileReady.call(this,o,c,d)}});function kv(o,c){return new Cr(o,c)}var Ev=Cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var d=s({},this.defaultWmsParams);for(var m in c)m in this.options||(d[m]=c[m]);c=y(this,c);var _=c.detectRetina&&tt.retina?2:1,C=this.getTileSize();d.width=C.x*_,d.height=C.y*_,this.wmsParams=d},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Cr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),d=this._crs,m=rt(d.project(c[0]),d.project(c[1])),_=m.min,C=m.max,T=(this._wmsVersion>=1.3&&this._crs===vv?[_.y,_.x,C.y,C.x]:[_.x,_.y,C.x,C.y]).join(","),R=Cr.prototype.getTileUrl.call(this,o);return R+S(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(o,c){return s(this.wmsParams,o),c||this.redraw(),this}});function o1(o,c){return new Ev(o,c)}Cr.WMS=Ev,kv.wms=o1;var ii=wn.extend({options:{padding:.1},initialize:function(o){y(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ht(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var d=this._map.getZoomScale(c,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,c),C=m.multiplyBy(-d).add(_).subtract(this._map._getNewPixelOrigin(o,c));tt.any3d?Ps(this._container,C,d):ne(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),d=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new X(d,d.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pv=ii.extend({options:{tolerance:0},getEvents:function(){var o=ii.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ii.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ot(o,"mousemove",this._onMouseMove,this),ot(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,$t(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var o=this._bounds,c=this._container,d=o.getSize(),m=tt.retina?2:1;ne(c,o.min),c.width=m*d.x,c.height=m*d.y,c.style.width=d.x+"px",c.style.height=d.y+"px",tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ii.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,d=c.next,m=c.prev;d?d.prev=m:this._drawLast=m,m?m.next=d:this._drawFirst=d,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),d=[],m,_;for(_=0;_<c.length;_++){if(m=Number(c[_]),isNaN(m))return;d.push(m)}o.options._dashArray=d}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var d=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)o=m.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var d,m,_,C,T=o._parts,R=T.length,D=this._ctx;if(R){for(D.beginPath(),d=0;d<R;d++){for(m=0,_=T[d].length;m<_;m++)C=T[d][m],D[m?"lineTo":"moveTo"](C.x,C.y);c&&D.closePath()}this._fillStroke(D,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,d=this._ctx,m=Math.max(Math.round(o._radius),1),_=(Math.max(Math.round(o._radiusY),1)||m)/m;_!==1&&(d.save(),d.scale(1,_)),d.beginPath(),d.arc(c.x,c.y/_,m,0,Math.PI*2,!1),_!==1&&d.restore(),this._fillStroke(d,o)}},_fillStroke:function(o,c){var d=c.options;d.fill&&(o.globalAlpha=d.fillOpacity,o.fillStyle=d.fillColor||d.color,o.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=d.opacity,o.lineWidth=d.weight,o.strokeStyle=d.color,o.lineCap=d.lineCap,o.lineJoin=d.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),d,m,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(d))&&(m=d);this._fireEvent(m?[m]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var d,m,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(c)&&(m=d);m!==this._hoveredLayer&&(this._handleMouseOut(o),m&&(ht(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,d){this._map._fireDOMEvent(c,d||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var d=c.next,m=c.prev;if(d)d.prev=m;else return;m?m.next=d:d&&(this._drawFirst=d),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var d=c.next,m=c.prev;if(m)m.next=d;else return;d?d.prev=m:m&&(this._drawLast=m),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Tv(o){return tt.canvas?new Pv(o):null}var Ko=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),a1={_initContainer:function(){this._container=Ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ii.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Ko("shape");ht(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Ko("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;$t(c),o.removeInteractiveTarget(c),delete this._layers[u(o)]},_updateStyle:function(o){var c=o._stroke,d=o._fill,m=o.options,_=o._container;_.stroked=!!m.stroke,_.filled=!!m.fill,m.stroke?(c||(c=o._stroke=Ko("stroke")),_.appendChild(c),c.weight=m.weight+"px",c.color=m.color,c.opacity=m.opacity,m.dashArray?c.dashStyle=k(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=m.lineCap.replace("butt","flat"),c.joinstyle=m.lineJoin):c&&(_.removeChild(c),o._stroke=null),m.fill?(d||(d=o._fill=Ko("fill")),_.appendChild(d),d.color=m.fillColor||m.color,d.opacity=m.fillOpacity):d&&(_.removeChild(d),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),d=Math.round(o._radius),m=Math.round(o._radiusY||d);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+d+","+m+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){vr(o._container)},_bringToBack:function(o){yr(o._container)}},uc=tt.vml?Ko:N_,Yo=ii.extend({_initContainer:function(){this._container=uc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=uc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var o=this._bounds,c=o.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,d.setAttribute("width",c.x),d.setAttribute("height",c.y)),ne(d,o.min),d.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=uc("path");o.options.className&&ht(c,o.options.className),o.options.interactive&&ht(c,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){$t(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,d=o.options;c&&(d.stroke?(c.setAttribute("stroke",d.color),c.setAttribute("stroke-opacity",d.opacity),c.setAttribute("stroke-width",d.weight),c.setAttribute("stroke-linecap",d.lineCap),c.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?c.setAttribute("stroke-dasharray",d.dashArray):c.removeAttribute("stroke-dasharray"),d.dashOffset?c.setAttribute("stroke-dashoffset",d.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),d.fill?(c.setAttribute("fill",d.fillColor||d.color),c.setAttribute("fill-opacity",d.fillOpacity),c.setAttribute("fill-rule",d.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,O_(o._parts,c))},_updateCircle:function(o){var c=o._point,d=Math.max(Math.round(o._radius),1),m=Math.max(Math.round(o._radiusY),1)||d,_="a"+d+","+m+" 0 1,0 ",C=o._empty()?"M0 0":"M"+(c.x-d)+","+c.y+_+d*2+",0 "+_+-d*2+",0 ";this._setPath(o,C)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){vr(o._path)},_bringToBack:function(o){yr(o._path)}});tt.vml&&Yo.include(a1);function Mv(o){return tt.svg||tt.vml?new Yo(o):null}wt.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Tv(o)||Mv(o)}});var Iv=br.extend({initialize:function(o,c){br.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=dt(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function l1(o,c){return new Iv(o,c)}Yo.create=uc,Yo.pointsToPath=O_,ni.geometryToLayer=ic,ni.coordsToLatLng=Fd,ni.coordsToLatLngs=sc,ni.latLngToCoords=zd,ni.latLngsToCoords=rc,ni.getFeature=Sr,ni.asFeature=oc,wt.mergeOptions({boxZoom:!0});var Lv=jn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),jo(),xd(),this._startPoint=this._map.mouseEventToContainerPoint(o),ot(document,{contextmenu:Is,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ct("div","leaflet-zoom-box",this._container),ht(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new X(this._point,this._startPoint),d=c.getSize();ne(this._box,c.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&($t(this._box),Jt(this._container,"leaflet-crosshair")),Wo(),wd(),Lt(document,{contextmenu:Is,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var c=new Pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wt.addInitHook("addHandler","boxZoom",Lv),wt.mergeOptions({doubleClickZoom:!0});var Nv=jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,d=c.getZoom(),m=c.options.zoomDelta,_=o.originalEvent.shiftKey?d-m:d+m;c.options.doubleClickZoom==="center"?c.setZoom(_):c.setZoomAround(o.containerPoint,_)}});wt.addInitHook("addHandler","doubleClickZoom",Nv),wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ov=jn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ai(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ht(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=dt(this._map.options.maxBounds);this._offsetLimit=rt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),d=this._initialWorldOffset,m=this._draggable._newPos.x,_=(m-c+d)%o+c-d,C=(m+c+d)%o-c-d,T=Math.abs(_+d)<Math.abs(C+d)?_:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(o){var c=this._map,d=c.options,m=!d.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),m)c.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,T=d.easeLinearity,R=_.multiplyBy(T/C),D=R.distanceTo([0,0]),B=Math.min(d.inertiaMaxSpeed,D),Y=R.multiplyBy(B/D),nt=B/(d.inertiaDeceleration*T),pt=Y.multiplyBy(-nt/2).round();!pt.x&&!pt.y?c.fire("moveend"):(pt=c._limitOffset(pt,c.options.maxBounds),G(function(){c.panBy(pt,{duration:nt,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});wt.addInitHook("addHandler","dragging",Ov),wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Av=jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ot(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,d=o.scrollTop||c.scrollTop,m=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(m,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},d=this.keyCodes,m,_;for(m=0,_=d.left.length;m<_;m++)c[d.left[m]]=[-1*o,0];for(m=0,_=d.right.length;m<_;m++)c[d.right[m]]=[o,0];for(m=0,_=d.down.length;m<_;m++)c[d.down[m]]=[0,o];for(m=0,_=d.up.length;m<_;m++)c[d.up[m]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},d=this.keyCodes,m,_;for(m=0,_=d.zoomIn.length;m<_;m++)c[d.zoomIn[m]]=o;for(m=0,_=d.zoomOut.length;m<_;m++)c[d.zoomOut[m]]=-o},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,d=this._map,m;if(c in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(m=this._panKeys[c],o.shiftKey&&(m=W(m).multiplyBy(3)),d.options.maxBounds&&(m=d._limitOffset(W(m),d.options.maxBounds)),d.options.worldCopyJump){var _=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(m)));d.panTo(_)}else d.panBy(m)}else if(c in this._zoomKeys)d.setZoom(d.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Is(o)}}});wt.addInitHook("addHandler","keyboard",Av),wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Rv=jn.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=rv(o),d=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var m=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),m),Is(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),d=this._map.options.zoomSnap||0;o._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,C=d?Math.ceil(_/d)*d:_,T=o._limitZoom(c+(this._delta>0?C:-C))-c;this._delta=0,this._startTime=null,T&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+T):o.setZoomAround(this._lastMousePos,c+T))}});wt.addInitHook("addHandler","scrollWheelZoom",Rv);var c1=600;wt.mergeOptions({tapHold:tt.touchNative&&tt.safari&&tt.mobile,tapTolerance:15});var Dv=jn.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new F(c.clientX,c.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",_e),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),c1),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Lt(document,"touchend",_e),Lt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new F(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var d=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});d._simulated=!0,c.target.dispatchEvent(d)}});wt.addInitHook("addHandler","tapHold",Dv),wt.mergeOptions({touchZoom:tt.touch,bounceAtZoomLimits:!0});var Fv=jn.extend({addHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var d=c.mouseEventToContainerPoint(o.touches[0]),m=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(d.add(m)._divideBy(2))),this._startDist=d.distanceTo(m),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),_e(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,d=c.mouseEventToContainerPoint(o.touches[0]),m=c.mouseEventToContainerPoint(o.touches[1]),_=d.distanceTo(m)/this._startDist;if(this._zoom=c.getScaleZoom(_,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&_<1||this._zoom>c.getMaxZoom()&&_>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var C=d._add(m)._divideBy(2)._subtract(this._centerPoint);if(_===1&&C.x===0&&C.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var T=a(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(T,this,!0),_e(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});wt.addInitHook("addHandler","touchZoom",Fv),wt.BoxZoom=Lv,wt.DoubleClickZoom=Nv,wt.Drag=Ov,wt.Keyboard=Av,wt.ScrollWheelZoom=Rv,wt.TapHold=Dv,wt.TouchZoom=Fv,n.Bounds=X,n.Browser=tt,n.CRS=Be,n.Canvas=Pv,n.Circle=Dd,n.CircleMarker=nc,n.Class=q,n.Control=xn,n.DivIcon=Cv,n.DivOverlay=Wn,n.DomEvent=PT,n.DomUtil=kT,n.Draggable=Ai,n.Evented=ut,n.FeatureGroup=ti,n.GeoJSON=ni,n.GridLayer=Go,n.Handler=jn,n.Icon=wr,n.ImageOverlay=ac,n.LatLng=ft,n.LatLngBounds=Pt,n.Layer=wn,n.LayerGroup=xr,n.LineUtil=jT,n.Map=wt,n.Marker=ec,n.Mixin=AT,n.Path=Ri,n.Point=F,n.PolyUtil=RT,n.Polygon=br,n.Polyline=ei,n.Popup=lc,n.PosAnimation=ov,n.Projection=WT,n.Rectangle=Iv,n.Renderer=ii,n.SVG=Yo,n.SVGOverlay=Sv,n.TileLayer=Cr,n.Tooltip=cc,n.Transformation=ld,n.Util=bt,n.VideoOverlay=bv,n.bind=a,n.bounds=rt,n.canvas=Tv,n.circle=YT,n.circleMarker=KT,n.control=Uo,n.divIcon=s1,n.extend=s,n.featureGroup=$T,n.geoJSON=wv,n.geoJson=XT,n.gridLayer=r1,n.icon=ZT,n.imageOverlay=JT,n.latLng=et,n.latLngBounds=dt,n.layerGroup=UT,n.map=TT,n.marker=GT,n.point=W,n.polygon=QT,n.polyline=qT,n.popup=n1,n.rectangle=l1,n.setOptions=y,n.stamp=u,n.svg=Mv,n.svgOverlay=e1,n.tileLayer=kv,n.tooltip=i1,n.transformation=Do,n.version=i,n.videoOverlay=t1;var u1=window.L;n.noConflict=function(){return window.L=u1,this},window.L=n})})(Em,Em.exports);var ZP=Em.exports;const GP=Pm(ZP),y5=Uw({__proto__:null,default:GP},[ZP]),M_=document.createElement("link");M_.href="https://fonts.googleapis.com/icon?family=Material+Icons";M_.rel="stylesheet";document.head.appendChild(M_);const I_=document.createElement("link");I_.href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";I_.rel="stylesheet";document.head.appendChild(I_);GP.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const KP=document.getElementById("root");if(!KP)throw new Error("Root element not found! Ensure index.html has <div id='root'></div>");const x5=iC(KP);x5.render(E.jsx(v5,{}));
